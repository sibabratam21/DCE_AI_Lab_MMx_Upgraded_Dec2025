var aI=Object.defineProperty;var oI=(e,t,n)=>t in e?aI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vp=(e,t,n)=>oI(e,typeof t!="symbol"?t+"":t,n);function lI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yp={exports:{}},ns={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function sI(){if(KS)return ns;KS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var s=null;if(l!==void 0&&(s=""+l),a.key!==void 0&&(s=""+a.key),"key"in a){l={};for(var c in a)c!=="key"&&(l[c]=a[c])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:s,ref:a!==void 0?a:null,props:l}}return ns.Fragment=t,ns.jsx=n,ns.jsxs=n,ns}var JS;function uI(){return JS||(JS=1,yp.exports=sI()),yp.exports}var w=uI(),xp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function cI(){if(WS)return De;WS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function E(L,W,Q){this.props=L,this.context=W,this.refs=C,this.updater=Q||S}E.prototype.isReactComponent={},E.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},E.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function _(){}_.prototype=E.prototype;function R(L,W,Q){this.props=L,this.context=W,this.refs=C,this.updater=Q||S}var N=R.prototype=new _;N.constructor=R,T(N,E.prototype),N.isPureReactComponent=!0;var O=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function B(L,W,Q,oe,ye,_e){return Q=_e.ref,{$$typeof:e,type:L,key:W,ref:Q!==void 0?Q:null,props:_e}}function V(L,W){return B(L.type,W,void 0,void 0,void 0,L.props)}function z(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function te(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Q){return W[Q]})}var $=/\/+/g;function K(L,W){return typeof L=="object"&&L!==null&&L.key!=null?te(""+L.key):W.toString(36)}function de(){}function Ce(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(de,de):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ve(L,W,Q,oe,ye){var _e=typeof L;(_e==="undefined"||_e==="boolean")&&(L=null);var we=!1;if(L===null)we=!0;else switch(_e){case"bigint":case"string":case"number":we=!0;break;case"object":switch(L.$$typeof){case e:case t:we=!0;break;case h:return we=L._init,ve(we(L._payload),W,Q,oe,ye)}}if(we)return ye=ye(L),we=oe===""?"."+K(L,0):oe,O(ye)?(Q="",we!=null&&(Q=we.replace($,"$&/")+"/"),ve(ye,W,Q,"",function(se){return se})):ye!=null&&(z(ye)&&(ye=V(ye,Q+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace($,"$&/")+"/")+we)),W.push(ye)),1;we=0;var At=oe===""?".":oe+":";if(O(L))for(var We=0;We<L.length;We++)oe=L[We],_e=At+K(oe,We),we+=ve(oe,W,Q,_e,ye);else if(We=x(L),typeof We=="function")for(L=We.call(L),We=0;!(oe=L.next()).done;)oe=oe.value,_e=At+K(oe,We++),we+=ve(oe,W,Q,_e,ye);else if(_e==="object"){if(typeof L.then=="function")return ve(Ce(L),W,Q,oe,ye);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return we}function F(L,W,Q){if(L==null)return L;var oe=[],ye=0;return ve(L,oe,"","",function(_e){return W.call(Q,_e,ye++)}),oe}function ne(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(Q){(L._status===0||L._status===-1)&&(L._status=1,L._result=Q)},function(Q){(L._status===0||L._status===-1)&&(L._status=2,L._result=Q)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Te(){}return De.Children={map:F,forEach:function(L,W,Q){F(L,function(){W.apply(this,arguments)},Q)},count:function(L){var W=0;return F(L,function(){W++}),W},toArray:function(L){return F(L,function(W){return W})||[]},only:function(L){if(!z(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},De.Component=E,De.Fragment=n,De.Profiler=a,De.PureComponent=R,De.StrictMode=r,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,De.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},De.cache=function(L){return function(){return L.apply(null,arguments)}},De.cloneElement=function(L,W,Q){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var oe=T({},L.props),ye=L.key,_e=void 0;if(W!=null)for(we in W.ref!==void 0&&(_e=void 0),W.key!==void 0&&(ye=""+W.key),W)!k.call(W,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&W.ref===void 0||(oe[we]=W[we]);var we=arguments.length-2;if(we===1)oe.children=Q;else if(1<we){for(var At=Array(we),We=0;We<we;We++)At[We]=arguments[We+2];oe.children=At}return B(L.type,ye,void 0,void 0,_e,oe)},De.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},De.createElement=function(L,W,Q){var oe,ye={},_e=null;if(W!=null)for(oe in W.key!==void 0&&(_e=""+W.key),W)k.call(W,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ye[oe]=W[oe]);var we=arguments.length-2;if(we===1)ye.children=Q;else if(1<we){for(var At=Array(we),We=0;We<we;We++)At[We]=arguments[We+2];ye.children=At}if(L&&L.defaultProps)for(oe in we=L.defaultProps,we)ye[oe]===void 0&&(ye[oe]=we[oe]);return B(L,_e,void 0,void 0,null,ye)},De.createRef=function(){return{current:null}},De.forwardRef=function(L){return{$$typeof:c,render:L}},De.isValidElement=z,De.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:ne}},De.memo=function(L,W){return{$$typeof:d,type:L,compare:W===void 0?null:W}},De.startTransition=function(L){var W=D.T,Q={};D.T=Q;try{var oe=L(),ye=D.S;ye!==null&&ye(Q,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Te,fe)}catch(_e){fe(_e)}finally{D.T=W}},De.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},De.use=function(L){return D.H.use(L)},De.useActionState=function(L,W,Q){return D.H.useActionState(L,W,Q)},De.useCallback=function(L,W){return D.H.useCallback(L,W)},De.useContext=function(L){return D.H.useContext(L)},De.useDebugValue=function(){},De.useDeferredValue=function(L,W){return D.H.useDeferredValue(L,W)},De.useEffect=function(L,W,Q){var oe=D.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(L,W)},De.useId=function(){return D.H.useId()},De.useImperativeHandle=function(L,W,Q){return D.H.useImperativeHandle(L,W,Q)},De.useInsertionEffect=function(L,W){return D.H.useInsertionEffect(L,W)},De.useLayoutEffect=function(L,W){return D.H.useLayoutEffect(L,W)},De.useMemo=function(L,W){return D.H.useMemo(L,W)},De.useOptimistic=function(L,W){return D.H.useOptimistic(L,W)},De.useReducer=function(L,W,Q){return D.H.useReducer(L,W,Q)},De.useRef=function(L){return D.H.useRef(L)},De.useState=function(L){return D.H.useState(L)},De.useSyncExternalStore=function(L,W,Q){return D.H.useSyncExternalStore(L,W,Q)},De.useTransition=function(){return D.H.useTransition()},De.version="19.1.1",De}var XS;function Yo(){return XS||(XS=1,xp.exports=cI()),xp.exports}var M=Yo();const Hr=Cr(M),fI=lI({__proto__:null,default:Hr},[M]);var bp={exports:{}},rs={},Sp={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function dI(){return ZS||(ZS=1,function(e){function t(F,ne){var fe=F.length;F.push(ne);e:for(;0<fe;){var Te=fe-1>>>1,L=F[Te];if(0<a(L,ne))F[Te]=ne,F[fe]=L,fe=Te;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ne=F[0],fe=F.pop();if(fe!==ne){F[0]=fe;e:for(var Te=0,L=F.length,W=L>>>1;Te<W;){var Q=2*(Te+1)-1,oe=F[Q],ye=Q+1,_e=F[ye];if(0>a(oe,fe))ye<L&&0>a(_e,oe)?(F[Te]=_e,F[ye]=fe,Te=ye):(F[Te]=oe,F[Q]=fe,Te=Q);else if(ye<L&&0>a(_e,fe))F[Te]=_e,F[ye]=fe,Te=ye;else break e}}return ne}function a(F,ne){var fe=F.sortIndex-ne.sortIndex;return fe!==0?fe:F.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var p=[],d=[],h=1,v=null,x=3,S=!1,T=!1,C=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function O(F){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=F)r(d),ne.sortIndex=ne.expirationTime,t(p,ne);else break;ne=n(d)}}function D(F){if(C=!1,O(F),!T)if(n(p)!==null)T=!0,k||(k=!0,K());else{var ne=n(d);ne!==null&&ve(D,ne.startTime-F)}}var k=!1,B=-1,V=5,z=-1;function te(){return E?!0:!(e.unstable_now()-z<V)}function $(){if(E=!1,k){var F=e.unstable_now();z=F;var ne=!0;try{e:{T=!1,C&&(C=!1,R(B),B=-1),S=!0;var fe=x;try{t:{for(O(F),v=n(p);v!==null&&!(v.expirationTime>F&&te());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,x=v.priorityLevel;var L=Te(v.expirationTime<=F);if(F=e.unstable_now(),typeof L=="function"){v.callback=L,O(F),ne=!0;break t}v===n(p)&&r(p),O(F)}else r(p);v=n(p)}if(v!==null)ne=!0;else{var W=n(d);W!==null&&ve(D,W.startTime-F),ne=!1}}break e}finally{v=null,x=fe,S=!1}ne=void 0}}finally{ne?K():k=!1}}}var K;if(typeof N=="function")K=function(){N($)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ce=de.port2;de.port1.onmessage=$,K=function(){Ce.postMessage(null)}}else K=function(){_($,0)};function ve(F,ne){B=_(function(){F(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var fe=x;x=ne;try{return F()}finally{x=fe}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=x;x=F;try{return ne()}finally{x=fe}},e.unstable_scheduleCallback=function(F,ne,fe){var Te=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Te+fe:Te):fe=Te,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,F={id:h++,callback:ne,priorityLevel:F,startTime:fe,expirationTime:L,sortIndex:-1},fe>Te?(F.sortIndex=fe,t(d,F),n(p)===null&&F===n(d)&&(C?(R(B),B=-1):C=!0,ve(D,fe-Te))):(F.sortIndex=L,t(p,F),T||S||(T=!0,k||(k=!0,K()))),F},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(F){var ne=x;return function(){var fe=x;x=ne;try{return F.apply(this,arguments)}finally{x=fe}}}}(Tp)),Tp}var QS;function mI(){return QS||(QS=1,Sp.exports=dI()),Sp.exports}var Cp={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function pI(){if(eT)return Zt;eT=1;var e=Yo();function t(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,d,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:d,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(p,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(p,d,null,h)},Zt.flushSync=function(p){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,p)return p()}finally{s.T=d,r.p=h,r.d.f()}},Zt.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(p,d))},Zt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Zt.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var h=d.as,v=c(h,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:S}):h==="script"&&r.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(p,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(p)},Zt.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,v=c(h,d.crossOrigin);r.d.L(p,h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(p,d){if(typeof p=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(p)},Zt.requestFormReset=function(p){r.d.r(p)},Zt.unstable_batchedUpdates=function(p,d){return p(d)},Zt.useFormState=function(p,d,h){return s.H.useFormState(p,d,h)},Zt.useFormStatus=function(){return s.H.useHostTransitionStatus()},Zt.version="19.1.1",Zt}var tT;function M1(){if(tT)return Cp.exports;tT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cp.exports=pI(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function hI(){if(nT)return rs;nT=1;var e=mI(),t=Yo(),n=M1();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function s(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(l(i)!==i)throw Error(r(188))}function p(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,g=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(g=y.return,g!==null){u=g;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return c(y),i;if(b===g)return c(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==g.return)u=y,g=b;else{for(var A=!1,P=y.child;P;){if(P===u){A=!0,u=y,g=b;break}if(P===g){A=!0,g=y,u=b;break}P=P.sibling}if(!A){for(P=b.child;P;){if(P===u){A=!0,u=b,g=y;break}if(P===g){A=!0,g=b,u=y;break}P=P.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var de=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===de?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case N:return(i.displayName||"Context")+".Provider";case R:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return o=i.displayName||null,o!==null?o:Ce(i.type)||"Memo";case V:o=i._payload,i=i._init;try{return Ce(i(o))}catch{}}return null}var ve=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Te=[],L=-1;function W(i){return{current:i}}function Q(i){0>L||(i.current=Te[L],Te[L]=null,L--)}function oe(i,o){L++,Te[L]=i.current,i.current=o}var ye=W(null),_e=W(null),we=W(null),At=W(null);function We(i,o){switch(oe(we,o),oe(_e,i),oe(ye,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?TS(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=TS(o),i=CS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(ye),oe(ye,i)}function se(){Q(ye),Q(_e),Q(we)}function Re(i){i.memoizedState!==null&&oe(At,i);var o=ye.current,u=CS(o,i.type);o!==u&&(oe(_e,i),oe(ye,u))}function Pe(i){_e.current===i&&(Q(ye),Q(_e)),At.current===i&&(Q(At),Xl._currentValue=fe)}var re=Object.prototype.hasOwnProperty,ut=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,Dt=e.unstable_shouldYield,Ot=e.unstable_requestPaint,xt=e.unstable_now,zi=e.unstable_getCurrentPriorityLevel,Hs=e.unstable_ImmediatePriority,ce=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,nd=e.unstable_LowPriority,js=e.unstable_IdlePriority,rd=e.log,id=e.unstable_setDisableYieldValue,Gi=null,It=null;function dr(i){if(typeof rd=="function"&&id(i),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Gi,i)}catch{}}var kt=Math.clz32?Math.clz32:od,ad=Math.log,Ys=Math.LN2;function od(i){return i>>>=0,i===0?32:31-(ad(i)/Ys|0)|0}var La=256,Ua=4194304;function Ar(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ba(i,o,u){var g=i.pendingLanes;if(g===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var P=g&134217727;return P!==0?(g=P&~b,g!==0?y=Ar(g):(A&=P,A!==0?y=Ar(A):u||(u=P&~i,u!==0&&(y=Ar(u))))):(P=g&~b,P!==0?y=Ar(P):A!==0?y=Ar(A):u||(u=g&~i,u!==0&&(y=Ar(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function ae(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function le(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var i=La;return La<<=1,(La&4194048)===0&&(La=256),i}function xe(){var i=Ua;return Ua<<=1,(Ua&62914560)===0&&(Ua=4194304),i}function ke(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Oe(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rn(i,o,u,g,y,b){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var P=i.entanglements,I=i.expirationTimes,H=i.hiddenUpdates;for(u=A&~u;0<u;){var X=31-kt(u),ee=1<<X;P[X]=0,I[X]=-1;var j=H[X];if(j!==null)for(H[X]=null,X=0;X<j.length;X++){var Y=j[X];Y!==null&&(Y.lane&=-536870913)}u&=~ee}g!==0&&Fi(i,g,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~o))}function Fi(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var g=31-kt(o);i.entangledLanes|=o,i.entanglements[g]=i.entanglements[g]|1073741824|u&4194090}function Hi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var g=31-kt(u),y=1<<g;y&o|i[g]&o&&(i[g]|=o),u&=~y}}function ld(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function sd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function u0(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:$S(i.type))}function KP(i,o){var u=ne.p;try{return ne.p=i,o()}finally{ne.p=u}}var ii=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ii,ln="__reactProps$"+ii,qa="__reactContainer$"+ii,ud="__reactEvents$"+ii,JP="__reactListeners$"+ii,WP="__reactHandles$"+ii,c0="__reactResources$"+ii,sl="__reactMarker$"+ii;function cd(i){delete i[Wt],delete i[ln],delete i[ud],delete i[JP],delete i[WP]}function Va(i){var o=i[Wt];if(o)return o;for(var u=i.parentNode;u;){if(o=u[qa]||u[Wt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=MS(i);i!==null;){if(u=i[Wt])return u;i=MS(i)}return o}i=u,u=i.parentNode}return null}function za(i){if(i=i[Wt]||i[qa]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function ul(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function $a(i){var o=i[c0];return o||(o=i[c0]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Lt(i){i[sl]=!0}var f0=new Set,d0={};function ji(i,o){Ga(i,o),Ga(i+"Capture",o)}function Ga(i,o){for(d0[i]=o,i=0;i<o.length;i++)f0.add(o[i])}var XP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),m0={},p0={};function ZP(i){return re.call(p0,i)?!0:re.call(m0,i)?!1:XP.test(i)?p0[i]=!0:(m0[i]=!0,!1)}function Ks(i,o,u){if(ZP(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Js(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function wr(i,o,u,g){if(g===null)i.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+g)}}var fd,h0;function Fa(i){if(fd===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);fd=o&&o[1]||"",h0=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fd+i+h0}var dd=!1;function md(i,o){if(!i||dd)return"";dd=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var j=Y}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(Y){j=Y}i.call(ee.prototype)}}else{try{throw Error()}catch(Y){j=Y}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&j&&typeof Y.stack=="string")return[Y.stack,j.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=g.DetermineComponentFrameRoot(),A=b[0],P=b[1];if(A&&P){var I=A.split(`
`),H=P.split(`
`);for(y=g=0;g<I.length&&!I[g].includes("DetermineComponentFrameRoot");)g++;for(;y<H.length&&!H[y].includes("DetermineComponentFrameRoot");)y++;if(g===I.length||y===H.length)for(g=I.length-1,y=H.length-1;1<=g&&0<=y&&I[g]!==H[y];)y--;for(;1<=g&&0<=y;g--,y--)if(I[g]!==H[y]){if(g!==1||y!==1)do if(g--,y--,0>y||I[g]!==H[y]){var X=`
`+I[g].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=g&&0<=y);break}}}finally{dd=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Fa(u):""}function QP(i){switch(i.tag){case 26:case 27:case 5:return Fa(i.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 15:return md(i.type,!1);case 11:return md(i.type.render,!1);case 1:return md(i.type,!0);case 31:return Fa("Activity");default:return""}}function g0(i){try{var o="";do o+=QP(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function v0(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function eD(i){var o=v0(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),g=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){g=""+A,b.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ws(i){i._valueTracker||(i._valueTracker=eD(i))}function y0(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),g="";return i&&(g=v0(i)?i.checked?"true":"false":i.value),i=g,i!==u?(o.setValue(i),!0):!1}function Xs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var tD=/[\n"\\]/g;function Un(i){return i.replace(tD,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function pd(i,o,u,g,y,b,A,P){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ln(o)):i.value!==""+Ln(o)&&(i.value=""+Ln(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?hd(i,A,Ln(o)):u!=null?hd(i,A,Ln(u)):g!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Ln(P):i.removeAttribute("name")}function x0(i,o,u,g,y,b,A,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,P||o===i.value||(i.value=o),i.defaultValue=o}g=g??y,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=P?i.checked:!!g,i.defaultChecked=!!g,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function hd(i,o,u){o==="number"&&Xs(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ha(i,o,u,g){if(i=i.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=o.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&g&&(i[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,g&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function b0(i,o,u){if(o!=null&&(o=""+Ln(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Ln(u):""}function S0(i,o,u,g){if(o==null){if(g!=null){if(u!=null)throw Error(r(92));if(ve(g)){if(1<g.length)throw Error(r(93));g=g[0]}u=g}u==null&&(u=""),o=u}u=Ln(o),i.defaultValue=u,g=i.textContent,g===u&&g!==""&&g!==null&&(i.value=g)}function ja(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var nD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function T0(i,o,u){var g=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":g?i.setProperty(o,u):typeof u!="number"||u===0||nD.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function C0(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var y in o)g=o[y],o.hasOwnProperty(y)&&u[y]!==g&&T0(i,y,g)}else for(var b in o)o.hasOwnProperty(b)&&T0(i,b,o[b])}function gd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(i){return iD.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vd=null;function yd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ya=null,Ka=null;function E0(i){var o=za(i);if(o&&(i=o.stateNode)){var u=i[ln]||null;e:switch(i=o.stateNode,o.type){case"input":if(pd(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Un(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var g=u[o];if(g!==i&&g.form===i.form){var y=g[ln]||null;if(!y)throw Error(r(90));pd(g,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)g=u[o],g.form===i.form&&y0(g)}break e;case"textarea":b0(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ha(i,!!u.multiple,o,!1)}}}var xd=!1;function A0(i,o,u){if(xd)return i(o,u);xd=!0;try{var g=i(o);return g}finally{if(xd=!1,(Ya!==null||Ka!==null)&&(Uu(),Ya&&(o=Ya,i=Ka,Ka=Ya=null,E0(o),i)))for(o=0;o<i.length;o++)E0(i[o])}}function cl(i,o){var u=i.stateNode;if(u===null)return null;var g=u[ln]||null;if(g===null)return null;u=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bd=!1;if(Mr)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){bd=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{bd=!1}var ai=null,Sd=null,Qs=null;function w0(){if(Qs)return Qs;var i,o=Sd,u=o.length,g,y="value"in ai?ai.value:ai.textContent,b=y.length;for(i=0;i<u&&o[i]===y[i];i++);var A=u-i;for(g=1;g<=A&&o[u-g]===y[b-g];g++);return Qs=y.slice(i,1<g?1-g:void 0)}function eu(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function tu(){return!0}function M0(){return!1}function sn(i){function o(u,g,y,b,A){this._reactName=u,this._targetInst=y,this.type=g,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?tu:M0,this.isPropagationStopped=M0,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),o}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=sn(Yi),dl=h({},Yi,{view:0,detail:0}),aD=sn(dl),Td,Cd,ml,ru=h({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ml&&(ml&&i.type==="mousemove"?(Td=i.screenX-ml.screenX,Cd=i.screenY-ml.screenY):Cd=Td=0,ml=i),Td)},movementY:function(i){return"movementY"in i?i.movementY:Cd}}),_0=sn(ru),oD=h({},ru,{dataTransfer:0}),lD=sn(oD),sD=h({},dl,{relatedTarget:0}),Ed=sn(sD),uD=h({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),cD=sn(uD),fD=h({},Yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dD=sn(fD),mD=h({},Yi,{data:0}),N0=sn(mD),pD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=gD[i])?!!o[i]:!1}function Ad(){return vD}var yD=h({},dl,{key:function(i){if(i.key){var o=pD[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=eu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hD[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(i){return i.type==="keypress"?eu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?eu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xD=sn(yD),bD=h({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=sn(bD),SD=h({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),TD=sn(SD),CD=h({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ED=sn(CD),AD=h({},ru,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wD=sn(AD),MD=h({},Yi,{newState:0,oldState:0}),_D=sn(MD),ND=[9,13,27,32],wd=Mr&&"CompositionEvent"in window,pl=null;Mr&&"documentMode"in document&&(pl=document.documentMode);var RD=Mr&&"TextEvent"in window&&!pl,P0=Mr&&(!wd||pl&&8<pl&&11>=pl),D0=" ",O0=!1;function I0(i,o){switch(i){case"keyup":return ND.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ja=!1;function PD(i,o){switch(i){case"compositionend":return k0(o);case"keypress":return o.which!==32?null:(O0=!0,D0);case"textInput":return i=o.data,i===D0&&O0?null:i;default:return null}}function DD(i,o){if(Ja)return i==="compositionend"||!wd&&I0(i,o)?(i=w0(),Qs=Sd=ai=null,Ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return P0&&o.locale!=="ko"?null:o.data;default:return null}}var OD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!OD[i.type]:o==="textarea"}function U0(i,o,u,g){Ya?Ka?Ka.push(g):Ka=[g]:Ya=g,o=Gu(o,"onChange"),0<o.length&&(u=new nu("onChange","change",null,u,g),i.push({event:u,listeners:o}))}var hl=null,gl=null;function ID(i){vS(i,0)}function iu(i){var o=ul(i);if(y0(o))return i}function B0(i,o){if(i==="change")return o}var q0=!1;if(Mr){var Md;if(Mr){var _d="oninput"in document;if(!_d){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),_d=typeof V0.oninput=="function"}Md=_d}else Md=!1;q0=Md&&(!document.documentMode||9<document.documentMode)}function z0(){hl&&(hl.detachEvent("onpropertychange",$0),gl=hl=null)}function $0(i){if(i.propertyName==="value"&&iu(gl)){var o=[];U0(o,gl,i,yd(i)),A0(ID,o)}}function kD(i,o,u){i==="focusin"?(z0(),hl=o,gl=u,hl.attachEvent("onpropertychange",$0)):i==="focusout"&&z0()}function LD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return iu(gl)}function UD(i,o){if(i==="click")return iu(o)}function BD(i,o){if(i==="input"||i==="change")return iu(o)}function qD(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var yn=typeof Object.is=="function"?Object.is:qD;function vl(i,o){if(yn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),g=Object.keys(o);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var y=u[g];if(!re.call(o,y)||!yn(i[y],o[y]))return!1}return!0}function G0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function F0(i,o){var u=G0(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=o&&g>=o)return{node:u,offset:o-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=G0(u)}}function H0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?H0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function j0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Xs(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Xs(i.document)}return o}function Nd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var VD=Mr&&"documentMode"in document&&11>=document.documentMode,Wa=null,Rd=null,yl=null,Pd=!1;function Y0(i,o,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Pd||Wa==null||Wa!==Xs(g)||(g=Wa,"selectionStart"in g&&Nd(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),yl&&vl(yl,g)||(yl=g,g=Gu(Rd,"onSelect"),0<g.length&&(o=new nu("onSelect","select",null,o,u),i.push({event:o,listeners:g}),o.target=Wa)))}function Ki(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Xa={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},Dd={},K0={};Mr&&(K0=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Ji(i){if(Dd[i])return Dd[i];if(!Xa[i])return i;var o=Xa[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in K0)return Dd[i]=o[u];return i}var J0=Ji("animationend"),W0=Ji("animationiteration"),X0=Ji("animationstart"),zD=Ji("transitionrun"),$D=Ji("transitionstart"),GD=Ji("transitioncancel"),Z0=Ji("transitionend"),Q0=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function nr(i,o){Q0.set(i,o),ji(o,[i])}var ex=new WeakMap;function Bn(i,o){if(typeof i=="object"&&i!==null){var u=ex.get(i);return u!==void 0?u:(o={value:i,source:o,stack:g0(o)},ex.set(i,o),o)}return{value:i,source:o,stack:g0(o)}}var qn=[],Za=0,Id=0;function au(){for(var i=Za,o=Id=Za=0;o<i;){var u=qn[o];qn[o++]=null;var g=qn[o];qn[o++]=null;var y=qn[o];qn[o++]=null;var b=qn[o];if(qn[o++]=null,g!==null&&y!==null){var A=g.pending;A===null?y.next=y:(y.next=A.next,A.next=y),g.pending=y}b!==0&&tx(u,y,b)}}function ou(i,o,u,g){qn[Za++]=i,qn[Za++]=o,qn[Za++]=u,qn[Za++]=g,Id|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function kd(i,o,u,g){return ou(i,o,u,g),lu(i)}function Qa(i,o){return ou(i,null,null,o),lu(i)}function tx(i,o,u){i.lanes|=u;var g=i.alternate;g!==null&&(g.lanes|=u);for(var y=!1,b=i.return;b!==null;)b.childLanes|=u,g=b.alternate,g!==null&&(g.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&o!==null&&(y=31-kt(u),i=b.hiddenUpdates,g=i[y],g===null?i[y]=[o]:g.push(o),o.lane=u|536870912),b):null}function lu(i){if(50<Gl)throw Gl=0,zm=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var eo={};function FD(i,o,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,o,u,g){return new FD(i,o,u,g)}function Ld(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _r(i,o){var u=i.alternate;return u===null?(u=xn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function nx(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function su(i,o,u,g,y,b){var A=0;if(g=i,typeof i=="function")Ld(i)&&(A=1);else if(typeof i=="string")A=jO(i,u,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=xn(31,u,o,y),i.elementType=z,i.lanes=b,i;case T:return Wi(u.children,y,b,o);case C:A=8,y|=24;break;case E:return i=xn(12,u,o,y|2),i.elementType=E,i.lanes=b,i;case D:return i=xn(13,u,o,y),i.elementType=D,i.lanes=b,i;case k:return i=xn(19,u,o,y),i.elementType=k,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case N:A=10;break e;case R:A=9;break e;case O:A=11;break e;case B:A=14;break e;case V:A=16,g=null;break e}A=29,u=Error(r(130,i===null?"null":typeof i,"")),g=null}return o=xn(A,u,o,y),o.elementType=i,o.type=g,o.lanes=b,o}function Wi(i,o,u,g){return i=xn(7,i,g,o),i.lanes=u,i}function Ud(i,o,u){return i=xn(6,i,null,o),i.lanes=u,i}function Bd(i,o,u){return o=xn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var to=[],no=0,uu=null,cu=0,Vn=[],zn=0,Xi=null,Nr=1,Rr="";function Zi(i,o){to[no++]=cu,to[no++]=uu,uu=i,cu=o}function rx(i,o,u){Vn[zn++]=Nr,Vn[zn++]=Rr,Vn[zn++]=Xi,Xi=i;var g=Nr;i=Rr;var y=32-kt(g)-1;g&=~(1<<y),u+=1;var b=32-kt(o)+y;if(30<b){var A=y-y%5;b=(g&(1<<A)-1).toString(32),g>>=A,y-=A,Nr=1<<32-kt(o)+y|u<<y|g,Rr=b+i}else Nr=1<<b|u<<y|g,Rr=i}function qd(i){i.return!==null&&(Zi(i,1),rx(i,1,0))}function Vd(i){for(;i===uu;)uu=to[--no],to[no]=null,cu=to[--no],to[no]=null;for(;i===Xi;)Xi=Vn[--zn],Vn[zn]=null,Rr=Vn[--zn],Vn[zn]=null,Nr=Vn[--zn],Vn[zn]=null}var an=null,mt=null,Ge=!1,Qi=null,mr=!1,zd=Error(r(519));function ea(i){var o=Error(r(418,""));throw Sl(Bn(o,i)),zd}function ix(i){var o=i.stateNode,u=i.type,g=i.memoizedProps;switch(o[Wt]=i,o[ln]=g,u){case"dialog":Be("cancel",o),Be("close",o);break;case"iframe":case"object":case"embed":Be("load",o);break;case"video":case"audio":for(u=0;u<Hl.length;u++)Be(Hl[u],o);break;case"source":Be("error",o);break;case"img":case"image":case"link":Be("error",o),Be("load",o);break;case"details":Be("toggle",o);break;case"input":Be("invalid",o),x0(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Ws(o);break;case"select":Be("invalid",o);break;case"textarea":Be("invalid",o),S0(o,g.value,g.defaultValue,g.children),Ws(o)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||g.suppressHydrationWarning===!0||SS(o.textContent,u)?(g.popover!=null&&(Be("beforetoggle",o),Be("toggle",o)),g.onScroll!=null&&Be("scroll",o),g.onScrollEnd!=null&&Be("scrollend",o),g.onClick!=null&&(o.onclick=Fu),o=!0):o=!1,o||ea(i)}function ax(i){for(an=i.return;an;)switch(an.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:an=an.return}}function xl(i){if(i!==an)return!1;if(!Ge)return ax(i),Ge=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||rp(i.type,i.memoizedProps)),u=!u),u&&mt&&ea(i),ax(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){mt=ir(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}mt=null}}else o===27?(o=mt,Si(i.type)?(i=lp,lp=null,mt=i):mt=o):mt=an?ir(i.stateNode.nextSibling):null;return!0}function bl(){mt=an=null,Ge=!1}function ox(){var i=Qi;return i!==null&&(fn===null?fn=i:fn.push.apply(fn,i),Qi=null),i}function Sl(i){Qi===null?Qi=[i]:Qi.push(i)}var $d=W(null),ta=null,Pr=null;function oi(i,o,u){oe($d,o._currentValue),o._currentValue=u}function Dr(i){i._currentValue=$d.current,Q($d)}function Gd(i,o,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),i===u)break;i=i.return}}function Fd(i,o,u,g){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=y;for(var I=0;I<o.length;I++)if(P.context===o[I]){b.lanes|=u,P=b.alternate,P!==null&&(P.lanes|=u),Gd(b.return,u,i),g||(A=null);break e}b=P.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(r(341));A.lanes|=u,b=A.alternate,b!==null&&(b.lanes|=u),Gd(A,u,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function Tl(i,o,u,g){i=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=y.type;yn(y.pendingProps.value,A.value)||(i!==null?i.push(P):i=[P])}}else if(y===At.current){if(A=y.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Xl):i=[Xl])}y=y.return}i!==null&&Fd(o,i,u,g),o.flags|=262144}function fu(i){for(i=i.firstContext;i!==null;){if(!yn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function na(i){ta=i,Pr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return lx(ta,i)}function du(i,o){return ta===null&&na(i),lx(i,o)}function lx(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Pr===null){if(i===null)throw Error(r(308));Pr=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Pr=Pr.next=o;return u}var HD=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,g){i.push(g)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},jD=e.unstable_scheduleCallback,YD=e.unstable_NormalPriority,wt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new HD,data:new Map,refCount:0}}function Cl(i){i.refCount--,i.refCount===0&&jD(YD,function(){i.controller.abort()})}var El=null,jd=0,ro=0,io=null;function KD(i,o){if(El===null){var u=El=[];jd=0,ro=Km(),io={status:"pending",value:void 0,then:function(g){u.push(g)}}}return jd++,o.then(sx,sx),o}function sx(){if(--jd===0&&El!==null){io!==null&&(io.status="fulfilled");var i=El;El=null,ro=0,io=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function JD(i,o){var u=[],g={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){g.status="fulfilled",g.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(g.status="rejected",g.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),g}var ux=F.S;F.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&KD(i,o),ux!==null&&ux(i,o)};var ra=W(null);function Yd(){var i=ra.current;return i!==null?i:rt.pooledCache}function mu(i,o){o===null?oe(ra,ra.current):oe(ra,o.pool)}function cx(){var i=Yd();return i===null?null:{parent:wt._currentValue,pool:i}}var Al=Error(r(460)),fx=Error(r(474)),pu=Error(r(542)),Kd={then:function(){}};function dx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hu(){}function mx(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(hu,hu),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hx(i),i;default:if(typeof o.status=="string")o.then(hu,hu);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(g){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=g}},function(g){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hx(i),i}throw wl=o,Al}}var wl=null;function px(){if(wl===null)throw Error(r(459));var i=wl;return wl=null,i}function hx(i){if(i===Al||i===pu)throw Error(r(483))}var li=!1;function Jd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function si(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ui(i,o,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(je&2)!==0){var y=g.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),g.pending=o,o=lu(i),tx(i,null,u),o}return ou(i,g,o,u),lu(i)}function Ml(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var g=o.lanes;g&=i.pendingLanes,u|=g,o.lanes=u,Hi(i,u)}}function Xd(i,o){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:g.shared,callbacks:g.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Zd=!1;function _l(){if(Zd){var i=io;if(i!==null)throw i}}function Nl(i,o,u,g){Zd=!1;var y=i.updateQueue;li=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var I=P,H=I.next;I.next=null,A===null?b=H:A.next=H,A=I;var X=i.alternate;X!==null&&(X=X.updateQueue,P=X.lastBaseUpdate,P!==A&&(P===null?X.firstBaseUpdate=H:P.next=H,X.lastBaseUpdate=I))}if(b!==null){var ee=y.baseState;A=0,X=H=I=null,P=b;do{var j=P.lane&-536870913,Y=j!==P.lane;if(Y?(qe&j)===j:(g&j)===j){j!==0&&j===ro&&(Zd=!0),X!==null&&(X=X.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Me=i,Ee=P;j=o;var Qe=u;switch(Ee.tag){case 1:if(Me=Ee.payload,typeof Me=="function"){ee=Me.call(Qe,ee,j);break e}ee=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ee.payload,j=typeof Me=="function"?Me.call(Qe,ee,j):Me,j==null)break e;ee=h({},ee,j);break e;case 2:li=!0}}j=P.callback,j!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=y.callbacks,Y===null?y.callbacks=[j]:Y.push(j))}else Y={lane:j,tag:P.tag,payload:P.payload,callback:P.callback,next:null},X===null?(H=X=Y,I=ee):X=X.next=Y,A|=j;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;Y=P,P=Y.next,Y.next=null,y.lastBaseUpdate=Y,y.shared.pending=null}}while(!0);X===null&&(I=ee),y.baseState=I,y.firstBaseUpdate=H,y.lastBaseUpdate=X,b===null&&(y.shared.lanes=0),vi|=A,i.lanes=A,i.memoizedState=ee}}function gx(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function vx(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)gx(u[i],o)}var ao=W(null),gu=W(0);function yx(i,o){i=qr,oe(gu,i),oe(ao,o),qr=i|o.baseLanes}function Qd(){oe(gu,qr),oe(ao,ao.current)}function em(){qr=gu.current,Q(ao),Q(gu)}var ci=0,Ie=null,Xe=null,bt=null,vu=!1,oo=!1,ia=!1,yu=0,Rl=0,lo=null,WD=0;function vt(){throw Error(r(321))}function tm(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!yn(i[u],o[u]))return!1;return!0}function nm(i,o,u,g,y,b){return ci=b,Ie=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=i===null||i.memoizedState===null?tb:nb,ia=!1,b=u(g,y),ia=!1,oo&&(b=bx(o,u,g,y)),xx(i),b}function xx(i){F.H=Eu;var o=Xe!==null&&Xe.next!==null;if(ci=0,bt=Xe=Ie=null,vu=!1,Rl=0,lo=null,o)throw Error(r(300));i===null||Ut||(i=i.dependencies,i!==null&&fu(i)&&(Ut=!0))}function bx(i,o,u,g){Ie=i;var y=0;do{if(oo&&(lo=null),Rl=0,oo=!1,25<=y)throw Error(r(301));if(y+=1,bt=Xe=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=rO,b=o(u,g)}while(oo);return b}function XD(){var i=F.H,o=i.useState()[0];return o=typeof o.then=="function"?Pl(o):o,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(Ie.flags|=1024),o}function rm(){var i=yu!==0;return yu=0,i}function im(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function am(i){if(vu){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}vu=!1}ci=0,bt=Xe=Ie=null,oo=!1,Rl=yu=0,lo=null}function un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ie.memoizedState=bt=i:bt=bt.next=i,bt}function St(){if(Xe===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var o=bt===null?Ie.memoizedState:bt.next;if(o!==null)bt=o,Xe=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},bt===null?Ie.memoizedState=bt=i:bt=bt.next=i}return bt}function om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(i){var o=Rl;return Rl+=1,lo===null&&(lo=[]),i=mx(lo,i,o),o=Ie,(bt===null?o.memoizedState:bt.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?tb:nb),i}function xu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pl(i);if(i.$$typeof===N)return Xt(i)}throw Error(r(438,String(i)))}function lm(i){var o=null,u=Ie.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var g=Ie.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=om(),Ie.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),g=0;g<i;g++)u[g]=te;return o.index++,u}function Or(i,o){return typeof o=="function"?o(i):o}function bu(i){var o=St();return sm(o,Xe,i)}function sm(i,o,u){var g=i.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var y=i.baseQueue,b=g.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}o.baseQueue=y=b,g.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{o=y.next;var P=A=null,I=null,H=o,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(qe&ee)===ee:(ci&ee)===ee){var j=H.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===ro&&(X=!0);else if((ci&j)===j){H=H.next,j===ro&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(P=I=ee,A=b):I=I.next=ee,Ie.lanes|=j,vi|=j;ee=H.action,ia&&u(b,ee),b=H.hasEagerState?H.eagerState:u(b,ee)}else j={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(P=I=j,A=b):I=I.next=j,Ie.lanes|=ee,vi|=ee;H=H.next}while(H!==null&&H!==o);if(I===null?A=b:I.next=P,!yn(b,i.memoizedState)&&(Ut=!0,X&&(u=io,u!==null)))throw u;i.memoizedState=b,i.baseState=A,i.baseQueue=I,g.lastRenderedState=b}return y===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function um(i){var o=St(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var g=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);yn(b,o.memoizedState)||(Ut=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,g]}function Sx(i,o,u){var g=Ie,y=St(),b=Ge;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var A=!yn((Xe||y).memoizedState,u);A&&(y.memoizedState=u,Ut=!0),y=y.queue;var P=Ex.bind(null,g,y,i);if(Dl(2048,8,P,[i]),y.getSnapshot!==o||A||bt!==null&&bt.memoizedState.tag&1){if(g.flags|=2048,so(9,Su(),Cx.bind(null,g,y,u,o),null),rt===null)throw Error(r(349));b||(ci&124)!==0||Tx(g,o,u)}return u}function Tx(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ie.updateQueue,o===null?(o=om(),Ie.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Cx(i,o,u,g){o.value=u,o.getSnapshot=g,Ax(o)&&wx(i)}function Ex(i,o,u){return u(function(){Ax(o)&&wx(i)})}function Ax(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!yn(i,u)}catch{return!0}}function wx(i){var o=Qa(i,2);o!==null&&En(o,i,2)}function cm(i){var o=un();if(typeof i=="function"){var u=i;if(i=u(),ia){dr(!0);try{u()}finally{dr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:i},o}function Mx(i,o,u,g){return i.baseState=u,sm(i,Xe,typeof g=="function"?g:Or)}function ZD(i,o,u,g,y){if(Cu(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};F.T!==null?u(!0):b.isTransition=!1,g(b),u=o.pending,u===null?(b.next=o.pending=b,_x(o,b)):(b.next=u.next,o.pending=u.next=b)}}function _x(i,o){var u=o.action,g=o.payload,y=i.state;if(o.isTransition){var b=F.T,A={};F.T=A;try{var P=u(y,g),I=F.S;I!==null&&I(A,P),Nx(i,o,P)}catch(H){fm(i,o,H)}finally{F.T=b}}else try{b=u(y,g),Nx(i,o,b)}catch(H){fm(i,o,H)}}function Nx(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){Rx(i,o,g)},function(g){return fm(i,o,g)}):Rx(i,o,u)}function Rx(i,o,u){o.status="fulfilled",o.value=u,Px(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,_x(i,u)))}function fm(i,o,u){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=u,Px(o),o=o.next;while(o!==g)}i.action=null}function Px(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Dx(i,o){return o}function Ox(i,o){if(Ge){var u=rt.formState;if(u!==null){e:{var g=Ie;if(Ge){if(mt){t:{for(var y=mt,b=mr;y.nodeType!==8;){if(!b){y=null;break t}if(y=ir(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){mt=ir(y.nextSibling),g=y.data==="F!";break e}}ea(g)}g=!1}g&&(o=u[0])}}return u=un(),u.memoizedState=u.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dx,lastRenderedState:o},u.queue=g,u=Zx.bind(null,Ie,g),g.dispatch=u,g=cm(!1),b=gm.bind(null,Ie,!1,g.queue),g=un(),y={state:o,dispatch:null,action:i,pending:null},g.queue=y,u=ZD.bind(null,Ie,y,b,u),y.dispatch=u,g.memoizedState=i,[o,u,!1]}function Ix(i){var o=St();return kx(o,Xe,i)}function kx(i,o,u){if(o=sm(i,o,Dx)[0],i=bu(Or)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Pl(o)}catch(A){throw A===Al?pu:A}else g=o;o=St();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(Ie.flags|=2048,so(9,Su(),QD.bind(null,y,u),null)),[g,b,i]}function QD(i,o){i.action=o}function Lx(i){var o=St(),u=Xe;if(u!==null)return kx(o,u,i);St(),o=o.memoizedState,u=St();var g=u.queue.dispatch;return u.memoizedState=i,[o,g,!1]}function so(i,o,u,g){return i={tag:i,create:u,deps:g,inst:o,next:null},o=Ie.updateQueue,o===null&&(o=om(),Ie.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,o.lastEffect=i),i}function Su(){return{destroy:void 0,resource:void 0}}function Ux(){return St().memoizedState}function Tu(i,o,u,g){var y=un();g=g===void 0?null:g,Ie.flags|=i,y.memoizedState=so(1|o,Su(),u,g)}function Dl(i,o,u,g){var y=St();g=g===void 0?null:g;var b=y.memoizedState.inst;Xe!==null&&g!==null&&tm(g,Xe.memoizedState.deps)?y.memoizedState=so(o,b,u,g):(Ie.flags|=i,y.memoizedState=so(1|o,b,u,g))}function Bx(i,o){Tu(8390656,8,i,o)}function qx(i,o){Dl(2048,8,i,o)}function Vx(i,o){return Dl(4,2,i,o)}function zx(i,o){return Dl(4,4,i,o)}function $x(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Gx(i,o,u){u=u!=null?u.concat([i]):null,Dl(4,4,$x.bind(null,o,i),u)}function dm(){}function Fx(i,o){var u=St();o=o===void 0?null:o;var g=u.memoizedState;return o!==null&&tm(o,g[1])?g[0]:(u.memoizedState=[i,o],i)}function Hx(i,o){var u=St();o=o===void 0?null:o;var g=u.memoizedState;if(o!==null&&tm(o,g[1]))return g[0];if(g=i(),ia){dr(!0);try{i()}finally{dr(!1)}}return u.memoizedState=[g,o],g}function mm(i,o,u){return u===void 0||(ci&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=Kb(),Ie.lanes|=i,vi|=i,u)}function jx(i,o,u,g){return yn(u,o)?u:ao.current!==null?(i=mm(i,u,g),yn(i,o)||(Ut=!0),i):(ci&42)===0?(Ut=!0,i.memoizedState=u):(i=Kb(),Ie.lanes|=i,vi|=i,o)}function Yx(i,o,u,g,y){var b=ne.p;ne.p=b!==0&&8>b?b:8;var A=F.T,P={};F.T=P,gm(i,!1,o,u);try{var I=y(),H=F.S;if(H!==null&&H(P,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=JD(I,g);Ol(i,o,X,Cn(i))}else Ol(i,o,g,Cn(i))}catch(ee){Ol(i,o,{then:function(){},status:"rejected",reason:ee},Cn())}finally{ne.p=b,F.T=A}}function eO(){}function pm(i,o,u,g){if(i.tag!==5)throw Error(r(476));var y=Kx(i).queue;Yx(i,y,o,fe,u===null?eO:function(){return Jx(i),u(g)})}function Kx(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:fe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Jx(i){var o=Kx(i).next.queue;Ol(i,o,{},Cn())}function hm(){return Xt(Xl)}function Wx(){return St().memoizedState}function Xx(){return St().memoizedState}function tO(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Cn();i=si(u);var g=ui(o,i,u);g!==null&&(En(g,o,u),Ml(g,o,u)),o={cache:Hd()},i.payload=o;return}o=o.return}}function nO(i,o,u){var g=Cn();u={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Cu(i)?Qx(o,u):(u=kd(i,o,u,g),u!==null&&(En(u,i,g),eb(u,o,g)))}function Zx(i,o,u){var g=Cn();Ol(i,o,u,g)}function Ol(i,o,u,g){var y={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cu(i))Qx(o,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var A=o.lastRenderedState,P=b(A,u);if(y.hasEagerState=!0,y.eagerState=P,yn(P,A))return ou(i,o,y,0),rt===null&&au(),!1}catch{}finally{}if(u=kd(i,o,y,g),u!==null)return En(u,i,g),eb(u,o,g),!0}return!1}function gm(i,o,u,g){if(g={lane:2,revertLane:Km(),action:g,hasEagerState:!1,eagerState:null,next:null},Cu(i)){if(o)throw Error(r(479))}else o=kd(i,u,g,2),o!==null&&En(o,i,2)}function Cu(i){var o=i.alternate;return i===Ie||o!==null&&o===Ie}function Qx(i,o){oo=vu=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function eb(i,o,u){if((u&4194048)!==0){var g=o.lanes;g&=i.pendingLanes,u|=g,o.lanes=u,Hi(i,u)}}var Eu={readContext:Xt,use:xu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},tb={readContext:Xt,use:xu,useCallback:function(i,o){return un().memoizedState=[i,o===void 0?null:o],i},useContext:Xt,useEffect:Bx,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Tu(4194308,4,$x.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Tu(4194308,4,i,o)},useInsertionEffect:function(i,o){Tu(4,2,i,o)},useMemo:function(i,o){var u=un();o=o===void 0?null:o;var g=i();if(ia){dr(!0);try{i()}finally{dr(!1)}}return u.memoizedState=[g,o],g},useReducer:function(i,o,u){var g=un();if(u!==void 0){var y=u(o);if(ia){dr(!0);try{u(o)}finally{dr(!1)}}}else y=o;return g.memoizedState=g.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},g.queue=i,i=i.dispatch=nO.bind(null,Ie,i),[g.memoizedState,i]},useRef:function(i){var o=un();return i={current:i},o.memoizedState=i},useState:function(i){i=cm(i);var o=i.queue,u=Zx.bind(null,Ie,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:dm,useDeferredValue:function(i,o){var u=un();return mm(u,i,o)},useTransition:function(){var i=cm(!1);return i=Yx.bind(null,Ie,i.queue,!0,!1),un().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var g=Ie,y=un();if(Ge){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),rt===null)throw Error(r(349));(qe&124)!==0||Tx(g,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,Bx(Ex.bind(null,g,b,i),[i]),g.flags|=2048,so(9,Su(),Cx.bind(null,g,b,u,o),null),u},useId:function(){var i=un(),o=rt.identifierPrefix;if(Ge){var u=Rr,g=Nr;u=(g&~(1<<32-kt(g)-1)).toString(32)+u,o=""+o+"R"+u,u=yu++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=WD++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:hm,useFormState:Ox,useActionState:Ox,useOptimistic:function(i){var o=un();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=gm.bind(null,Ie,!0,u),u.dispatch=o,[i,o]},useMemoCache:lm,useCacheRefresh:function(){return un().memoizedState=tO.bind(null,Ie)}},nb={readContext:Xt,use:xu,useCallback:Fx,useContext:Xt,useEffect:qx,useImperativeHandle:Gx,useInsertionEffect:Vx,useLayoutEffect:zx,useMemo:Hx,useReducer:bu,useRef:Ux,useState:function(){return bu(Or)},useDebugValue:dm,useDeferredValue:function(i,o){var u=St();return jx(u,Xe.memoizedState,i,o)},useTransition:function(){var i=bu(Or)[0],o=St().memoizedState;return[typeof i=="boolean"?i:Pl(i),o]},useSyncExternalStore:Sx,useId:Wx,useHostTransitionStatus:hm,useFormState:Ix,useActionState:Ix,useOptimistic:function(i,o){var u=St();return Mx(u,Xe,i,o)},useMemoCache:lm,useCacheRefresh:Xx},rO={readContext:Xt,use:xu,useCallback:Fx,useContext:Xt,useEffect:qx,useImperativeHandle:Gx,useInsertionEffect:Vx,useLayoutEffect:zx,useMemo:Hx,useReducer:um,useRef:Ux,useState:function(){return um(Or)},useDebugValue:dm,useDeferredValue:function(i,o){var u=St();return Xe===null?mm(u,i,o):jx(u,Xe.memoizedState,i,o)},useTransition:function(){var i=um(Or)[0],o=St().memoizedState;return[typeof i=="boolean"?i:Pl(i),o]},useSyncExternalStore:Sx,useId:Wx,useHostTransitionStatus:hm,useFormState:Lx,useActionState:Lx,useOptimistic:function(i,o){var u=St();return Xe!==null?Mx(u,Xe,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:lm,useCacheRefresh:Xx},uo=null,Il=0;function Au(i){var o=Il;return Il+=1,uo===null&&(uo=[]),mx(uo,i,o)}function kl(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function wu(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function rb(i){var o=i._init;return o(i._payload)}function ib(i){function o(q,U){if(i){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function u(q,U){if(!i)return null;for(;U!==null;)o(q,U),U=U.sibling;return null}function g(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function y(q,U){return q=_r(q,U),q.index=0,q.sibling=null,q}function b(q,U,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=67108866,U):G):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function A(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function P(q,U,G,Z){return U===null||U.tag!==6?(U=Ud(G,q.mode,Z),U.return=q,U):(U=y(U,G),U.return=q,U)}function I(q,U,G,Z){var pe=G.type;return pe===T?X(q,U,G.props.children,Z,G.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===V&&rb(pe)===U.type)?(U=y(U,G.props),kl(U,G),U.return=q,U):(U=su(G.type,G.key,G.props,null,q.mode,Z),kl(U,G),U.return=q,U)}function H(q,U,G,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Bd(G,q.mode,Z),U.return=q,U):(U=y(U,G.children||[]),U.return=q,U)}function X(q,U,G,Z,pe){return U===null||U.tag!==7?(U=Wi(G,q.mode,Z,pe),U.return=q,U):(U=y(U,G),U.return=q,U)}function ee(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ud(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return G=su(U.type,U.key,U.props,null,q.mode,G),kl(G,U),G.return=q,G;case S:return U=Bd(U,q.mode,G),U.return=q,U;case V:var Z=U._init;return U=Z(U._payload),ee(q,U,G)}if(ve(U)||K(U))return U=Wi(U,q.mode,G,null),U.return=q,U;if(typeof U.then=="function")return ee(q,Au(U),G);if(U.$$typeof===N)return ee(q,du(q,U),G);wu(q,U)}return null}function j(q,U,G,Z){var pe=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pe!==null?null:P(q,U,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===pe?I(q,U,G,Z):null;case S:return G.key===pe?H(q,U,G,Z):null;case V:return pe=G._init,G=pe(G._payload),j(q,U,G,Z)}if(ve(G)||K(G))return pe!==null?null:X(q,U,G,Z,null);if(typeof G.then=="function")return j(q,U,Au(G),Z);if(G.$$typeof===N)return j(q,U,du(q,G),Z);wu(q,G)}return null}function Y(q,U,G,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(G)||null,P(U,q,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return q=q.get(Z.key===null?G:Z.key)||null,I(U,q,Z,pe);case S:return q=q.get(Z.key===null?G:Z.key)||null,H(U,q,Z,pe);case V:var Le=Z._init;return Z=Le(Z._payload),Y(q,U,G,Z,pe)}if(ve(Z)||K(Z))return q=q.get(G)||null,X(U,q,Z,pe,null);if(typeof Z.then=="function")return Y(q,U,G,Au(Z),pe);if(Z.$$typeof===N)return Y(q,U,G,du(U,Z),pe);wu(U,Z)}return null}function Me(q,U,G,Z){for(var pe=null,Le=null,be=U,Ae=U=0,qt=null;be!==null&&Ae<G.length;Ae++){be.index>Ae?(qt=be,be=null):qt=be.sibling;var ze=j(q,be,G[Ae],Z);if(ze===null){be===null&&(be=qt);break}i&&be&&ze.alternate===null&&o(q,be),U=b(ze,U,Ae),Le===null?pe=ze:Le.sibling=ze,Le=ze,be=qt}if(Ae===G.length)return u(q,be),Ge&&Zi(q,Ae),pe;if(be===null){for(;Ae<G.length;Ae++)be=ee(q,G[Ae],Z),be!==null&&(U=b(be,U,Ae),Le===null?pe=be:Le.sibling=be,Le=be);return Ge&&Zi(q,Ae),pe}for(be=g(be);Ae<G.length;Ae++)qt=Y(be,q,Ae,G[Ae],Z),qt!==null&&(i&&qt.alternate!==null&&be.delete(qt.key===null?Ae:qt.key),U=b(qt,U,Ae),Le===null?pe=qt:Le.sibling=qt,Le=qt);return i&&be.forEach(function(wi){return o(q,wi)}),Ge&&Zi(q,Ae),pe}function Ee(q,U,G,Z){if(G==null)throw Error(r(151));for(var pe=null,Le=null,be=U,Ae=U=0,qt=null,ze=G.next();be!==null&&!ze.done;Ae++,ze=G.next()){be.index>Ae?(qt=be,be=null):qt=be.sibling;var wi=j(q,be,ze.value,Z);if(wi===null){be===null&&(be=qt);break}i&&be&&wi.alternate===null&&o(q,be),U=b(wi,U,Ae),Le===null?pe=wi:Le.sibling=wi,Le=wi,be=qt}if(ze.done)return u(q,be),Ge&&Zi(q,Ae),pe;if(be===null){for(;!ze.done;Ae++,ze=G.next())ze=ee(q,ze.value,Z),ze!==null&&(U=b(ze,U,Ae),Le===null?pe=ze:Le.sibling=ze,Le=ze);return Ge&&Zi(q,Ae),pe}for(be=g(be);!ze.done;Ae++,ze=G.next())ze=Y(be,q,Ae,ze.value,Z),ze!==null&&(i&&ze.alternate!==null&&be.delete(ze.key===null?Ae:ze.key),U=b(ze,U,Ae),Le===null?pe=ze:Le.sibling=ze,Le=ze);return i&&be.forEach(function(iI){return o(q,iI)}),Ge&&Zi(q,Ae),pe}function Qe(q,U,G,Z){if(typeof G=="object"&&G!==null&&G.type===T&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var pe=G.key;U!==null;){if(U.key===pe){if(pe=G.type,pe===T){if(U.tag===7){u(q,U.sibling),Z=y(U,G.props.children),Z.return=q,q=Z;break e}}else if(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===V&&rb(pe)===U.type){u(q,U.sibling),Z=y(U,G.props),kl(Z,G),Z.return=q,q=Z;break e}u(q,U);break}else o(q,U);U=U.sibling}G.type===T?(Z=Wi(G.props.children,q.mode,Z,G.key),Z.return=q,q=Z):(Z=su(G.type,G.key,G.props,null,q.mode,Z),kl(Z,G),Z.return=q,q=Z)}return A(q);case S:e:{for(pe=G.key;U!==null;){if(U.key===pe)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){u(q,U.sibling),Z=y(U,G.children||[]),Z.return=q,q=Z;break e}else{u(q,U);break}else o(q,U);U=U.sibling}Z=Bd(G,q.mode,Z),Z.return=q,q=Z}return A(q);case V:return pe=G._init,G=pe(G._payload),Qe(q,U,G,Z)}if(ve(G))return Me(q,U,G,Z);if(K(G)){if(pe=K(G),typeof pe!="function")throw Error(r(150));return G=pe.call(G),Ee(q,U,G,Z)}if(typeof G.then=="function")return Qe(q,U,Au(G),Z);if(G.$$typeof===N)return Qe(q,U,du(q,G),Z);wu(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(u(q,U.sibling),Z=y(U,G),Z.return=q,q=Z):(u(q,U),Z=Ud(G,q.mode,Z),Z.return=q,q=Z),A(q)):u(q,U)}return function(q,U,G,Z){try{Il=0;var pe=Qe(q,U,G,Z);return uo=null,pe}catch(be){if(be===Al||be===pu)throw be;var Le=xn(29,be,null,q.mode);return Le.lanes=Z,Le.return=q,Le}finally{}}}var co=ib(!0),ab=ib(!1),$n=W(null),pr=null;function fi(i){var o=i.alternate;oe(Mt,Mt.current&1),oe($n,i),pr===null&&(o===null||ao.current!==null||o.memoizedState!==null)&&(pr=i)}function ob(i){if(i.tag===22){if(oe(Mt,Mt.current),oe($n,i),pr===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(pr=i)}}else di()}function di(){oe(Mt,Mt.current),oe($n,$n.current)}function Ir(i){Q($n),pr===i&&(pr=null),Q(Mt)}var Mt=W(0);function Mu(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||op(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function vm(i,o,u,g){o=i.memoizedState,u=u(g,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ym={enqueueSetState:function(i,o,u){i=i._reactInternals;var g=Cn(),y=si(g);y.payload=o,u!=null&&(y.callback=u),o=ui(i,y,g),o!==null&&(En(o,i,g),Ml(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var g=Cn(),y=si(g);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=ui(i,y,g),o!==null&&(En(o,i,g),Ml(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Cn(),g=si(u);g.tag=2,o!=null&&(g.callback=o),o=ui(i,g,u),o!==null&&(En(o,i,u),Ml(o,i,u))}};function lb(i,o,u,g,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,b,A):o.prototype&&o.prototype.isPureReactComponent?!vl(u,g)||!vl(y,b):!0}function sb(i,o,u,g){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,g),o.state!==i&&ym.enqueueReplaceState(o,o.state,null)}function aa(i,o){var u=o;if("ref"in o){u={};for(var g in o)g!=="ref"&&(u[g]=o[g])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}var _u=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ub(i){_u(i)}function cb(i){console.error(i)}function fb(i){_u(i)}function Nu(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function db(i,o,u){try{var g=i.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function xm(i,o,u){return u=si(u),u.tag=3,u.payload={element:null},u.callback=function(){Nu(i,o)},u}function mb(i){return i=si(i),i.tag=3,i}function pb(i,o,u,g){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=g.value;i.payload=function(){return y(b)},i.callback=function(){db(o,u,g)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){db(o,u,g),typeof y!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function iO(i,o,u,g,y){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=u.alternate,o!==null&&Tl(o,u,y,!0),u=$n.current,u!==null){switch(u.tag){case 13:return pr===null?Gm():u.alternate===null&&pt===0&&(pt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,g===Kd?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([g]):o.add(g),Hm(i,g,y)),!1;case 22:return u.flags|=65536,g===Kd?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([g]):u.add(g)),Hm(i,g,y)),!1}throw Error(r(435,u.tag))}return Hm(i,g,y),Gm(),!1}if(Ge)return o=$n.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,g!==zd&&(i=Error(r(422),{cause:g}),Sl(Bn(i,u)))):(g!==zd&&(o=Error(r(423),{cause:g}),Sl(Bn(o,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,g=Bn(g,u),y=xm(i.stateNode,g,y),Xd(i,y),pt!==4&&(pt=2)),!1;var b=Error(r(520),{cause:g});if(b=Bn(b,u),$l===null?$l=[b]:$l.push(b),pt!==4&&(pt=2),o===null)return!0;g=Bn(g,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=xm(u.stateNode,g,i),Xd(u,i),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yi===null||!yi.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=mb(y),pb(y,i,u,g),Xd(u,y),!1}u=u.return}while(u!==null);return!1}var hb=Error(r(461)),Ut=!1;function Ft(i,o,u,g){o.child=i===null?ab(o,null,u,g):co(o,i.child,u,g)}function gb(i,o,u,g,y){u=u.render;var b=o.ref;if("ref"in g){var A={};for(var P in g)P!=="ref"&&(A[P]=g[P])}else A=g;return na(o),g=nm(i,o,u,A,b,y),P=rm(),i!==null&&!Ut?(im(i,o,y),kr(i,o,y)):(Ge&&P&&qd(o),o.flags|=1,Ft(i,o,g,y),o.child)}function vb(i,o,u,g,y){if(i===null){var b=u.type;return typeof b=="function"&&!Ld(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,yb(i,o,b,g,y)):(i=su(u.type,null,g,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!Mm(i,y)){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:vl,u(A,g)&&i.ref===o.ref)return kr(i,o,y)}return o.flags|=1,i=_r(b,g),i.ref=o.ref,i.return=o,o.child=i}function yb(i,o,u,g,y){if(i!==null){var b=i.memoizedProps;if(vl(b,g)&&i.ref===o.ref)if(Ut=!1,o.pendingProps=g=b,Mm(i,y))(i.flags&131072)!==0&&(Ut=!0);else return o.lanes=i.lanes,kr(i,o,y)}return bm(i,o,u,g,y)}function xb(i,o,u){var g=o.pendingProps,y=g.children,b=i!==null?i.memoizedState:null;if(g.mode==="hidden"){if((o.flags&128)!==0){if(g=b!==null?b.baseLanes|u:u,i!==null){for(y=o.child=i.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~g}else o.childLanes=0,o.child=null;return bb(i,o,g,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&mu(o,b!==null?b.cachePool:null),b!==null?yx(o,b):Qd(),ob(o);else return o.lanes=o.childLanes=536870912,bb(i,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(mu(o,b.cachePool),yx(o,b),di(),o.memoizedState=null):(i!==null&&mu(o,null),Qd(),di());return Ft(i,o,y,u),o.child}function bb(i,o,u,g){var y=Yd();return y=y===null?null:{parent:wt._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},i!==null&&mu(o,null),Qd(),ob(o),i!==null&&Tl(i,o,g,!0),null}function Ru(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function bm(i,o,u,g,y){return na(o),u=nm(i,o,u,g,void 0,y),g=rm(),i!==null&&!Ut?(im(i,o,y),kr(i,o,y)):(Ge&&g&&qd(o),o.flags|=1,Ft(i,o,u,y),o.child)}function Sb(i,o,u,g,y,b){return na(o),o.updateQueue=null,u=bx(o,g,u,y),xx(i),g=rm(),i!==null&&!Ut?(im(i,o,b),kr(i,o,b)):(Ge&&g&&qd(o),o.flags|=1,Ft(i,o,u,b),o.child)}function Tb(i,o,u,g,y){if(na(o),o.stateNode===null){var b=eo,A=u.contextType;typeof A=="object"&&A!==null&&(b=Xt(A)),b=new u(g,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ym,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=g,b.state=o.memoizedState,b.refs={},Jd(o),A=u.contextType,b.context=typeof A=="object"&&A!==null?Xt(A):eo,b.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(vm(o,u,A,g),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&ym.enqueueReplaceState(b,b.state,null),Nl(o,g,b,y),_l(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(i===null){b=o.stateNode;var P=o.memoizedProps,I=aa(u,P);b.props=I;var H=b.context,X=u.contextType;A=eo,typeof X=="object"&&X!==null&&(A=Xt(X));var ee=u.getDerivedStateFromProps;X=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,X||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||H!==A)&&sb(o,b,g,A),li=!1;var j=o.memoizedState;b.state=j,Nl(o,g,b,y),_l(),H=o.memoizedState,P||j!==H||li?(typeof ee=="function"&&(vm(o,u,ee,g),H=o.memoizedState),(I=li||lb(o,u,I,g,j,H,A))?(X||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=H),b.props=g,b.state=H,b.context=A,g=I):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{b=o.stateNode,Wd(i,o),A=o.memoizedProps,X=aa(u,A),b.props=X,ee=o.pendingProps,j=b.context,H=u.contextType,I=eo,typeof H=="object"&&H!==null&&(I=Xt(H)),P=u.getDerivedStateFromProps,(H=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ee||j!==I)&&sb(o,b,g,I),li=!1,j=o.memoizedState,b.state=j,Nl(o,g,b,y),_l();var Y=o.memoizedState;A!==ee||j!==Y||li||i!==null&&i.dependencies!==null&&fu(i.dependencies)?(typeof P=="function"&&(vm(o,u,P,g),Y=o.memoizedState),(X=li||lb(o,u,X,g,j,Y,I)||i!==null&&i.dependencies!==null&&fu(i.dependencies))?(H||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(g,Y,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(g,Y,I)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Y),b.props=g,b.state=Y,b.context=I,g=X):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(o.flags|=1024),g=!1)}return b=g,Ru(i,o),g=(o.flags&128)!==0,b||g?(b=o.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&g?(o.child=co(o,i.child,null,y),o.child=co(o,null,u,y)):Ft(i,o,u,y),o.memoizedState=b.state,i=o.child):i=kr(i,o,y),i}function Cb(i,o,u,g){return bl(),o.flags|=256,Ft(i,o,u,g),o.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tm(i){return{baseLanes:i,cachePool:cx()}}function Cm(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Gn),i}function Eb(i,o,u){var g=o.pendingProps,y=!1,b=(o.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(Mt.current&2)!==0),A&&(y=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ge){if(y?fi(o):di(),Ge){var P=mt,I;if(I=P){e:{for(I=P,P=mr;I.nodeType!==8;){if(!P){P=null;break e}if(I=ir(I.nextSibling),I===null){P=null;break e}}P=I}P!==null?(o.memoizedState={dehydrated:P,treeContext:Xi!==null?{id:Nr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},I=xn(18,null,null,0),I.stateNode=P,I.return=o,o.child=I,an=o,mt=null,I=!0):I=!1}I||ea(o)}if(P=o.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return op(P)?o.lanes=32:o.lanes=536870912,null;Ir(o)}return P=g.children,g=g.fallback,y?(di(),y=o.mode,P=Pu({mode:"hidden",children:P},y),g=Wi(g,y,u,null),P.return=o,g.return=o,P.sibling=g,o.child=P,y=o.child,y.memoizedState=Tm(u),y.childLanes=Cm(i,A,u),o.memoizedState=Sm,g):(fi(o),Em(o,P))}if(I=i.memoizedState,I!==null&&(P=I.dehydrated,P!==null)){if(b)o.flags&256?(fi(o),o.flags&=-257,o=Am(i,o,u)):o.memoizedState!==null?(di(),o.child=i.child,o.flags|=128,o=null):(di(),y=g.fallback,P=o.mode,g=Pu({mode:"visible",children:g.children},P),y=Wi(y,P,u,null),y.flags|=2,g.return=o,y.return=o,g.sibling=y,o.child=g,co(o,i.child,null,u),g=o.child,g.memoizedState=Tm(u),g.childLanes=Cm(i,A,u),o.memoizedState=Sm,o=y);else if(fi(o),op(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var H=A.dgst;A=H,g=Error(r(419)),g.stack="",g.digest=A,Sl({value:g,source:null,stack:null}),o=Am(i,o,u)}else if(Ut||Tl(i,o,u,!1),A=(u&i.childLanes)!==0,Ut||A){if(A=rt,A!==null&&(g=u&-u,g=(g&42)!==0?1:ld(g),g=(g&(A.suspendedLanes|u))!==0?0:g,g!==0&&g!==I.retryLane))throw I.retryLane=g,Qa(i,g),En(A,i,g),hb;P.data==="$?"||Gm(),o=Am(i,o,u)}else P.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=I.treeContext,mt=ir(P.nextSibling),an=o,Ge=!0,Qi=null,mr=!1,i!==null&&(Vn[zn++]=Nr,Vn[zn++]=Rr,Vn[zn++]=Xi,Nr=i.id,Rr=i.overflow,Xi=o),o=Em(o,g.children),o.flags|=4096);return o}return y?(di(),y=g.fallback,P=o.mode,I=i.child,H=I.sibling,g=_r(I,{mode:"hidden",children:g.children}),g.subtreeFlags=I.subtreeFlags&65011712,H!==null?y=_r(H,y):(y=Wi(y,P,u,null),y.flags|=2),y.return=o,g.return=o,g.sibling=y,o.child=g,g=y,y=o.child,P=i.child.memoizedState,P===null?P=Tm(u):(I=P.cachePool,I!==null?(H=wt._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=cx(),P={baseLanes:P.baseLanes|u,cachePool:I}),y.memoizedState=P,y.childLanes=Cm(i,A,u),o.memoizedState=Sm,g):(fi(o),u=i.child,i=u.sibling,u=_r(u,{mode:"visible",children:g.children}),u.return=o,u.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=u,o.memoizedState=null,u)}function Em(i,o){return o=Pu({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Pu(i,o){return i=xn(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Am(i,o,u){return co(o,i.child,null,u),i=Em(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Ab(i,o,u){i.lanes|=o;var g=i.alternate;g!==null&&(g.lanes|=o),Gd(i.return,o,u)}function wm(i,o,u,g,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=u,b.tailMode=y)}function wb(i,o,u){var g=o.pendingProps,y=g.revealOrder,b=g.tail;if(Ft(i,o,g.children,u),g=Mt.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ab(i,u,o);else if(i.tag===19)Ab(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}switch(oe(Mt,g),y){case"forwards":for(u=o.child,y=null;u!==null;)i=u.alternate,i!==null&&Mu(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),wm(o,!1,y,u,b);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Mu(i)===null){o.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}wm(o,!0,u,null,b);break;case"together":wm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function kr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),vi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Tl(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=_r(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=_r(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Mm(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&fu(i)))}function aO(i,o,u){switch(o.tag){case 3:We(o,o.stateNode.containerInfo),oi(o,wt,i.memoizedState.cache),bl();break;case 27:case 5:Re(o);break;case 4:We(o,o.stateNode.containerInfo);break;case 10:oi(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(fi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Eb(i,o,u):(fi(o),i=kr(i,o,u),i!==null?i.sibling:null);fi(o);break;case 19:var y=(i.flags&128)!==0;if(g=(u&o.childLanes)!==0,g||(Tl(i,o,u,!1),g=(u&o.childLanes)!==0),y){if(g)return wb(i,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),oe(Mt,Mt.current),g)break;return null;case 22:case 23:return o.lanes=0,xb(i,o,u);case 24:oi(o,wt,i.memoizedState.cache)}return kr(i,o,u)}function Mb(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ut=!0;else{if(!Mm(i,u)&&(o.flags&128)===0)return Ut=!1,aO(i,o,u);Ut=(i.flags&131072)!==0}else Ut=!1,Ge&&(o.flags&1048576)!==0&&rx(o,cu,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var g=o.elementType,y=g._init;if(g=y(g._payload),o.type=g,typeof g=="function")Ld(g)?(i=aa(g,i),o.tag=1,o=Tb(null,o,g,i,u)):(o.tag=0,o=bm(null,o,g,i,u));else{if(g!=null){if(y=g.$$typeof,y===O){o.tag=11,o=gb(null,o,g,i,u);break e}else if(y===B){o.tag=14,o=vb(null,o,g,i,u);break e}}throw o=Ce(g)||g,Error(r(306,o,""))}}return o;case 0:return bm(i,o,o.type,o.pendingProps,u);case 1:return g=o.type,y=aa(g,o.pendingProps),Tb(i,o,g,y,u);case 3:e:{if(We(o,o.stateNode.containerInfo),i===null)throw Error(r(387));g=o.pendingProps;var b=o.memoizedState;y=b.element,Wd(i,o),Nl(o,g,null,u);var A=o.memoizedState;if(g=A.cache,oi(o,wt,g),g!==b.cache&&Fd(o,[wt],u,!0),_l(),g=A.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Cb(i,o,g,u);break e}else if(g!==y){y=Bn(Error(r(424)),o),Sl(y),o=Cb(i,o,g,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(mt=ir(i.firstChild),an=o,Ge=!0,Qi=null,mr=!0,u=ab(o,null,g,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(bl(),g===y){o=kr(i,o,u);break e}Ft(i,o,g,u)}o=o.child}return o;case 26:return Ru(i,o),i===null?(u=PS(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ge||(u=o.type,i=o.pendingProps,g=Hu(we.current).createElement(u),g[Wt]=o,g[ln]=i,jt(g,u,i),Lt(g),o.stateNode=g):o.memoizedState=PS(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Re(o),i===null&&Ge&&(g=o.stateNode=_S(o.type,o.pendingProps,we.current),an=o,mr=!0,y=mt,Si(o.type)?(lp=y,mt=ir(g.firstChild)):mt=y),Ft(i,o,o.pendingProps.children,u),Ru(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ge&&((y=g=mt)&&(g=OO(g,o.type,o.pendingProps,mr),g!==null?(o.stateNode=g,an=o,mt=ir(g.firstChild),mr=!1,y=!0):y=!1),y||ea(o)),Re(o),y=o.type,b=o.pendingProps,A=i!==null?i.memoizedProps:null,g=b.children,rp(y,b)?g=null:A!==null&&rp(y,A)&&(o.flags|=32),o.memoizedState!==null&&(y=nm(i,o,XD,null,null,u),Xl._currentValue=y),Ru(i,o),Ft(i,o,g,u),o.child;case 6:return i===null&&Ge&&((i=u=mt)&&(u=IO(u,o.pendingProps,mr),u!==null?(o.stateNode=u,an=o,mt=null,i=!0):i=!1),i||ea(o)),null;case 13:return Eb(i,o,u);case 4:return We(o,o.stateNode.containerInfo),g=o.pendingProps,i===null?o.child=co(o,null,g,u):Ft(i,o,g,u),o.child;case 11:return gb(i,o,o.type,o.pendingProps,u);case 7:return Ft(i,o,o.pendingProps,u),o.child;case 8:return Ft(i,o,o.pendingProps.children,u),o.child;case 12:return Ft(i,o,o.pendingProps.children,u),o.child;case 10:return g=o.pendingProps,oi(o,o.type,g.value),Ft(i,o,g.children,u),o.child;case 9:return y=o.type._context,g=o.pendingProps.children,na(o),y=Xt(y),g=g(y),o.flags|=1,Ft(i,o,g,u),o.child;case 14:return vb(i,o,o.type,o.pendingProps,u);case 15:return yb(i,o,o.type,o.pendingProps,u);case 19:return wb(i,o,u);case 31:return g=o.pendingProps,u=o.mode,g={mode:g.mode,children:g.children},i===null?(u=Pu(g,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=_r(i.child,g),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return xb(i,o,u);case 24:return na(o),g=Xt(wt),i===null?(y=Yd(),y===null&&(y=rt,b=Hd(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:g,cache:y},Jd(o),oi(o,wt,y)):((i.lanes&u)!==0&&(Wd(i,o),Nl(o,null,null,u),_l()),y=i.memoizedState,b=o.memoizedState,y.parent!==g?(y={parent:g,cache:g},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),oi(o,wt,g)):(g=b.cache,oi(o,wt,g),g!==y.cache&&Fd(o,[wt],u,!0))),Ft(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Lr(i){i.flags|=4}function _b(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!LS(o)){if(o=$n.current,o!==null&&((qe&4194048)===qe?pr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||o!==pr))throw wl=Kd,fx;i.flags|=8192}}function Du(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?xe():536870912,i.lanes|=o,ho|=o)}function Ll(i,o){if(!Ge)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function dt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(o)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags&65011712,g|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=g,i.childLanes=u,o}function oO(i,o,u){var g=o.pendingProps;switch(Vd(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(o),null;case 1:return dt(o),null;case 3:return u=o.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Dr(wt),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(xl(o)?Lr(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ox())),dt(o),null;case 26:return u=o.memoizedState,i===null?(Lr(o),u!==null?(dt(o),_b(o,u)):(dt(o),o.flags&=-16777217)):u?u!==i.memoizedState?(Lr(o),dt(o),_b(o,u)):(dt(o),o.flags&=-16777217):(i.memoizedProps!==g&&Lr(o),dt(o),o.flags&=-16777217),null;case 27:Pe(o),u=we.current;var y=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==g&&Lr(o);else{if(!g){if(o.stateNode===null)throw Error(r(166));return dt(o),null}i=ye.current,xl(o)?ix(o):(i=_S(y,g,u),o.stateNode=i,Lr(o))}return dt(o),null;case 5:if(Pe(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==g&&Lr(o);else{if(!g){if(o.stateNode===null)throw Error(r(166));return dt(o),null}if(i=ye.current,xl(o))ix(o);else{switch(y=Hu(we.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof g.is=="string"?y.createElement("select",{is:g.is}):y.createElement("select"),g.multiple?i.multiple=!0:g.size&&(i.size=g.size);break;default:i=typeof g.is=="string"?y.createElement(u,{is:g.is}):y.createElement(u)}}i[Wt]=o,i[ln]=g;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=i;e:switch(jt(i,u,g),u){case"button":case"input":case"select":case"textarea":i=!!g.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Lr(o)}}return dt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==g&&Lr(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(i=we.current,xl(o)){if(i=o.stateNode,u=o.memoizedProps,g=null,y=an,y!==null)switch(y.tag){case 27:case 5:g=y.memoizedProps}i[Wt]=o,i=!!(i.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||SS(i.nodeValue,u)),i||ea(o)}else i=Hu(i).createTextNode(g),i[Wt]=o,o.stateNode=i}return dt(o),null;case 13:if(g=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=xl(o),g!==null&&g.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Wt]=o}else bl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),y=!1}else y=ox(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ir(o),o):(Ir(o),null)}if(Ir(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=g!==null,i=i!==null&&i.memoizedState!==null,u){g=o.child,y=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(y=g.alternate.memoizedState.cachePool.pool);var b=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(b=g.memoizedState.cachePool.pool),b!==y&&(g.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),Du(o,o.updateQueue),dt(o),null;case 4:return se(),i===null&&Zm(o.stateNode.containerInfo),dt(o),null;case 10:return Dr(o.type),dt(o),null;case 19:if(Q(Mt),y=o.memoizedState,y===null)return dt(o),null;if(g=(o.flags&128)!==0,b=y.rendering,b===null)if(g)Ll(y,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Mu(i),b!==null){for(o.flags|=128,Ll(y,!1),i=b.updateQueue,o.updateQueue=i,Du(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)nx(u,i),u=u.sibling;return oe(Mt,Mt.current&1|2),o.child}i=i.sibling}y.tail!==null&&xt()>ku&&(o.flags|=128,g=!0,Ll(y,!1),o.lanes=4194304)}else{if(!g)if(i=Mu(b),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,Du(o,i),Ll(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Ge)return dt(o),null}else 2*xt()-y.renderingStartTime>ku&&u!==536870912&&(o.flags|=128,g=!0,Ll(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(i=y.last,i!==null?i.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=xt(),o.sibling=null,i=Mt.current,oe(Mt,g?i&1|2:i&1),o):(dt(o),null);case 22:case 23:return Ir(o),em(),g=o.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(u&536870912)!==0&&(o.flags&128)===0&&(dt(o),o.subtreeFlags&6&&(o.flags|=8192)):dt(o),u=o.updateQueue,u!==null&&Du(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==u&&(o.flags|=2048),i!==null&&Q(ra),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Dr(wt),dt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function lO(i,o){switch(Vd(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Dr(wt),se(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 13:if(Ir(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));bl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Q(Mt),null;case 4:return se(),null;case 10:return Dr(o.type),null;case 22:case 23:return Ir(o),em(),i!==null&&Q(ra),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Dr(wt),null;case 25:return null;default:return null}}function Nb(i,o){switch(Vd(o),o.tag){case 3:Dr(wt),se();break;case 26:case 27:case 5:Pe(o);break;case 4:se();break;case 13:Ir(o);break;case 19:Q(Mt);break;case 10:Dr(o.type);break;case 22:case 23:Ir(o),em(),i!==null&&Q(ra);break;case 24:Dr(wt)}}function Ul(i,o){try{var u=o.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&i)===i){g=void 0;var b=u.create,A=u.inst;g=b(),A.destroy=g}u=u.next}while(u!==y)}}catch(P){tt(o,o.return,P)}}function mi(i,o,u){try{var g=o.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var b=y.next;g=b;do{if((g.tag&i)===i){var A=g.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,y=o;var I=u,H=P;try{H()}catch(X){tt(y,I,X)}}}g=g.next}while(g!==b)}}catch(X){tt(o,o.return,X)}}function Rb(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{vx(o,u)}catch(g){tt(i,i.return,g)}}}function Pb(i,o,u){u.props=aa(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(g){tt(i,o,g)}}function Bl(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var g=i.stateNode;break;case 30:g=i.stateNode;break;default:g=i.stateNode}typeof u=="function"?i.refCleanup=u(g):u.current=g}}catch(y){tt(i,o,y)}}function hr(i,o){var u=i.ref,g=i.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(y){tt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){tt(i,o,y)}else u.current=null}function Db(i){var o=i.type,u=i.memoizedProps,g=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(y){tt(i,i.return,y)}}function _m(i,o,u){try{var g=i.stateNode;_O(g,i.type,u,o),g[ln]=o}catch(y){tt(i,i.return,y)}}function Ob(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Si(i.type)||i.tag===4}function Nm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ob(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Si(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rm(i,o,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Fu));else if(g!==4&&(g===27&&Si(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Rm(i,o,u),i=i.sibling;i!==null;)Rm(i,o,u),i=i.sibling}function Ou(i,o,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(g!==4&&(g===27&&Si(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Ou(i,o,u),i=i.sibling;i!==null;)Ou(i,o,u),i=i.sibling}function Ib(i){var o=i.stateNode,u=i.memoizedProps;try{for(var g=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);jt(o,g,u),o[Wt]=i,o[ln]=u}catch(b){tt(i,i.return,b)}}var Ur=!1,yt=!1,Pm=!1,kb=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function sO(i,o){if(i=i.containerInfo,tp=Xu,i=j0(i),Nd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var y=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var A=0,P=-1,I=-1,H=0,X=0,ee=i,j=null;t:for(;;){for(var Y;ee!==u||y!==0&&ee.nodeType!==3||(P=A+y),ee!==b||g!==0&&ee.nodeType!==3||(I=A+g),ee.nodeType===3&&(A+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)j=ee,ee=Y;for(;;){if(ee===i)break t;if(j===u&&++H===y&&(P=A),j===b&&++X===g&&(I=A),(Y=ee.nextSibling)!==null)break;ee=j,j=ee.parentNode}ee=Y}u=P===-1||I===-1?null:{start:P,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(np={focusedElem:i,selectionRange:u},Xu=!1,Bt=o;Bt!==null;)if(o=Bt,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Bt=i;else for(;Bt!==null;){switch(o=Bt,b=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,g=u.stateNode;try{var Me=aa(u.type,y,u.elementType===u.type);i=g.getSnapshotBeforeUpdate(Me,b),g.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){tt(u,u.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)ap(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Bt=i;break}Bt=o.return}}function Lb(i,o,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:pi(i,u),g&4&&Ul(5,u);break;case 1:if(pi(i,u),g&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(A){tt(u,u.return,A)}else{var y=aa(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){tt(u,u.return,A)}}g&64&&Rb(u),g&512&&Bl(u,u.return);break;case 3:if(pi(i,u),g&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{vx(i,o)}catch(A){tt(u,u.return,A)}}break;case 27:o===null&&g&4&&Ib(u);case 26:case 5:pi(i,u),o===null&&g&4&&Db(u),g&512&&Bl(u,u.return);break;case 12:pi(i,u);break;case 13:pi(i,u),g&4&&qb(i,u),g&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=vO.bind(null,u),kO(i,u))));break;case 22:if(g=u.memoizedState!==null||Ur,!g){o=o!==null&&o.memoizedState!==null||yt,y=Ur;var b=yt;Ur=g,(yt=o)&&!b?hi(i,u,(u.subtreeFlags&8772)!==0):pi(i,u),Ur=y,yt=b}break;case 30:break;default:pi(i,u)}}function Ub(i){var o=i.alternate;o!==null&&(i.alternate=null,Ub(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&cd(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,cn=!1;function Br(i,o,u){for(u=u.child;u!==null;)Bb(i,o,u),u=u.sibling}function Bb(i,o,u){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Gi,u)}catch{}switch(u.tag){case 26:yt||hr(u,o),Br(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yt||hr(u,o);var g=ct,y=cn;Si(u.type)&&(ct=u.stateNode,cn=!1),Br(i,o,u),Yl(u.stateNode),ct=g,cn=y;break;case 5:yt||hr(u,o);case 6:if(g=ct,y=cn,ct=null,Br(i,o,u),ct=g,cn=y,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(u.stateNode)}catch(b){tt(u,o,b)}else try{ct.removeChild(u.stateNode)}catch(b){tt(u,o,b)}break;case 18:ct!==null&&(cn?(i=ct,wS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ts(i)):wS(ct,u.stateNode));break;case 4:g=ct,y=cn,ct=u.stateNode.containerInfo,cn=!0,Br(i,o,u),ct=g,cn=y;break;case 0:case 11:case 14:case 15:yt||mi(2,u,o),yt||mi(4,u,o),Br(i,o,u);break;case 1:yt||(hr(u,o),g=u.stateNode,typeof g.componentWillUnmount=="function"&&Pb(u,o,g)),Br(i,o,u);break;case 21:Br(i,o,u);break;case 22:yt=(g=yt)||u.memoizedState!==null,Br(i,o,u),yt=g;break;default:Br(i,o,u)}}function qb(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ts(i)}catch(u){tt(o,o.return,u)}}function uO(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new kb),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new kb),o;default:throw Error(r(435,i.tag))}}function Dm(i,o){var u=uO(i);o.forEach(function(g){var y=yO.bind(null,i,g);u.has(g)||(u.add(g),g.then(y,y))})}function bn(i,o){var u=o.deletions;if(u!==null)for(var g=0;g<u.length;g++){var y=u[g],b=i,A=o,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(Si(P.type)){ct=P.stateNode,cn=!1;break e}break;case 5:ct=P.stateNode,cn=!1;break e;case 3:case 4:ct=P.stateNode.containerInfo,cn=!0;break e}P=P.return}if(ct===null)throw Error(r(160));Bb(b,A,y),ct=null,cn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Vb(o,i),o=o.sibling}var rr=null;function Vb(i,o){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(o,i),Sn(i),g&4&&(mi(3,i,i.return),Ul(3,i),mi(5,i,i.return));break;case 1:bn(o,i),Sn(i),g&512&&(yt||u===null||hr(u,u.return)),g&64&&Ur&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var y=rr;if(bn(o,i),Sn(i),g&512&&(yt||u===null||hr(u,u.return)),g&4){var b=u!==null?u.memoizedState:null;if(g=i.memoizedState,u===null)if(g===null)if(i.stateNode===null){e:{g=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(g){case"title":b=y.getElementsByTagName("title")[0],(!b||b[sl]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(g),y.head.insertBefore(b,y.querySelector("head > title"))),jt(b,g,u),b[Wt]=i,Lt(b),g=b;break e;case"link":var A=IS("link","href",y).get(g+(u.href||""));if(A){for(var P=0;P<A.length;P++)if(b=A[P],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(P,1);break t}}b=y.createElement(g),jt(b,g,u),y.head.appendChild(b);break;case"meta":if(A=IS("meta","content",y).get(g+(u.content||""))){for(P=0;P<A.length;P++)if(b=A[P],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(P,1);break t}}b=y.createElement(g),jt(b,g,u),y.head.appendChild(b);break;default:throw Error(r(468,g))}b[Wt]=i,Lt(b),g=b}i.stateNode=g}else kS(y,i.type,i.stateNode);else i.stateNode=OS(y,g,i.memoizedProps);else b!==g?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,g===null?kS(y,i.type,i.stateNode):OS(y,g,i.memoizedProps)):g===null&&i.stateNode!==null&&_m(i,i.memoizedProps,u.memoizedProps)}break;case 27:bn(o,i),Sn(i),g&512&&(yt||u===null||hr(u,u.return)),u!==null&&g&4&&_m(i,i.memoizedProps,u.memoizedProps);break;case 5:if(bn(o,i),Sn(i),g&512&&(yt||u===null||hr(u,u.return)),i.flags&32){y=i.stateNode;try{ja(y,"")}catch(Y){tt(i,i.return,Y)}}g&4&&i.stateNode!=null&&(y=i.memoizedProps,_m(i,y,u!==null?u.memoizedProps:y)),g&1024&&(Pm=!0);break;case 6:if(bn(o,i),Sn(i),g&4){if(i.stateNode===null)throw Error(r(162));g=i.memoizedProps,u=i.stateNode;try{u.nodeValue=g}catch(Y){tt(i,i.return,Y)}}break;case 3:if(Ku=null,y=rr,rr=ju(o.containerInfo),bn(o,i),rr=y,Sn(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{ts(o.containerInfo)}catch(Y){tt(i,i.return,Y)}Pm&&(Pm=!1,zb(i));break;case 4:g=rr,rr=ju(i.stateNode.containerInfo),bn(o,i),Sn(i),rr=g;break;case 12:bn(o,i),Sn(i);break;case 13:bn(o,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Bm=xt()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,Dm(i,g)));break;case 22:y=i.memoizedState!==null;var I=u!==null&&u.memoizedState!==null,H=Ur,X=yt;if(Ur=H||y,yt=X||I,bn(o,i),yt=X,Ur=H,Sn(i),g&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||I||Ur||yt||oa(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){I=u=o;try{if(b=I.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=I.stateNode;var ee=I.memoizedProps.style,j=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;P.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(Y){tt(I,I.return,Y)}}}else if(o.tag===6){if(u===null){I=o;try{I.stateNode.nodeValue=y?"":I.memoizedProps}catch(Y){tt(I,I.return,Y)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=i.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,Dm(i,u))));break;case 19:bn(o,i),Sn(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,Dm(i,g)));break;case 30:break;case 21:break;default:bn(o,i),Sn(i)}}function Sn(i){var o=i.flags;if(o&2){try{for(var u,g=i.return;g!==null;){if(Ob(g)){u=g;break}g=g.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=Nm(i);Ou(i,b,y);break;case 5:var A=u.stateNode;u.flags&32&&(ja(A,""),u.flags&=-33);var P=Nm(i);Ou(i,P,A);break;case 3:case 4:var I=u.stateNode.containerInfo,H=Nm(i);Rm(i,H,I);break;default:throw Error(r(161))}}catch(X){tt(i,i.return,X)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function zb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;zb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function pi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Lb(i,o.alternate,o),o=o.sibling}function oa(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:mi(4,o,o.return),oa(o);break;case 1:hr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Pb(o,o.return,u),oa(o);break;case 27:Yl(o.stateNode);case 26:case 5:hr(o,o.return),oa(o);break;case 22:o.memoizedState===null&&oa(o);break;case 30:oa(o);break;default:oa(o)}i=i.sibling}}function hi(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,y=i,b=o,A=b.flags;switch(b.tag){case 0:case 11:case 15:hi(y,b,u),Ul(4,b);break;case 1:if(hi(y,b,u),g=b,y=g.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(H){tt(g,g.return,H)}if(g=b,y=g.updateQueue,y!==null){var P=g.stateNode;try{var I=y.shared.hiddenCallbacks;if(I!==null)for(y.shared.hiddenCallbacks=null,y=0;y<I.length;y++)gx(I[y],P)}catch(H){tt(g,g.return,H)}}u&&A&64&&Rb(b),Bl(b,b.return);break;case 27:Ib(b);case 26:case 5:hi(y,b,u),u&&g===null&&A&4&&Db(b),Bl(b,b.return);break;case 12:hi(y,b,u);break;case 13:hi(y,b,u),u&&A&4&&qb(y,b);break;case 22:b.memoizedState===null&&hi(y,b,u),Bl(b,b.return);break;case 30:break;default:hi(y,b,u)}o=o.sibling}}function Om(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Cl(u))}function Im(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Cl(i))}function gr(i,o,u,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$b(i,o,u,g),o=o.sibling}function $b(i,o,u,g){var y=o.flags;switch(o.tag){case 0:case 11:case 15:gr(i,o,u,g),y&2048&&Ul(9,o);break;case 1:gr(i,o,u,g);break;case 3:gr(i,o,u,g),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Cl(i)));break;case 12:if(y&2048){gr(i,o,u,g),i=o.stateNode;try{var b=o.memoizedProps,A=b.id,P=b.onPostCommit;typeof P=="function"&&P(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){tt(o,o.return,I)}}else gr(i,o,u,g);break;case 13:gr(i,o,u,g);break;case 23:break;case 22:b=o.stateNode,A=o.alternate,o.memoizedState!==null?b._visibility&2?gr(i,o,u,g):ql(i,o):b._visibility&2?gr(i,o,u,g):(b._visibility|=2,fo(i,o,u,g,(o.subtreeFlags&10256)!==0)),y&2048&&Om(A,o);break;case 24:gr(i,o,u,g),y&2048&&Im(o.alternate,o);break;default:gr(i,o,u,g)}}function fo(i,o,u,g,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=i,A=o,P=u,I=g,H=A.flags;switch(A.tag){case 0:case 11:case 15:fo(b,A,P,I,y),Ul(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&2?fo(b,A,P,I,y):ql(b,A):(X._visibility|=2,fo(b,A,P,I,y)),y&&H&2048&&Om(A.alternate,A);break;case 24:fo(b,A,P,I,y),y&&H&2048&&Im(A.alternate,A);break;default:fo(b,A,P,I,y)}o=o.sibling}}function ql(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,g=o,y=g.flags;switch(g.tag){case 22:ql(u,g),y&2048&&Om(g.alternate,g);break;case 24:ql(u,g),y&2048&&Im(g.alternate,g);break;default:ql(u,g)}o=o.sibling}}var Vl=8192;function mo(i){if(i.subtreeFlags&Vl)for(i=i.child;i!==null;)Gb(i),i=i.sibling}function Gb(i){switch(i.tag){case 26:mo(i),i.flags&Vl&&i.memoizedState!==null&&KO(rr,i.memoizedState,i.memoizedProps);break;case 5:mo(i);break;case 3:case 4:var o=rr;rr=ju(i.stateNode.containerInfo),mo(i),rr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Vl,Vl=16777216,mo(i),Vl=o):mo(i));break;default:mo(i)}}function Fb(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function zl(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var g=o[u];Bt=g,jb(g,i)}Fb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hb(i),i=i.sibling}function Hb(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&mi(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Iu(i)):zl(i);break;default:zl(i)}}function Iu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var g=o[u];Bt=g,jb(g,i)}Fb(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:mi(8,o,o.return),Iu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Iu(o));break;default:Iu(o)}i=i.sibling}}function jb(i,o){for(;Bt!==null;){var u=Bt;switch(u.tag){case 0:case 11:case 15:mi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Cl(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,Bt=g;else e:for(u=i;Bt!==null;){g=Bt;var y=g.sibling,b=g.return;if(Ub(g),g===u){Bt=null;break e}if(y!==null){y.return=b,Bt=y;break e}Bt=b}}}var cO={getCacheForType:function(i){var o=Xt(wt),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},fO=typeof WeakMap=="function"?WeakMap:Map,je=0,rt=null,Ue=null,qe=0,Ye=0,Tn=null,gi=!1,po=!1,km=!1,qr=0,pt=0,vi=0,la=0,Lm=0,Gn=0,ho=0,$l=null,fn=null,Um=!1,Bm=0,ku=1/0,Lu=null,yi=null,Ht=0,xi=null,go=null,vo=0,qm=0,Vm=null,Yb=null,Gl=0,zm=null;function Cn(){if((je&2)!==0&&qe!==0)return qe&-qe;if(F.T!==null){var i=ro;return i!==0?i:Km()}return u0()}function Kb(){Gn===0&&(Gn=(qe&536870912)===0||Ge?ue():536870912);var i=$n.current;return i!==null&&(i.flags|=32),Gn}function En(i,o,u){(i===rt&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)&&(yo(i,0),bi(i,qe,Gn,!1)),Oe(i,u),((je&2)===0||i!==rt)&&(i===rt&&((je&2)===0&&(la|=u),pt===4&&bi(i,qe,Gn,!1)),vr(i))}function Jb(i,o,u){if((je&6)!==0)throw Error(r(327));var g=!u&&(o&124)===0&&(o&i.expiredLanes)===0||ae(i,o),y=g?pO(i,o):Fm(i,o,!0),b=g;do{if(y===0){po&&!g&&bi(i,o,0,!1);break}else{if(u=i.current.alternate,b&&!dO(u)){y=Fm(i,o,!1),b=!1;continue}if(y===2){if(b=o,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var P=i;y=$l;var I=P.current.memoizedState.isDehydrated;if(I&&(yo(P,A).flags|=256),A=Fm(P,A,!1),A!==2){if(km&&!I){P.errorRecoveryDisabledLanes|=b,la|=b,y=4;break e}b=fn,fn=y,b!==null&&(fn===null?fn=b:fn.push.apply(fn,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){yo(i,0),bi(i,o,0,!0);break}e:{switch(g=i,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:bi(g,o,Gn,!gi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Bm+300-xt(),10<y)){if(bi(g,o,Gn,!gi),Ba(g,0,!0)!==0)break e;g.timeoutHandle=ES(Wb.bind(null,g,u,fn,Lu,Um,o,Gn,la,ho,gi,b,2,-0,0),y);break e}Wb(g,u,fn,Lu,Um,o,Gn,la,ho,gi,b,0,-0,0)}}break}while(!0);vr(i)}function Wb(i,o,u,g,y,b,A,P,I,H,X,ee,j,Y){if(i.timeoutHandle=-1,ee=o.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:YO},Gb(o),ee=JO(),ee!==null)){i.cancelPendingCommit=ee(rS.bind(null,i,o,b,u,g,y,A,P,I,X,1,j,Y)),bi(i,b,A,!H);return}rS(i,o,b,u,g,y,A,P,I)}function dO(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var y=u[g],b=y.getSnapshot;y=y.value;try{if(!yn(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bi(i,o,u,g){o&=~Lm,o&=~la,i.suspendedLanes|=o,i.pingedLanes&=~o,g&&(i.warmLanes|=o),g=i.expirationTimes;for(var y=o;0<y;){var b=31-kt(y),A=1<<b;g[b]=-1,y&=~A}u!==0&&Fi(i,u,o)}function Uu(){return(je&6)===0?(Fl(0),!1):!0}function $m(){if(Ue!==null){if(Ye===0)var i=Ue.return;else i=Ue,Pr=ta=null,am(i),uo=null,Il=0,i=Ue;for(;i!==null;)Nb(i.alternate,i),i=i.return;Ue=null}}function yo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,RO(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),$m(),rt=i,Ue=u=_r(i.current,null),qe=o,Ye=0,Tn=null,gi=!1,po=ae(i,o),km=!1,ho=Gn=Lm=la=vi=pt=0,fn=$l=null,Um=!1,(o&8)!==0&&(o|=o&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=o;0<g;){var y=31-kt(g),b=1<<y;o|=i[y],g&=~b}return qr=o,au(),u}function Xb(i,o){Ie=null,F.H=Eu,o===Al||o===pu?(o=px(),Ye=3):o===fx?(o=px(),Ye=4):Ye=o===hb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Tn=o,Ue===null&&(pt=1,Nu(i,Bn(o,i.current)))}function Zb(){var i=F.H;return F.H=Eu,i===null?Eu:i}function Qb(){var i=F.A;return F.A=cO,i}function Gm(){pt=4,gi||(qe&4194048)!==qe&&$n.current!==null||(po=!0),(vi&134217727)===0&&(la&134217727)===0||rt===null||bi(rt,qe,Gn,!1)}function Fm(i,o,u){var g=je;je|=2;var y=Zb(),b=Qb();(rt!==i||qe!==o)&&(Lu=null,yo(i,o)),o=!1;var A=pt;e:do try{if(Ye!==0&&Ue!==null){var P=Ue,I=Tn;switch(Ye){case 8:$m(),A=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(o=!0);var H=Ye;if(Ye=0,Tn=null,xo(i,P,I,H),u&&po){A=0;break e}break;default:H=Ye,Ye=0,Tn=null,xo(i,P,I,H)}}mO(),A=pt;break}catch(X){Xb(i,X)}while(!0);return o&&i.shellSuspendCounter++,Pr=ta=null,je=g,F.H=y,F.A=b,Ue===null&&(rt=null,qe=0,au()),A}function mO(){for(;Ue!==null;)eS(Ue)}function pO(i,o){var u=je;je|=2;var g=Zb(),y=Qb();rt!==i||qe!==o?(Lu=null,ku=xt()+500,yo(i,o)):po=ae(i,o);e:do try{if(Ye!==0&&Ue!==null){o=Ue;var b=Tn;t:switch(Ye){case 1:Ye=0,Tn=null,xo(i,o,b,1);break;case 2:case 9:if(dx(b)){Ye=0,Tn=null,tS(o);break}o=function(){Ye!==2&&Ye!==9||rt!==i||(Ye=7),vr(i)},b.then(o,o);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:dx(b)?(Ye=0,Tn=null,tS(o)):(Ye=0,Tn=null,xo(i,o,b,7));break;case 5:var A=null;switch(Ue.tag){case 26:A=Ue.memoizedState;case 5:case 27:var P=Ue;if(!A||LS(A)){Ye=0,Tn=null;var I=P.sibling;if(I!==null)Ue=I;else{var H=P.return;H!==null?(Ue=H,Bu(H)):Ue=null}break t}}Ye=0,Tn=null,xo(i,o,b,5);break;case 6:Ye=0,Tn=null,xo(i,o,b,6);break;case 8:$m(),pt=6;break e;default:throw Error(r(462))}}hO();break}catch(X){Xb(i,X)}while(!0);return Pr=ta=null,F.H=g,F.A=y,je=u,Ue!==null?0:(rt=null,qe=0,au(),pt)}function hO(){for(;Ue!==null&&!Dt();)eS(Ue)}function eS(i){var o=Mb(i.alternate,i,qr);i.memoizedProps=i.pendingProps,o===null?Bu(i):Ue=o}function tS(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=Sb(u,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=Sb(u,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:am(o);default:Nb(u,o),o=Ue=nx(o,qr),o=Mb(u,o,qr)}i.memoizedProps=i.pendingProps,o===null?Bu(i):Ue=o}function xo(i,o,u,g){Pr=ta=null,am(o),uo=null,Il=0;var y=o.return;try{if(iO(i,y,o,u,qe)){pt=1,Nu(i,Bn(u,i.current)),Ue=null;return}}catch(b){if(y!==null)throw Ue=y,b;pt=1,Nu(i,Bn(u,i.current)),Ue=null;return}o.flags&32768?(Ge||g===1?i=!0:po||(qe&536870912)!==0?i=!1:(gi=i=!0,(g===2||g===9||g===3||g===6)&&(g=$n.current,g!==null&&g.tag===13&&(g.flags|=16384))),nS(o,i)):Bu(o)}function Bu(i){var o=i;do{if((o.flags&32768)!==0){nS(o,gi);return}i=o.return;var u=oO(o.alternate,o,qr);if(u!==null){Ue=u;return}if(o=o.sibling,o!==null){Ue=o;return}Ue=o=i}while(o!==null);pt===0&&(pt=5)}function nS(i,o){do{var u=lO(i.alternate,i);if(u!==null){u.flags&=32767,Ue=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=u}while(i!==null);pt=6,Ue=null}function rS(i,o,u,g,y,b,A,P,I){i.cancelPendingCommit=null;do qu();while(Ht!==0);if((je&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=Id,rn(i,u,b,A,P,I),i===rt&&(Ue=rt=null,qe=0),go=o,xi=i,vo=u,qm=b,Vm=y,Yb=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xO($i,function(){return sS(),null})):(i.callbackNode=null,i.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,y=ne.p,ne.p=2,A=je,je|=4;try{sO(i,o,u)}finally{je=A,ne.p=y,F.T=g}}Ht=1,iS(),aS(),oS()}}function iS(){if(Ht===1){Ht=0;var i=xi,o=go,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var g=ne.p;ne.p=2;var y=je;je|=4;try{Vb(o,i);var b=np,A=j0(i.containerInfo),P=b.focusedElem,I=b.selectionRange;if(A!==P&&P&&P.ownerDocument&&H0(P.ownerDocument.documentElement,P)){if(I!==null&&Nd(P)){var H=I.start,X=I.end;if(X===void 0&&(X=H),"selectionStart"in P)P.selectionStart=H,P.selectionEnd=Math.min(X,P.value.length);else{var ee=P.ownerDocument||document,j=ee&&ee.defaultView||window;if(j.getSelection){var Y=j.getSelection(),Me=P.textContent.length,Ee=Math.min(I.start,Me),Qe=I.end===void 0?Ee:Math.min(I.end,Me);!Y.extend&&Ee>Qe&&(A=Qe,Qe=Ee,Ee=A);var q=F0(P,Ee),U=F0(P,Qe);if(q&&U&&(Y.rangeCount!==1||Y.anchorNode!==q.node||Y.anchorOffset!==q.offset||Y.focusNode!==U.node||Y.focusOffset!==U.offset)){var G=ee.createRange();G.setStart(q.node,q.offset),Y.removeAllRanges(),Ee>Qe?(Y.addRange(G),Y.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Y.addRange(G))}}}}for(ee=[],Y=P;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ee.length;P++){var Z=ee[P];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Xu=!!tp,np=tp=null}finally{je=y,ne.p=g,F.T=u}}i.current=o,Ht=2}}function aS(){if(Ht===2){Ht=0;var i=xi,o=go,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var g=ne.p;ne.p=2;var y=je;je|=4;try{Lb(i,o.alternate,o)}finally{je=y,ne.p=g,F.T=u}}Ht=3}}function oS(){if(Ht===4||Ht===3){Ht=0,Ot();var i=xi,o=go,u=vo,g=Yb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ht=5:(Ht=0,go=xi=null,lS(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(yi=null),sd(u),o=o.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Gi,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=F.T,y=ne.p,ne.p=2,F.T=null;try{for(var b=i.onRecoverableError,A=0;A<g.length;A++){var P=g[A];b(P.value,{componentStack:P.stack})}}finally{F.T=o,ne.p=y}}(vo&3)!==0&&qu(),vr(i),y=i.pendingLanes,(u&4194090)!==0&&(y&42)!==0?i===zm?Gl++:(Gl=0,zm=i):Gl=0,Fl(0)}}function lS(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Cl(o)))}function qu(i){return iS(),aS(),oS(),sS()}function sS(){if(Ht!==5)return!1;var i=xi,o=qm;qm=0;var u=sd(vo),g=F.T,y=ne.p;try{ne.p=32>u?32:u,F.T=null,u=Vm,Vm=null;var b=xi,A=vo;if(Ht=0,go=xi=null,vo=0,(je&6)!==0)throw Error(r(331));var P=je;if(je|=4,Hb(b.current),$b(b,b.current,A,u),je=P,Fl(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Gi,b)}catch{}return!0}finally{ne.p=y,F.T=g,lS(i,o)}}function uS(i,o,u){o=Bn(u,o),o=xm(i.stateNode,o,2),i=ui(i,o,2),i!==null&&(Oe(i,2),vr(i))}function tt(i,o,u){if(i.tag===3)uS(i,i,u);else for(;o!==null;){if(o.tag===3){uS(o,i,u);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(yi===null||!yi.has(g))){i=Bn(u,i),u=mb(2),g=ui(o,u,2),g!==null&&(pb(u,g,o,i),Oe(g,2),vr(g));break}}o=o.return}}function Hm(i,o,u){var g=i.pingCache;if(g===null){g=i.pingCache=new fO;var y=new Set;g.set(o,y)}else y=g.get(o),y===void 0&&(y=new Set,g.set(o,y));y.has(u)||(km=!0,y.add(u),i=gO.bind(null,i,o,u),o.then(i,i))}function gO(i,o,u){var g=i.pingCache;g!==null&&g.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,rt===i&&(qe&u)===u&&(pt===4||pt===3&&(qe&62914560)===qe&&300>xt()-Bm?(je&2)===0&&yo(i,0):Lm|=u,ho===qe&&(ho=0)),vr(i)}function cS(i,o){o===0&&(o=xe()),i=Qa(i,o),i!==null&&(Oe(i,o),vr(i))}function vO(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),cS(i,u)}function yO(i,o){var u=0;switch(i.tag){case 13:var g=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(o),cS(i,u)}function xO(i,o){return ut(i,o)}var Vu=null,bo=null,jm=!1,zu=!1,Ym=!1,sa=0;function vr(i){i!==bo&&i.next===null&&(bo===null?Vu=bo=i:bo=bo.next=i),zu=!0,jm||(jm=!0,SO())}function Fl(i,o){if(!Ym&&zu){Ym=!0;do for(var u=!1,g=Vu;g!==null;){if(i!==0){var y=g.pendingLanes;if(y===0)var b=0;else{var A=g.suspendedLanes,P=g.pingedLanes;b=(1<<31-kt(42|i)+1)-1,b&=y&~(A&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,pS(g,b))}else b=qe,b=Ba(g,g===rt?b:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(b&3)===0||ae(g,b)||(u=!0,pS(g,b));g=g.next}while(u);Ym=!1}}function bO(){fS()}function fS(){zu=jm=!1;var i=0;sa!==0&&(NO()&&(i=sa),sa=0);for(var o=xt(),u=null,g=Vu;g!==null;){var y=g.next,b=dS(g,o);b===0?(g.next=null,u===null?Vu=y:u.next=y,y===null&&(bo=u)):(u=g,(i!==0||(b&3)!==0)&&(zu=!0)),g=y}Fl(i)}function dS(i,o){for(var u=i.suspendedLanes,g=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-kt(b),P=1<<A,I=y[A];I===-1?((P&u)===0||(P&g)!==0)&&(y[A]=le(P,o)):I<=o&&(i.expiredLanes|=P),b&=~P}if(o=rt,u=qe,u=Ba(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g=i.callbackNode,u===0||i===o&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)return g!==null&&g!==null&&Ve(g),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ae(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(g!==null&&Ve(g),sd(u)){case 2:case 8:u=ce;break;case 32:u=$i;break;case 268435456:u=js;break;default:u=$i}return g=mS.bind(null,i),u=ut(u,g),i.callbackPriority=o,i.callbackNode=u,o}return g!==null&&g!==null&&Ve(g),i.callbackPriority=2,i.callbackNode=null,2}function mS(i,o){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(qu()&&i.callbackNode!==u)return null;var g=qe;return g=Ba(i,i===rt?g:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g===0?null:(Jb(i,g,o),dS(i,xt()),i.callbackNode!=null&&i.callbackNode===u?mS.bind(null,i):null)}function pS(i,o){if(qu())return null;Jb(i,o,!0)}function SO(){PO(function(){(je&6)!==0?ut(Hs,bO):fS()})}function Km(){return sa===0&&(sa=ue()),sa}function hS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zs(""+i)}function gS(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function TO(i,o,u,g,y){if(o==="submit"&&u&&u.stateNode===y){var b=hS((y[ln]||null).action),A=g.submitter;A&&(o=(o=A[ln]||null)?hS(o.formAction):A.getAttribute("formAction"),o!==null&&(b=o,A=null));var P=new nu("action","action",null,g,y);i.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(sa!==0){var I=A?gS(y,A):new FormData(y);pm(u,{pending:!0,data:I,method:y.method,action:b},null,I)}}else typeof b=="function"&&(P.preventDefault(),I=A?gS(y,A):new FormData(y),pm(u,{pending:!0,data:I,method:y.method,action:b},b,I))},currentTarget:y}]})}}for(var Jm=0;Jm<Od.length;Jm++){var Wm=Od[Jm],CO=Wm.toLowerCase(),EO=Wm[0].toUpperCase()+Wm.slice(1);nr(CO,"on"+EO)}nr(J0,"onAnimationEnd"),nr(W0,"onAnimationIteration"),nr(X0,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(zD,"onTransitionRun"),nr($D,"onTransitionStart"),nr(GD,"onTransitionCancel"),nr(Z0,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function vS(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],y=g.event;g=g.listeners;e:{var b=void 0;if(o)for(var A=g.length-1;0<=A;A--){var P=g[A],I=P.instance,H=P.currentTarget;if(P=P.listener,I!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=H;try{b(y)}catch(X){_u(X)}y.currentTarget=null,b=I}else for(A=0;A<g.length;A++){if(P=g[A],I=P.instance,H=P.currentTarget,P=P.listener,I!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=H;try{b(y)}catch(X){_u(X)}y.currentTarget=null,b=I}}}}function Be(i,o){var u=o[ud];u===void 0&&(u=o[ud]=new Set);var g=i+"__bubble";u.has(g)||(yS(o,i,2,!1),u.add(g))}function Xm(i,o,u){var g=0;o&&(g|=4),yS(u,i,g,o)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Zm(i){if(!i[$u]){i[$u]=!0,f0.forEach(function(u){u!=="selectionchange"&&(AO.has(u)||Xm(u,!1,i),Xm(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[$u]||(o[$u]=!0,Xm("selectionchange",!1,o))}}function yS(i,o,u,g){switch($S(o)){case 2:var y=ZO;break;case 8:y=QO;break;default:y=dp}u=y.bind(null,o,u,i),y=void 0,!bd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),g?y!==void 0?i.addEventListener(o,u,{capture:!0,passive:y}):i.addEventListener(o,u,!0):y!==void 0?i.addEventListener(o,u,{passive:y}):i.addEventListener(o,u,!1)}function Qm(i,o,u,g,y){var b=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var P=g.stateNode.containerInfo;if(P===y)break;if(A===4)for(A=g.return;A!==null;){var I=A.tag;if((I===3||I===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;P!==null;){if(A=Va(P),A===null)return;if(I=A.tag,I===5||I===6||I===26||I===27){g=b=A;continue e}P=P.parentNode}}g=g.return}A0(function(){var H=b,X=yd(u),ee=[];e:{var j=Q0.get(i);if(j!==void 0){var Y=nu,Me=i;switch(i){case"keypress":if(eu(u)===0)break e;case"keydown":case"keyup":Y=xD;break;case"focusin":Me="focus",Y=Ed;break;case"focusout":Me="blur",Y=Ed;break;case"beforeblur":case"afterblur":Y=Ed;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=lD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=TD;break;case J0:case W0:case X0:Y=cD;break;case Z0:Y=ED;break;case"scroll":case"scrollend":Y=aD;break;case"wheel":Y=wD;break;case"copy":case"cut":case"paste":Y=dD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=R0;break;case"toggle":case"beforetoggle":Y=_D}var Ee=(o&4)!==0,Qe=!Ee&&(i==="scroll"||i==="scrollend"),q=Ee?j!==null?j+"Capture":null:j;Ee=[];for(var U=H,G;U!==null;){var Z=U;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||q===null||(Z=cl(U,q),Z!=null&&Ee.push(jl(U,Z,G))),Qe)break;U=U.return}0<Ee.length&&(j=new Y(j,Me,null,u,X),ee.push({event:j,listeners:Ee}))}}if((o&7)===0){e:{if(j=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",j&&u!==vd&&(Me=u.relatedTarget||u.fromElement)&&(Va(Me)||Me[qa]))break e;if((Y||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,Y?(Me=u.relatedTarget||u.toElement,Y=H,Me=Me?Va(Me):null,Me!==null&&(Qe=l(Me),Ee=Me.tag,Me!==Qe||Ee!==5&&Ee!==27&&Ee!==6)&&(Me=null)):(Y=null,Me=H),Y!==Me)){if(Ee=_0,Z="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=R0,Z="onPointerLeave",q="onPointerEnter",U="pointer"),Qe=Y==null?j:ul(Y),G=Me==null?j:ul(Me),j=new Ee(Z,U+"leave",Y,u,X),j.target=Qe,j.relatedTarget=G,Z=null,Va(X)===H&&(Ee=new Ee(q,U+"enter",Me,u,X),Ee.target=G,Ee.relatedTarget=Qe,Z=Ee),Qe=Z,Y&&Me)t:{for(Ee=Y,q=Me,U=0,G=Ee;G;G=So(G))U++;for(G=0,Z=q;Z;Z=So(Z))G++;for(;0<U-G;)Ee=So(Ee),U--;for(;0<G-U;)q=So(q),G--;for(;U--;){if(Ee===q||q!==null&&Ee===q.alternate)break t;Ee=So(Ee),q=So(q)}Ee=null}else Ee=null;Y!==null&&xS(ee,j,Y,Ee,!1),Me!==null&&Qe!==null&&xS(ee,Qe,Me,Ee,!0)}}e:{if(j=H?ul(H):window,Y=j.nodeName&&j.nodeName.toLowerCase(),Y==="select"||Y==="input"&&j.type==="file")var pe=B0;else if(L0(j))if(q0)pe=BD;else{pe=LD;var Le=kD}else Y=j.nodeName,!Y||Y.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?H&&gd(H.elementType)&&(pe=B0):pe=UD;if(pe&&(pe=pe(i,H))){U0(ee,pe,u,X);break e}Le&&Le(i,j,H),i==="focusout"&&H&&j.type==="number"&&H.memoizedProps.value!=null&&hd(j,"number",j.value)}switch(Le=H?ul(H):window,i){case"focusin":(L0(Le)||Le.contentEditable==="true")&&(Wa=Le,Rd=H,yl=null);break;case"focusout":yl=Rd=Wa=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Y0(ee,u,X);break;case"selectionchange":if(VD)break;case"keydown":case"keyup":Y0(ee,u,X)}var be;if(wd)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ja?I0(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(P0&&u.locale!=="ko"&&(Ja||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ja&&(be=w0()):(ai=X,Sd="value"in ai?ai.value:ai.textContent,Ja=!0)),Le=Gu(H,Ae),0<Le.length&&(Ae=new N0(Ae,i,null,u,X),ee.push({event:Ae,listeners:Le}),be?Ae.data=be:(be=k0(u),be!==null&&(Ae.data=be)))),(be=RD?PD(i,u):DD(i,u))&&(Ae=Gu(H,"onBeforeInput"),0<Ae.length&&(Le=new N0("onBeforeInput","beforeinput",null,u,X),ee.push({event:Le,listeners:Ae}),Le.data=be)),TO(ee,i,H,u,X)}vS(ee,o)})}function jl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Gu(i,o){for(var u=o+"Capture",g=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=cl(i,u),y!=null&&g.unshift(jl(i,y,b)),y=cl(i,o),y!=null&&g.push(jl(i,y,b))),i.tag===3)return g;i=i.return}return[]}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function xS(i,o,u,g,y){for(var b=o._reactName,A=[];u!==null&&u!==g;){var P=u,I=P.alternate,H=P.stateNode;if(P=P.tag,I!==null&&I===g)break;P!==5&&P!==26&&P!==27||H===null||(I=H,y?(H=cl(u,b),H!=null&&A.unshift(jl(u,H,I))):y||(H=cl(u,b),H!=null&&A.push(jl(u,H,I)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var wO=/\r\n?/g,MO=/\u0000|\uFFFD/g;function bS(i){return(typeof i=="string"?i:""+i).replace(wO,`
`).replace(MO,"")}function SS(i,o){return o=bS(o),bS(i)===o}function Fu(){}function Ze(i,o,u,g,y,b){switch(u){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||ja(i,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&ja(i,""+g);break;case"className":Js(i,"class",g);break;case"tabIndex":Js(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(i,u,g);break;case"style":C0(i,g,b);break;case"data":if(o!=="object"){Js(i,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(u);break}g=Zs(""+g),i.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Ze(i,o,"name",y.name,y,null),Ze(i,o,"formEncType",y.formEncType,y,null),Ze(i,o,"formMethod",y.formMethod,y,null),Ze(i,o,"formTarget",y.formTarget,y,null)):(Ze(i,o,"encType",y.encType,y,null),Ze(i,o,"method",y.method,y,null),Ze(i,o,"target",y.target,y,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(u);break}g=Zs(""+g),i.setAttribute(u,g);break;case"onClick":g!=null&&(i.onclick=Fu);break;case"onScroll":g!=null&&Be("scroll",i);break;case"onScrollEnd":g!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(u=g.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}u=Zs(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(u,""+g):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":g===!0?i.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(u,g):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(u,g):i.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(u):i.setAttribute(u,g);break;case"popover":Be("beforetoggle",i),Be("toggle",i),Ks(i,"popover",g);break;case"xlinkActuate":wr(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":wr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":wr(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":wr(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":wr(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":wr(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":wr(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":wr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":wr(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ks(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=rD.get(u)||u,Ks(i,u,g))}}function ep(i,o,u,g,y,b){switch(u){case"style":C0(i,g,b);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(u=g.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof g=="string"?ja(i,g):(typeof g=="number"||typeof g=="bigint")&&ja(i,""+g);break;case"onScroll":g!=null&&Be("scroll",i);break;case"onScrollEnd":g!=null&&Be("scrollend",i);break;case"onClick":g!=null&&(i.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!d0.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=i[ln]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(o,b,y),typeof g=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,g,y);break e}u in i?i[u]=g:g===!0?i.setAttribute(u,""):Ks(i,u,g)}}}function jt(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var g=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var A=u[b];if(A!=null)switch(b){case"src":g=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ze(i,o,b,A,u,null)}}y&&Ze(i,o,"srcSet",u.srcSet,u,null),g&&Ze(i,o,"src",u.src,u,null);return;case"input":Be("invalid",i);var P=b=A=y=null,I=null,H=null;for(g in u)if(u.hasOwnProperty(g)){var X=u[g];if(X!=null)switch(g){case"name":y=X;break;case"type":A=X;break;case"checked":I=X;break;case"defaultChecked":H=X;break;case"value":b=X;break;case"defaultValue":P=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:Ze(i,o,g,X,u,null)}}x0(i,b,P,I,H,A,y,!1),Ws(i);return;case"select":Be("invalid",i),g=A=b=null;for(y in u)if(u.hasOwnProperty(y)&&(P=u[y],P!=null))switch(y){case"value":b=P;break;case"defaultValue":A=P;break;case"multiple":g=P;default:Ze(i,o,y,P,u,null)}o=b,u=A,i.multiple=!!g,o!=null?Ha(i,!!g,o,!1):u!=null&&Ha(i,!!g,u,!0);return;case"textarea":Be("invalid",i),b=y=g=null;for(A in u)if(u.hasOwnProperty(A)&&(P=u[A],P!=null))switch(A){case"value":g=P;break;case"defaultValue":y=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Ze(i,o,A,P,u,null)}S0(i,g,y,b),Ws(i);return;case"option":for(I in u)if(u.hasOwnProperty(I)&&(g=u[I],g!=null))switch(I){case"selected":i.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ze(i,o,I,g,u,null)}return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(g=0;g<Hl.length;g++)Be(Hl[g],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in u)if(u.hasOwnProperty(H)&&(g=u[H],g!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ze(i,o,H,g,u,null)}return;default:if(gd(o)){for(X in u)u.hasOwnProperty(X)&&(g=u[X],g!==void 0&&ep(i,o,X,g,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(g=u[P],g!=null&&Ze(i,o,P,g,u,null))}function _O(i,o,u,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,P=null,I=null,H=null,X=null;for(Y in u){var ee=u[Y];if(u.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ee;default:g.hasOwnProperty(Y)||Ze(i,o,Y,null,g,ee)}}for(var j in g){var Y=g[j];if(ee=u[j],g.hasOwnProperty(j)&&(Y!=null||ee!=null))switch(j){case"type":b=Y;break;case"name":y=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":A=Y;break;case"defaultValue":P=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,o));break;default:Y!==ee&&Ze(i,o,j,Y,g,ee)}}pd(i,A,P,I,H,X,b,y);return;case"select":Y=A=P=j=null;for(b in u)if(I=u[b],u.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":Y=I;default:g.hasOwnProperty(b)||Ze(i,o,b,null,g,I)}for(y in g)if(b=g[y],I=u[y],g.hasOwnProperty(y)&&(b!=null||I!=null))switch(y){case"value":j=b;break;case"defaultValue":P=b;break;case"multiple":A=b;default:b!==I&&Ze(i,o,y,b,g,I)}o=P,u=A,g=Y,j!=null?Ha(i,!!u,j,!1):!!g!=!!u&&(o!=null?Ha(i,!!u,o,!0):Ha(i,!!u,u?[]:"",!1));return;case"textarea":Y=j=null;for(P in u)if(y=u[P],u.hasOwnProperty(P)&&y!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ze(i,o,P,null,g,y)}for(A in g)if(y=g[A],b=u[A],g.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":j=y;break;case"defaultValue":Y=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Ze(i,o,A,y,g,b)}b0(i,j,Y);return;case"option":for(var Me in u)if(j=u[Me],u.hasOwnProperty(Me)&&j!=null&&!g.hasOwnProperty(Me))switch(Me){case"selected":i.selected=!1;break;default:Ze(i,o,Me,null,g,j)}for(I in g)if(j=g[I],Y=u[I],g.hasOwnProperty(I)&&j!==Y&&(j!=null||Y!=null))switch(I){case"selected":i.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(i,o,I,j,g,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in u)j=u[Ee],u.hasOwnProperty(Ee)&&j!=null&&!g.hasOwnProperty(Ee)&&Ze(i,o,Ee,null,g,j);for(H in g)if(j=g[H],Y=u[H],g.hasOwnProperty(H)&&j!==Y&&(j!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,o));break;default:Ze(i,o,H,j,g,Y)}return;default:if(gd(o)){for(var Qe in u)j=u[Qe],u.hasOwnProperty(Qe)&&j!==void 0&&!g.hasOwnProperty(Qe)&&ep(i,o,Qe,void 0,g,j);for(X in g)j=g[X],Y=u[X],!g.hasOwnProperty(X)||j===Y||j===void 0&&Y===void 0||ep(i,o,X,j,g,Y);return}}for(var q in u)j=u[q],u.hasOwnProperty(q)&&j!=null&&!g.hasOwnProperty(q)&&Ze(i,o,q,null,g,j);for(ee in g)j=g[ee],Y=u[ee],!g.hasOwnProperty(ee)||j===Y||j==null&&Y==null||Ze(i,o,ee,j,g,Y)}var tp=null,np=null;function Hu(i){return i.nodeType===9?i:i.ownerDocument}function TS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function rp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ip=null;function NO(){var i=window.event;return i&&i.type==="popstate"?i===ip?!1:(ip=i,!0):(ip=null,!1)}var ES=typeof setTimeout=="function"?setTimeout:void 0,RO=typeof clearTimeout=="function"?clearTimeout:void 0,AS=typeof Promise=="function"?Promise:void 0,PO=typeof queueMicrotask=="function"?queueMicrotask:typeof AS<"u"?function(i){return AS.resolve(null).then(i).catch(DO)}:ES;function DO(i){setTimeout(function(){throw i})}function Si(i){return i==="head"}function wS(i,o){var u=o,g=0,y=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<g&&8>g){u=g;var A=i.ownerDocument;if(u&1&&Yl(A.documentElement),u&2&&Yl(A.body),u&4)for(u=A.head,Yl(u),A=u.firstChild;A;){var P=A.nextSibling,I=A.nodeName;A[sl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=P}}if(y===0){i.removeChild(b),ts(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:g=u.charCodeAt(0)-48;else g=0;u=b}while(u);ts(o)}function ap(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ap(u),cd(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function OO(i,o,u,g){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[sl])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=ir(i.nextSibling),i===null)break}return null}function IO(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ir(i.nextSibling),i===null))return null;return i}function op(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function kO(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var g=function(){o(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),i._reactRetry=g}}function ir(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var lp=null;function MS(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function _S(i,o,u){switch(o=Hu(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Yl(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);cd(i)}var Fn=new Map,NS=new Set;function ju(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Vr=ne.d;ne.d={f:LO,r:UO,D:BO,C:qO,L:VO,m:zO,X:GO,S:$O,M:FO};function LO(){var i=Vr.f(),o=Uu();return i||o}function UO(i){var o=za(i);o!==null&&o.tag===5&&o.type==="form"?Jx(o):Vr.r(i)}var To=typeof document>"u"?null:document;function RS(i,o,u){var g=To;if(g&&typeof o=="string"&&o){var y=Un(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),NS.has(y)||(NS.add(y),i={rel:i,crossOrigin:u,href:o},g.querySelector(y)===null&&(o=g.createElement("link"),jt(o,"link",i),Lt(o),g.head.appendChild(o)))}}function BO(i){Vr.D(i),RS("dns-prefetch",i,null)}function qO(i,o){Vr.C(i,o),RS("preconnect",i,o)}function VO(i,o,u){Vr.L(i,o,u);var g=To;if(g&&i&&o){var y='link[rel="preload"][as="'+Un(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Un(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Un(u.imageSizes)+'"]')):y+='[href="'+Un(i)+'"]';var b=y;switch(o){case"style":b=Co(i);break;case"script":b=Eo(i)}Fn.has(b)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Fn.set(b,i),g.querySelector(y)!==null||o==="style"&&g.querySelector(Kl(b))||o==="script"&&g.querySelector(Jl(b))||(o=g.createElement("link"),jt(o,"link",i),Lt(o),g.head.appendChild(o)))}}function zO(i,o){Vr.m(i,o);var u=To;if(u&&i){var g=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Un(g)+'"][href="'+Un(i)+'"]',b=y;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Eo(i)}if(!Fn.has(b)&&(i=h({rel:"modulepreload",href:i},o),Fn.set(b,i),u.querySelector(y)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jl(b)))return}g=u.createElement("link"),jt(g,"link",i),Lt(g),u.head.appendChild(g)}}}function $O(i,o,u){Vr.S(i,o,u);var g=To;if(g&&i){var y=$a(g).hoistableStyles,b=Co(i);o=o||"default";var A=y.get(b);if(!A){var P={loading:0,preload:null};if(A=g.querySelector(Kl(b)))P.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Fn.get(b))&&sp(i,u);var I=A=g.createElement("link");Lt(I),jt(I,"link",i),I._p=new Promise(function(H,X){I.onload=H,I.onerror=X}),I.addEventListener("load",function(){P.loading|=1}),I.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Yu(A,o,g)}A={type:"stylesheet",instance:A,count:1,state:P},y.set(b,A)}}}function GO(i,o){Vr.X(i,o);var u=To;if(u&&i){var g=$a(u).hoistableScripts,y=Eo(i),b=g.get(y);b||(b=u.querySelector(Jl(y)),b||(i=h({src:i,async:!0},o),(o=Fn.get(y))&&up(i,o),b=u.createElement("script"),Lt(b),jt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(y,b))}}function FO(i,o){Vr.M(i,o);var u=To;if(u&&i){var g=$a(u).hoistableScripts,y=Eo(i),b=g.get(y);b||(b=u.querySelector(Jl(y)),b||(i=h({src:i,async:!0,type:"module"},o),(o=Fn.get(y))&&up(i,o),b=u.createElement("script"),Lt(b),jt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(y,b))}}function PS(i,o,u,g){var y=(y=we.current)?ju(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Co(u.href),u=$a(y).hoistableStyles,g=u.get(o),g||(g={type:"style",instance:null,count:0,state:null},u.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Co(u.href);var b=$a(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(Kl(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Fn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Fn.set(i,u),b||HO(y,i,u,A.state))),o&&g===null)throw Error(r(528,""));return A}if(o&&g!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Eo(u),u=$a(y).hoistableScripts,g=u.get(o),g||(g={type:"script",instance:null,count:0,state:null},u.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Co(i){return'href="'+Un(i)+'"'}function Kl(i){return'link[rel="stylesheet"]['+i+"]"}function DS(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function HO(i,o,u,g){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=i.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),jt(o,"link",u),Lt(o),i.head.appendChild(o))}function Eo(i){return'[src="'+Un(i)+'"]'}function Jl(i){return"script[async]"+i}function OS(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var g=i.querySelector('style[data-href~="'+Un(u.href)+'"]');if(g)return o.instance=g,Lt(g),g;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),Lt(g),jt(g,"style",y),Yu(g,u.precedence,i),o.instance=g;case"stylesheet":y=Co(u.href);var b=i.querySelector(Kl(y));if(b)return o.state.loading|=4,o.instance=b,Lt(b),b;g=DS(u),(y=Fn.get(y))&&sp(g,y),b=(i.ownerDocument||i).createElement("link"),Lt(b);var A=b;return A._p=new Promise(function(P,I){A.onload=P,A.onerror=I}),jt(b,"link",g),o.state.loading|=4,Yu(b,u.precedence,i),o.instance=b;case"script":return b=Eo(u.src),(y=i.querySelector(Jl(b)))?(o.instance=y,Lt(y),y):(g=u,(y=Fn.get(b))&&(g=h({},u),up(g,y)),i=i.ownerDocument||i,y=i.createElement("script"),Lt(y),jt(y,"link",g),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,Yu(g,u.precedence,i));return o.instance}function Yu(i,o,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=g.length?g[g.length-1]:null,b=y,A=0;A<g.length;A++){var P=g[A];if(P.dataset.precedence===o)b=P;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function sp(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function up(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Ku=null;function IS(i,o,u){if(Ku===null){var g=new Map,y=Ku=new Map;y.set(u,g)}else y=Ku,g=y.get(u),g||(g=new Map,y.set(u,g));if(g.has(i))return g;for(g.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var b=u[y];if(!(b[sl]||b[Wt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(o)||"";A=i+A;var P=g.get(A);P?P.push(b):g.set(A,[b])}}return g}function kS(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function jO(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function LS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wl=null;function YO(){}function KO(i,o,u){if(Wl===null)throw Error(r(475));var g=Wl;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Co(u.href),b=i.querySelector(Kl(y));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(g.count++,g=Ju.bind(g),i.then(g,g)),o.state.loading|=4,o.instance=b,Lt(b);return}b=i.ownerDocument||i,u=DS(u),(y=Fn.get(y))&&sp(u,y),b=b.createElement("link"),Lt(b);var A=b;A._p=new Promise(function(P,I){A.onload=P,A.onerror=I}),jt(b,"link",u),o.instance=b}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(g.count++,o=Ju.bind(g),i.addEventListener("load",o),i.addEventListener("error",o))}}function JO(){if(Wl===null)throw Error(r(475));var i=Wl;return i.stylesheets&&i.count===0&&cp(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&cp(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wu=null;function cp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wu=new Map,o.forEach(WO,i),Wu=null,Ju.call(i))}function WO(i,o){if(!(o.state.loading&4)){var u=Wu.get(i);if(u)var g=u.get(null);else{u=new Map,Wu.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),g=A)}g&&u.set(null,g)}y=o.instance,A=y.getAttribute("data-precedence"),b=u.get(A)||g,b===g&&u.set(null,y),u.set(A,y),this.count++,g=Ju.bind(this),y.addEventListener("load",g),y.addEventListener("error",g),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Xl={$$typeof:N,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function XO(i,o,u,g,y,b,A,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=g,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function US(i,o,u,g,y,b,A,P,I,H,X,ee){return i=new XO(i,o,u,A,P,I,H,ee),o=1,b===!0&&(o|=24),b=xn(3,null,null,o),i.current=b,b.stateNode=i,o=Hd(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:g,isDehydrated:u,cache:o},Jd(b),i}function BS(i){return i?(i=eo,i):eo}function qS(i,o,u,g,y,b){y=BS(y),g.context===null?g.context=y:g.pendingContext=y,g=si(o),g.payload={element:u},b=b===void 0?null:b,b!==null&&(g.callback=b),u=ui(i,g,o),u!==null&&(En(u,i,o),Ml(u,i,o))}function VS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function fp(i,o){VS(i,o),(i=i.alternate)&&VS(i,o)}function zS(i){if(i.tag===13){var o=Qa(i,67108864);o!==null&&En(o,i,67108864),fp(i,67108864)}}var Xu=!0;function ZO(i,o,u,g){var y=F.T;F.T=null;var b=ne.p;try{ne.p=2,dp(i,o,u,g)}finally{ne.p=b,F.T=y}}function QO(i,o,u,g){var y=F.T;F.T=null;var b=ne.p;try{ne.p=8,dp(i,o,u,g)}finally{ne.p=b,F.T=y}}function dp(i,o,u,g){if(Xu){var y=mp(g);if(y===null)Qm(i,o,g,Zu,u),GS(i,g);else if(tI(y,i,o,u,g))g.stopPropagation();else if(GS(i,g),o&4&&-1<eI.indexOf(i)){for(;y!==null;){var b=za(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Ar(b.pendingLanes);if(A!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var I=1<<31-kt(A);P.entanglements[1]|=I,A&=~I}vr(b),(je&6)===0&&(ku=xt()+500,Fl(0))}}break;case 13:P=Qa(b,2),P!==null&&En(P,b,2),Uu(),fp(b,2)}if(b=mp(g),b===null&&Qm(i,o,g,Zu,u),b===y)break;y=b}y!==null&&g.stopPropagation()}else Qm(i,o,g,null,u)}}function mp(i){return i=yd(i),pp(i)}var Zu=null;function pp(i){if(Zu=null,i=Va(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=s(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Zu=i,null}function $S(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zi()){case Hs:return 2;case ce:return 8;case $i:case nd:return 32;case js:return 268435456;default:return 32}default:return 32}}var hp=!1,Ti=null,Ci=null,Ei=null,Zl=new Map,Ql=new Map,Ai=[],eI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GS(i,o){switch(i){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Zl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(o.pointerId)}}function es(i,o,u,g,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:u,eventSystemFlags:g,nativeEvent:b,targetContainers:[y]},o!==null&&(o=za(o),o!==null&&zS(o)),i):(i.eventSystemFlags|=g,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function tI(i,o,u,g,y){switch(o){case"focusin":return Ti=es(Ti,i,o,u,g,y),!0;case"dragenter":return Ci=es(Ci,i,o,u,g,y),!0;case"mouseover":return Ei=es(Ei,i,o,u,g,y),!0;case"pointerover":var b=y.pointerId;return Zl.set(b,es(Zl.get(b)||null,i,o,u,g,y)),!0;case"gotpointercapture":return b=y.pointerId,Ql.set(b,es(Ql.get(b)||null,i,o,u,g,y)),!0}return!1}function FS(i){var o=Va(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=s(u),o!==null){i.blockedOn=o,KP(i.priority,function(){if(u.tag===13){var g=Cn();g=ld(g);var y=Qa(u,g);y!==null&&En(y,u,g),fp(u,g)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qu(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=mp(i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);vd=g,u.target.dispatchEvent(g),vd=null}else return o=za(u),o!==null&&zS(o),i.blockedOn=u,!1;o.shift()}return!0}function HS(i,o,u){Qu(i)&&u.delete(o)}function nI(){hp=!1,Ti!==null&&Qu(Ti)&&(Ti=null),Ci!==null&&Qu(Ci)&&(Ci=null),Ei!==null&&Qu(Ei)&&(Ei=null),Zl.forEach(HS),Ql.forEach(HS)}function ec(i,o){i.blockedOn===o&&(i.blockedOn=null,hp||(hp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nI)))}var tc=null;function jS(i){tc!==i&&(tc=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){tc===i&&(tc=null);for(var o=0;o<i.length;o+=3){var u=i[o],g=i[o+1],y=i[o+2];if(typeof g!="function"){if(pp(g||u)===null)continue;break}var b=za(u);b!==null&&(i.splice(o,3),o-=3,pm(b,{pending:!0,data:y,method:u.method,action:g},g,y))}}))}function ts(i){function o(I){return ec(I,i)}Ti!==null&&ec(Ti,i),Ci!==null&&ec(Ci,i),Ei!==null&&ec(Ei,i),Zl.forEach(o),Ql.forEach(o);for(var u=0;u<Ai.length;u++){var g=Ai[u];g.blockedOn===i&&(g.blockedOn=null)}for(;0<Ai.length&&(u=Ai[0],u.blockedOn===null);)FS(u),u.blockedOn===null&&Ai.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var y=u[g],b=u[g+1],A=y[ln]||null;if(typeof b=="function")A||jS(u);else if(A){var P=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[ln]||null)P=A.formAction;else if(pp(y)!==null)continue}else P=A.action;typeof P=="function"?u[g+1]=P:(u.splice(g,3),g-=3),jS(u)}}}function gp(i){this._internalRoot=i}nc.prototype.render=gp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,g=Cn();qS(u,g,i,o,null,null)},nc.prototype.unmount=gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;qS(i.current,2,null,i,null,null),Uu(),o[qa]=null}};function nc(i){this._internalRoot=i}nc.prototype.unstable_scheduleHydration=function(i){if(i){var o=u0();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ai.length&&o!==0&&o<Ai[u].priority;u++);Ai.splice(u,0,i),u===0&&FS(i)}};var YS=t.version;if(YS!=="19.1.1")throw Error(r(527,YS,"19.1.1"));ne.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var rI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Gi=rc.inject(rI),It=rc}catch{}}return rs.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,g="",y=ub,b=cb,A=fb,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks)),o=US(i,1,!1,null,null,u,g,y,b,A,P,null),i[qa]=o.current,Zm(i),new gp(o)},rs.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var g=!1,y="",b=ub,A=cb,P=fb,I=null,H=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(I=u.unstable_transitionCallbacks),u.formState!==void 0&&(H=u.formState)),o=US(i,1,!0,o,u??null,g,y,b,A,P,I,H),o.context=BS(null),u=o.current,g=Cn(),g=ld(g),y=si(g),y.callback=null,ui(u,y,g),u=g,o.current.lanes=u,Oe(o,u),vr(o),i[qa]=o.current,Zm(i),new nc(o)},rs.version="19.1.1",rs}var rT;function gI(){if(rT)return bp.exports;rT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bp.exports=hI(),bp.exports}var vI=gI();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yI,xI;function bI(){return{geminiUrl:yI,vertexUrl:xI}}function SI(e,t,n,r){var a,l;if(!(e!=null&&e.baseUrl)){const s=bI();return t?(a=s.vertexUrl)!==null&&a!==void 0?a:n:(l=s.geminiUrl)!==null&&l!==void 0?l:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Na{}function ge(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const l=t[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function m(e,t,n){for(let l=0;l<t.length-1;l++){const s=t[l];if(s.endsWith("[]")){const c=s.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[c])){const p=e[c];if(Array.isArray(n))for(let d=0;d<p.length;d++){const h=p[d];m(h,t.slice(l+1),n[d])}else for(const d of p)m(d,t.slice(l+1),n)}return}else if(s.endsWith("[0]")){const c=s.slice(0,-3);c in e||(e[c]=[{}]);const p=e[c];m(p[0],t.slice(l+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const r=t[t.length-1],a=e[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function f(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(s=>f(s,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pg(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var iT;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(iT||(iT={}));var aT;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(aT||(aT={}));var ie;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ie||(ie={}));var oT;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(oT||(oT={}));var lT;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(lT||(lT={}));var sT;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(sT||(sT={}));var uT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(uT||(uT={}));var cT;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(cT||(cT={}));var fT;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fT||(fT={}));var dT;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dT||(dT={}));var mT;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mT||(mT={}));var pT;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(pT||(pT={}));var hT;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(hT||(hT={}));var gT;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gT||(gT={}));var vT;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"})(vT||(vT={}));var yT;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yT||(yT={}));var Ec;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Ec||(Ec={}));var xT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xT||(xT={}));var hg;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hg||(hg={}));var bT;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bT||(bT={}));var ST;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(ST||(ST={}));var TT;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(TT||(TT={}));var CT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(CT||(CT={}));var ET;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ET||(ET={}));var AT;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(AT||(AT={}));var wT;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(wT||(wT={}));var MT;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(MT||(MT={}));var _T;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_T||(_T={}));var NT;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(NT||(NT={}));var RT;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(RT||(RT={}));var PT;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(PT||(PT={}));var DT;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(DT||(DT={}));var OT;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(OT||(OT={}));var IT;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(IT||(IT={}));var kT;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(kT||(kT={}));var LT;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(LT||(LT={}));var UT;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(UT||(UT={}));var BT;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(BT||(BT={}));var qT;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qT||(qT={}));var VT;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(VT||(VT={}));var zT;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zT||(zT={}));var $T;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})($T||($T={}));var _o;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(_o||(_o={}));class gg{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class is{get text(){var t,n,r,a,l,s,c,p;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const v=[];for(const x of(p=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[S,T]of Object.entries(x))S!=="text"&&S!=="thought"&&(T!==null||T!==void 0)&&v.push(S);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;h=!0,d+=x.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,a,l,s,c,p;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const v of(p=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[x,S]of Object.entries(v))x!=="inlineData"&&(S!==null||S!==void 0)&&h.push(x);v.inlineData&&typeof v.inlineData.data=="string"&&(d+=atob(v.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,a,l,s,c,p;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,a,l,s,c,p,d;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(p=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,a,l,s,c,p,d;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(p=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class GT{}class FT{}class TI{}class CI{}class EI{}class HT{}class jT{}class YT{}class AI{}class KT{}class JT{}class WT{}class XT{}class wI{}class MI{}class _I{}class ZT{}class NI{get text(){var t,n,r;let a="",l=!1;const s=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[p,d]of Object.entries(c))p!=="text"&&p!=="thought"&&d!==null&&s.push(p);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;l=!0,a+=c.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var t,n,r;let a="";const l=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,p]of Object.entries(s))c!=="inlineData"&&p!==null&&l.push(c);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Ac{_fromAPIResponse({apiResponse:t,isVertexAI:n}){const r=new Ac;if(r.name=t.name,r.metadata=t.metadata,r.done=t.done,r.error=t.error,n){const a=t.response;if(a){const l=new KT,s=a.videos;l.generatedVideos=s==null?void 0:s.map(c=>({video:{uri:c.gcsUri,videoBytes:c.bytesBase64Encoded?pg(c.bytesBase64Encoded):void 0,mimeType:c.mimeType}})),l.raiMediaFilteredCount=a.raiMediaFilteredCount,l.raiMediaFilteredReasons=a.raiMediaFilteredReasons,r.response=l}}else{const a=t.response;if(a){const l=new KT,s=a.generateVideoResponse,c=s==null?void 0:s.generatedSamples;l.generatedVideos=c==null?void 0:c.map(p=>{const d=p.video;return{video:{uri:d==null?void 0:d.uri,videoBytes:d!=null&&d.encodedVideo?pg(d==null?void 0:d.encodedVideo):void 0,mimeType:p.encoding}}}),l.raiMediaFilteredCount=s==null?void 0:s.raiMediaFilteredCount,l.raiMediaFilteredReasons=s==null?void 0:s.raiMediaFilteredReasons,r.response=l}}return r}}class RI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function He(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function _1(e,t){const n=He(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function N1(e){return Array.isArray(e)?e.map(t=>wc(t)):[wc(e)]}function wc(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function R1(e){const t=wc(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function P1(e){const t=wc(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function QT(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function D1(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>QT(t)):[QT(e)]}function vg(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function eC(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function tC(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function nn(e){if(e==null)throw new Error("ContentUnion is required");return vg(e)?e:{role:"user",parts:D1(e)}}function O1(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=nn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=nn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>nn(n)):[nn(t)]}function Zn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(eC(e)||tC(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nn(e)]}const t=[],n=[],r=vg(e[0]);for(const a of e){const l=vg(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(a);else{if(eC(a)||tC(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||t.push({role:"user",parts:D1(n)}),t}function PI(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(ie).includes(n[0].toUpperCase())?n[0].toUpperCase():ie.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(ie).includes(r.toUpperCase())?r.toUpperCase():ie.TYPE_UNSPECIFIED})}}function Po(e){const t={},n=["items"],r=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&PI(e.type,t);for(const[s,c]of Object.entries(e))if(c!=null)if(s=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(ie).includes(c.toUpperCase())?c.toUpperCase():ie.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Po(c);else if(r.includes(s)){const p=[];for(const d of c){if(d.type=="null"){t.nullable=!0;continue}p.push(Po(d))}t[s]=p}else if(a.includes(s)){const p={};for(const[d,h]of Object.entries(c))p[d]=Po(h);t[s]=p}else{if(s==="additionalProperties")continue;t[s]=c}return t}function bv(e){return Po(e)}function Sv(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Tv(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ko(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Po(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Po(t.response));return e}function Jo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function DI(e,t,n,r=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function Zr(e,t){if(typeof t!="string")throw new Error("name must be a string");return DI(e,t,"cachedContents")}function I1(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ra(e){return pg(e)}function OI(e){return e!=null&&typeof e=="object"&&"name"in e}function II(e){return e!=null&&typeof e=="object"&&"video"in e}function kI(e){return e!=null&&typeof e=="object"&&"uri"in e}function k1(e){var t;let n;if(OI(e)&&(n=e.name),!(kI(e)&&(n=e.uri,n===void 0))&&!(II(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function L1(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function U1(e){for(const t of["models","tunedModels","publisherModels"])if(LI(e,t))return e[t];return[]}function LI(e,t){return e!==null&&typeof e=="object"&&t in e}function UI(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function BI(e,t={}){const n=[],r=new Set;for(const a of e){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const s=UI(a,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function B1(e,t){if(typeof t!="string"&&!Array.isArray(t)){if(e&&e.isVertexAI()){if(t.gcsUri&&t.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!t.gcsUri&&!t.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(t.inlinedRequests&&t.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!t.inlinedRequests&&!t.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return t}else{if(Array.isArray(t))return{inlinedRequests:t};if(typeof t=="string"){if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:[t]};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};if(t.startsWith("files/"))return{fileName:t}}}throw new Error(`Unsupported source: ${t}`)}function qI(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Wo(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function q1(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VI(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function zI(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function $I(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function GI(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],VI(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],zI(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],$I(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function V1(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>GI(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function FI(e){const t={},n=f(e,["anyOf"]);n!=null&&m(t,["anyOf"],n);const r=f(e,["default"]);r!=null&&m(t,["default"],r);const a=f(e,["description"]);a!=null&&m(t,["description"],a);const l=f(e,["enum"]);l!=null&&m(t,["enum"],l);const s=f(e,["example"]);s!=null&&m(t,["example"],s);const c=f(e,["format"]);c!=null&&m(t,["format"],c);const p=f(e,["items"]);p!=null&&m(t,["items"],p);const d=f(e,["maxItems"]);d!=null&&m(t,["maxItems"],d);const h=f(e,["maxLength"]);h!=null&&m(t,["maxLength"],h);const v=f(e,["maxProperties"]);v!=null&&m(t,["maxProperties"],v);const x=f(e,["maximum"]);x!=null&&m(t,["maximum"],x);const S=f(e,["minItems"]);S!=null&&m(t,["minItems"],S);const T=f(e,["minLength"]);T!=null&&m(t,["minLength"],T);const C=f(e,["minProperties"]);C!=null&&m(t,["minProperties"],C);const E=f(e,["minimum"]);E!=null&&m(t,["minimum"],E);const _=f(e,["nullable"]);_!=null&&m(t,["nullable"],_);const R=f(e,["pattern"]);R!=null&&m(t,["pattern"],R);const N=f(e,["properties"]);N!=null&&m(t,["properties"],N);const O=f(e,["propertyOrdering"]);O!=null&&m(t,["propertyOrdering"],O);const D=f(e,["required"]);D!=null&&m(t,["required"],D);const k=f(e,["title"]);k!=null&&m(t,["title"],k);const B=f(e,["type"]);return B!=null&&m(t,["type"],B),t}function HI(e){const t={};if(f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(e,["category"]);n!=null&&m(t,["category"],n);const r=f(e,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function jI(e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["name"]);a!=null&&m(t,["name"],a);const l=f(e,["parameters"]);l!=null&&m(t,["parameters"],l);const s=f(e,["parametersJsonSchema"]);s!=null&&m(t,["parametersJsonSchema"],s);const c=f(e,["response"]);c!=null&&m(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&m(t,["responseJsonSchema"],p),t}function YI(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function KI(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],YI(n)),t}function JI(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function WI(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],JI(n)),t}function XI(){return{}}function ZI(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(d=>jI(d))),m(t,["functionDeclarations"],p)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],KI(r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&m(t,["googleSearchRetrieval"],WI(a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],XI());const s=f(e,["codeExecution"]);s!=null&&m(t,["codeExecution"],s);const c=f(e,["computerUse"]);return c!=null&&m(t,["computerUse"],c),t}function QI(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function e2(e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function t2(e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],e2(n));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function n2(e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],QI(n));const r=f(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],t2(r)),t}function r2(e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function z1(e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],r2(n)),t}function i2(e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const r=f(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],z1(r)),t}function a2(e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>i2(a))),m(t,["speakerVoiceConfigs"],r)}return t}function o2(e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],z1(n));const r=f(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],a2(r));const a=f(e,["languageCode"]);return a!=null&&m(t,["languageCode"],a),t}function l2(e){const t={},n=f(e,["includeThoughts"]);n!=null&&m(t,["includeThoughts"],n);const r=f(e,["thinkingBudget"]);return r!=null&&m(t,["thinkingBudget"],r),t}function s2(e,t,n){const r={},a=f(t,["systemInstruction"]);n!==void 0&&a!=null&&m(n,["systemInstruction"],V1(nn(a)));const l=f(t,["temperature"]);l!=null&&m(r,["temperature"],l);const s=f(t,["topP"]);s!=null&&m(r,["topP"],s);const c=f(t,["topK"]);c!=null&&m(r,["topK"],c);const p=f(t,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const d=f(t,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const h=f(t,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const v=f(t,["responseLogprobs"]);v!=null&&m(r,["responseLogprobs"],v);const x=f(t,["logprobs"]);x!=null&&m(r,["logprobs"],x);const S=f(t,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const T=f(t,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const C=f(t,["seed"]);C!=null&&m(r,["seed"],C);const E=f(t,["responseMimeType"]);E!=null&&m(r,["responseMimeType"],E);const _=f(t,["responseSchema"]);_!=null&&m(r,["responseSchema"],FI(bv(_)));const R=f(t,["responseJsonSchema"]);if(R!=null&&m(r,["responseJsonSchema"],R),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=f(t,["safetySettings"]);if(n!==void 0&&N!=null){let $=N;Array.isArray($)&&($=$.map(K=>HI(K))),m(n,["safetySettings"],$)}const O=f(t,["tools"]);if(n!==void 0&&O!=null){let $=Jo(O);Array.isArray($)&&($=$.map(K=>ZI(Ko(K)))),m(n,["tools"],$)}const D=f(t,["toolConfig"]);if(n!==void 0&&D!=null&&m(n,["toolConfig"],n2(D)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=f(t,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],Zr(e,k));const B=f(t,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const V=f(t,["mediaResolution"]);V!=null&&m(r,["mediaResolution"],V);const z=f(t,["speechConfig"]);if(z!=null&&m(r,["speechConfig"],o2(Sv(z))),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=f(t,["thinkingConfig"]);return te!=null&&m(r,["thinkingConfig"],l2(te)),r}function u2(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["request","model"],He(e,r));const a=f(t,["contents"]);if(a!=null){let s=Zn(a);Array.isArray(s)&&(s=s.map(c=>V1(c))),m(n,["request","contents"],s)}const l=f(t,["config"]);return l!=null&&m(n,["request","generationConfig"],s2(e,l,n)),n}function c2(e,t){const n={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(t,["fileName"]);r!=null&&m(n,["fileName"],r);const a=f(t,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>u2(e,s))),m(n,["requests","requests"],l)}return n}function f2(e,t){const n={},r=f(e,["displayName"]);if(t!==void 0&&r!=null&&m(t,["batch","displayName"],r),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function d2(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["src"]);a!=null&&m(n,["batch","inputConfig"],c2(e,B1(e,a)));const l=f(t,["config"]);return l!=null&&m(n,["config"],f2(l,n)),n}function m2(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Wo(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function p2(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Wo(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function h2(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);if(t!==void 0&&a!=null&&m(t,["_query","pageToken"],a),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function g2(e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],h2(n,t)),t}function v2(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Wo(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function y2(e){const t={},n=f(e,["format"]);n!=null&&m(t,["instancesFormat"],n);const r=f(e,["gcsUri"]);r!=null&&m(t,["gcsSource","uris"],r);const a=f(e,["bigqueryUri"]);if(a!=null&&m(t,["bigquerySource","inputUri"],a),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function x2(e){const t={},n=f(e,["format"]);n!=null&&m(t,["predictionsFormat"],n);const r=f(e,["gcsUri"]);r!=null&&m(t,["gcsDestination","outputUriPrefix"],r);const a=f(e,["bigqueryUri"]);if(a!=null&&m(t,["bigqueryDestination","outputUri"],a),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return t}function b2(e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const a=f(e,["dest"]);return t!==void 0&&a!=null&&m(t,["outputConfig"],x2(qI(a))),n}function S2(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["model"],He(e,r));const a=f(t,["src"]);a!=null&&m(n,["inputConfig"],y2(B1(e,a)));const l=f(t,["config"]);return l!=null&&m(n,["config"],b2(l,n)),n}function T2(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Wo(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function C2(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Wo(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function E2(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&m(t,["_query","pageToken"],a);const l=f(e,["filter"]);return t!==void 0&&l!=null&&m(t,["_query","filter"],l),n}function A2(e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],E2(n,t)),t}function w2(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Wo(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function M2(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function _2(e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function N2(e){const t={},n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function R2(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],M2(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],_2(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],N2(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function P2(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>R2(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function D2(e){const t={},n=f(e,["citationSources"]);return n!=null&&m(t,["citations"],n),t}function O2(e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const r=f(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function I2(e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>O2(a))),m(t,["urlMetadata"],r)}return t}function k2(e){const t={},n=f(e,["content"]);n!=null&&m(t,["content"],P2(n));const r=f(e,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],D2(r));const a=f(e,["tokenCount"]);a!=null&&m(t,["tokenCount"],a);const l=f(e,["finishReason"]);l!=null&&m(t,["finishReason"],l);const s=f(e,["urlContextMetadata"]);s!=null&&m(t,["urlContextMetadata"],I2(s));const c=f(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const p=f(e,["groundingMetadata"]);p!=null&&m(t,["groundingMetadata"],p);const d=f(e,["index"]);d!=null&&m(t,["index"],d);const h=f(e,["logprobsResult"]);h!=null&&m(t,["logprobsResult"],h);const v=f(e,["safetyRatings"]);return v!=null&&m(t,["safetyRatings"],v),t}function L2(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(d=>k2(d))),m(t,["candidates"],p)}const a=f(e,["modelVersion"]);a!=null&&m(t,["modelVersion"],a);const l=f(e,["promptFeedback"]);l!=null&&m(t,["promptFeedback"],l);const s=f(e,["responseId"]);s!=null&&m(t,["responseId"],s);const c=f(e,["usageMetadata"]);return c!=null&&m(t,["usageMetadata"],c),t}function $1(e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const r=f(e,["code"]);r!=null&&m(t,["code"],r);const a=f(e,["message"]);return a!=null&&m(t,["message"],a),t}function U2(e){const t={},n=f(e,["response"]);n!=null&&m(t,["response"],L2(n));const r=f(e,["error"]);return r!=null&&m(t,["error"],$1(r)),t}function B2(e){const t={},n=f(e,["responsesFile"]);n!=null&&m(t,["fileName"],n);const r=f(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>U2(l))),m(t,["inlinedResponses"],a)}return t}function yg(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["metadata","displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["metadata","state"]);a!=null&&m(t,["state"],q1(a));const l=f(e,["metadata","createTime"]);l!=null&&m(t,["createTime"],l);const s=f(e,["metadata","endTime"]);s!=null&&m(t,["endTime"],s);const c=f(e,["metadata","updateTime"]);c!=null&&m(t,["updateTime"],c);const p=f(e,["metadata","model"]);p!=null&&m(t,["model"],p);const d=f(e,["metadata","output"]);return d!=null&&m(t,["dest"],B2(d)),t}function q2(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>yg(s))),m(t,["batchJobs"],l)}return t}function V2(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["done"]);a!=null&&m(t,["done"],a);const l=f(e,["error"]);return l!=null&&m(t,["error"],$1(l)),t}function G1(e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const r=f(e,["code"]);r!=null&&m(t,["code"],r);const a=f(e,["message"]);return a!=null&&m(t,["message"],a),t}function z2(e){const t={},n=f(e,["instancesFormat"]);n!=null&&m(t,["format"],n);const r=f(e,["gcsSource","uris"]);r!=null&&m(t,["gcsUri"],r);const a=f(e,["bigquerySource","inputUri"]);return a!=null&&m(t,["bigqueryUri"],a),t}function $2(e){const t={},n=f(e,["predictionsFormat"]);n!=null&&m(t,["format"],n);const r=f(e,["gcsDestination","outputUriPrefix"]);r!=null&&m(t,["gcsUri"],r);const a=f(e,["bigqueryDestination","outputUri"]);return a!=null&&m(t,["bigqueryUri"],a),t}function xg(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["state"]);a!=null&&m(t,["state"],q1(a));const l=f(e,["error"]);l!=null&&m(t,["error"],G1(l));const s=f(e,["createTime"]);s!=null&&m(t,["createTime"],s);const c=f(e,["startTime"]);c!=null&&m(t,["startTime"],c);const p=f(e,["endTime"]);p!=null&&m(t,["endTime"],p);const d=f(e,["updateTime"]);d!=null&&m(t,["updateTime"],d);const h=f(e,["model"]);h!=null&&m(t,["model"],h);const v=f(e,["inputConfig"]);v!=null&&m(t,["src"],z2(v));const x=f(e,["outputConfig"]);return x!=null&&m(t,["dest"],$2(x)),t}function G2(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>xg(s))),m(t,["batchJobs"],l)}return t}function F2(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["done"]);a!=null&&m(t,["done"],a);const l=f(e,["error"]);return l!=null&&m(t,["error"],G1(l)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ta;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ta||(Ta={}));class Ps{constructor(t,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,a)}init(t,n,r){var a,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(l=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H2 extends Na{constructor(t){super(),this.apiClient=t,this.create=async n=>{if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${a}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Ps(Ta.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=S2(this.apiClient,t);return c=ge("batchPredictionJobs",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>xg(h))}else{const d=d2(this.apiClient,t);return c=ge("{model}:batchGenerateContent",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>yg(h))}}async get(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=T2(this.apiClient,t);return c=ge("batchPredictionJobs/{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>xg(h))}else{const d=m2(this.apiClient,t);return c=ge("batches/{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>yg(h))}}async cancel(t){var n,r,a,l;let s="",c={};if(this.apiClient.isVertexAI()){const p=C2(this.apiClient,t);s=ge("batchPredictionJobs/{name}:cancel",p._url),c=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const p=p2(this.apiClient,t);s=ge("batches/{name}:cancel",p._url),c=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=A2(t);return c=ge("batchPredictionJobs",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=G2(h),x=new ZT;return Object.assign(x,v),x})}else{const d=g2(t);return c=ge("batches",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=q2(h),x=new ZT;return Object.assign(x,v),x})}}async delete(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=w2(this.apiClient,t);return c=ge("batchPredictionJobs/{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>F2(h))}else{const d=v2(this.apiClient,t);return c=ge("batches/{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>V2(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j2(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function Y2(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function K2(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function J2(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],j2(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],Y2(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],K2(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function nC(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>J2(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function W2(e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["name"]);a!=null&&m(t,["name"],a);const l=f(e,["parameters"]);l!=null&&m(t,["parameters"],l);const s=f(e,["parametersJsonSchema"]);s!=null&&m(t,["parametersJsonSchema"],s);const c=f(e,["response"]);c!=null&&m(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&m(t,["responseJsonSchema"],p),t}function X2(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function Z2(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],X2(n)),t}function Q2(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function ek(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],Q2(n)),t}function tk(){return{}}function nk(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(d=>W2(d))),m(t,["functionDeclarations"],p)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],Z2(r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&m(t,["googleSearchRetrieval"],ek(a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],tk());const s=f(e,["codeExecution"]);s!=null&&m(t,["codeExecution"],s);const c=f(e,["computerUse"]);return c!=null&&m(t,["computerUse"],c),t}function rk(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function ik(e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function ak(e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],ik(n));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function ok(e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],rk(n));const r=f(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],ak(r)),t}function lk(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&m(t,["expireTime"],a);const l=f(e,["displayName"]);t!==void 0&&l!=null&&m(t,["displayName"],l);const s=f(e,["contents"]);if(t!==void 0&&s!=null){let h=Zn(s);Array.isArray(h)&&(h=h.map(v=>nC(v))),m(t,["contents"],h)}const c=f(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],nC(nn(c)));const p=f(e,["tools"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(v=>nk(v))),m(t,["tools"],h)}const d=f(e,["toolConfig"]);if(t!==void 0&&d!=null&&m(t,["toolConfig"],ok(d)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function sk(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["model"],_1(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],lk(a,n)),n}function uk(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Zr(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function ck(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Zr(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function fk(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&m(t,["expireTime"],a),n}function dk(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Zr(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],fk(a,n)),n}function mk(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&m(t,["_query","pageToken"],a),n}function pk(e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],mk(n,t)),t}function hk(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function gk(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["data"]);r!=null&&m(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function vk(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function yk(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],hk(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],gk(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],vk(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function rC(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>yk(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function xk(e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const l=f(e,["parametersJsonSchema"]);l!=null&&m(t,["parametersJsonSchema"],l);const s=f(e,["response"]);s!=null&&m(t,["response"],s);const c=f(e,["responseJsonSchema"]);return c!=null&&m(t,["responseJsonSchema"],c),t}function bk(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function Sk(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],bk(n)),t}function Tk(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function Ck(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],Tk(n)),t}function Ek(){return{}}function Ak(e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function wk(e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],Ak(n));const r=f(e,["authType"]);r!=null&&m(t,["authType"],r);const a=f(e,["googleServiceAccountConfig"]);a!=null&&m(t,["googleServiceAccountConfig"],a);const l=f(e,["httpBasicAuthConfig"]);l!=null&&m(t,["httpBasicAuthConfig"],l);const s=f(e,["oauthConfig"]);s!=null&&m(t,["oauthConfig"],s);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function Mk(e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],wk(n)),t}function _k(){return{}}function Nk(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(x=>xk(x))),m(t,["functionDeclarations"],v)}const r=f(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const a=f(e,["googleSearch"]);a!=null&&m(t,["googleSearch"],Sk(a));const l=f(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],Ck(l)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],Ek());const c=f(e,["googleMaps"]);c!=null&&m(t,["googleMaps"],Mk(c)),f(e,["urlContext"])!=null&&m(t,["urlContext"],_k());const d=f(e,["codeExecution"]);d!=null&&m(t,["codeExecution"],d);const h=f(e,["computerUse"]);return h!=null&&m(t,["computerUse"],h),t}function Rk(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function Pk(e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function Dk(e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],Pk(n));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function Ok(e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],Rk(n));const r=f(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],Dk(r)),t}function Ik(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&m(t,["expireTime"],a);const l=f(e,["displayName"]);t!==void 0&&l!=null&&m(t,["displayName"],l);const s=f(e,["contents"]);if(t!==void 0&&s!=null){let v=Zn(s);Array.isArray(v)&&(v=v.map(x=>rC(x))),m(t,["contents"],v)}const c=f(e,["systemInstruction"]);t!==void 0&&c!=null&&m(t,["systemInstruction"],rC(nn(c)));const p=f(e,["tools"]);if(t!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(x=>Nk(x))),m(t,["tools"],v)}const d=f(e,["toolConfig"]);t!==void 0&&d!=null&&m(t,["toolConfig"],Ok(d));const h=f(e,["kmsKeyName"]);return t!==void 0&&h!=null&&m(t,["encryption_spec","kmsKeyName"],h),n}function kk(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["model"],_1(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],Ik(a,n)),n}function Lk(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Zr(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function Uk(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Zr(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function Bk(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&m(t,["ttl"],r);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&m(t,["expireTime"],a),n}function qk(e,t){const n={},r=f(t,["name"]);r!=null&&m(n,["_url","name"],Zr(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],Bk(a,n)),n}function Vk(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&m(t,["_query","pageToken"],a),n}function zk(e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],Vk(n,t)),t}function Sc(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["model"]);a!=null&&m(t,["model"],a);const l=f(e,["createTime"]);l!=null&&m(t,["createTime"],l);const s=f(e,["updateTime"]);s!=null&&m(t,["updateTime"],s);const c=f(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const p=f(e,["usageMetadata"]);return p!=null&&m(t,["usageMetadata"],p),t}function $k(){return{}}function Gk(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>Sc(s))),m(t,["cachedContents"],l)}return t}function Tc(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["model"]);a!=null&&m(t,["model"],a);const l=f(e,["createTime"]);l!=null&&m(t,["createTime"],l);const s=f(e,["updateTime"]);s!=null&&m(t,["updateTime"],s);const c=f(e,["expireTime"]);c!=null&&m(t,["expireTime"],c);const p=f(e,["usageMetadata"]);return p!=null&&m(t,["usageMetadata"],p),t}function Fk(){return{}}function Hk(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>Tc(s))),m(t,["cachedContents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jk extends Na{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ps(Ta.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=kk(this.apiClient,t);return c=ge("cachedContents",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Tc(h))}else{const d=sk(this.apiClient,t);return c=ge("cachedContents",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>Sc(h))}}async get(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=Lk(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Tc(h))}else{const d=uk(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>Sc(h))}}async delete(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=Uk(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=Fk(),v=new WT;return Object.assign(v,h),v})}else{const d=ck(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(()=>{const h=$k(),v=new WT;return Object.assign(v,h),v})}}async update(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=qk(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Tc(h))}else{const d=dk(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>Sc(h))}}async listInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=zk(t);return c=ge("cachedContents",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=Hk(h),x=new XT;return Object.assign(x,v),x})}else{const d=pk(t);return c=ge("cachedContents",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=Gk(h),x=new XT;return Object.assign(x,v),x})}}}function iC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(e){return this instanceof ot?(this.v=e,this):new ot(e)}function Do(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(S){return function(T){return Promise.resolve(T).then(S,v)}}function c(S,T){r[S]&&(a[S]=function(C){return new Promise(function(E,_){l.push([S,C,E,_])>1||p(S,C)})},T&&(a[S]=T(a[S])))}function p(S,T){try{d(r[S](T))}catch(C){x(l[0][3],C)}}function d(S){S.value instanceof ot?Promise.resolve(S.value.v).then(h,v):x(l[0][2],S)}function h(S){p("next",S)}function v(S){p("throw",S)}function x(S,T){S(T),l.shift(),l.length&&p(l[0][0],l[0][1])}}function vs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof iC=="function"?iC(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(s){return new Promise(function(c,p){s=e[l](s),a(c,p,s.done,s.value)})}}function a(l,s,c,p){Promise.resolve(p).then(function(d){l({value:d,done:c})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yk(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:F1(n)}function F1(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function Kk(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function aC(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const a=[];let l=!0;for(;r<n&&e[r].role==="model";)a.push(e[r]),l&&!F1(e[r])&&(l=!1),r++;l?t.push(...a):t.pop()}return t}class Jk{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Wk(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Wk{constructor(t,n,r,a={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),Kk(l)}async sendMessage(t){var n;await this.sendPromise;const r=nn(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,s,c;const p=await a,d=(s=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content,h=p.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let x=[];h!=null&&(x=(c=h.slice(v))!==null&&c!==void 0?c:[]);const S=d?[d]:[];this.recordHistory(r,S,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const r=nn(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(t=!1){const n=t?aC(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,a;return Do(this,arguments,function*(){var s,c,p,d;const h=[];try{for(var v=!0,x=vs(t),S;S=yield ot(x.next()),s=S.done,!s;v=!0){d=S.value,v=!1;const T=d;if(Yk(T)){const C=(a=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;C!==void 0&&h.push(C)}yield yield ot(T)}}catch(T){c={error:T}}finally{try{!v&&!s&&(p=x.return)&&(yield ot(p.call(x)))}finally{if(c)throw c.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let a=[];n.length>0&&n.every(l=>l.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...aC(r)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gf extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,gf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xk(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&m(t,["_query","pageToken"],a),n}function Zk(e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],Xk(n,t)),t}function Qk(e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const r=f(e,["message"]);r!=null&&m(t,["message"],r);const a=f(e,["code"]);return a!=null&&m(t,["code"],a),t}function eL(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["mimeType"]);a!=null&&m(t,["mimeType"],a);const l=f(e,["sizeBytes"]);l!=null&&m(t,["sizeBytes"],l);const s=f(e,["createTime"]);s!=null&&m(t,["createTime"],s);const c=f(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const p=f(e,["updateTime"]);p!=null&&m(t,["updateTime"],p);const d=f(e,["sha256Hash"]);d!=null&&m(t,["sha256Hash"],d);const h=f(e,["uri"]);h!=null&&m(t,["uri"],h);const v=f(e,["downloadUri"]);v!=null&&m(t,["downloadUri"],v);const x=f(e,["state"]);x!=null&&m(t,["state"],x);const S=f(e,["source"]);S!=null&&m(t,["source"],S);const T=f(e,["videoMetadata"]);T!=null&&m(t,["videoMetadata"],T);const C=f(e,["error"]);return C!=null&&m(t,["error"],Qk(C)),t}function tL(e){const t={},n=f(e,["file"]);n!=null&&m(t,["file"],eL(n));const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function nL(e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","file"],k1(n));const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function rL(e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","file"],k1(n));const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function iL(e){const t={},n=f(e,["details"]);n!=null&&m(t,["details"],n);const r=f(e,["message"]);r!=null&&m(t,["message"],r);const a=f(e,["code"]);return a!=null&&m(t,["code"],a),t}function bg(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["mimeType"]);a!=null&&m(t,["mimeType"],a);const l=f(e,["sizeBytes"]);l!=null&&m(t,["sizeBytes"],l);const s=f(e,["createTime"]);s!=null&&m(t,["createTime"],s);const c=f(e,["expirationTime"]);c!=null&&m(t,["expirationTime"],c);const p=f(e,["updateTime"]);p!=null&&m(t,["updateTime"],p);const d=f(e,["sha256Hash"]);d!=null&&m(t,["sha256Hash"],d);const h=f(e,["uri"]);h!=null&&m(t,["uri"],h);const v=f(e,["downloadUri"]);v!=null&&m(t,["downloadUri"],v);const x=f(e,["state"]);x!=null&&m(t,["state"],x);const S=f(e,["source"]);S!=null&&m(t,["source"],S);const T=f(e,["videoMetadata"]);T!=null&&m(t,["videoMetadata"],T);const C=f(e,["error"]);return C!=null&&m(t,["error"],iL(C)),t}function aL(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>bg(s))),m(t,["files"],l)}return t}function oL(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}function lL(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sL extends Na{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ps(Ta.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>bg(n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zk(t);return l=ge("files",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:p.headers},h})),a.then(p=>{const d=aL(p),h=new wI;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tL(t);return l=ge("upload/v1beta/files",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>{const d=oL(p),h=new MI;return Object.assign(h,d),h})}}async get(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nL(t);return l=ge("files/{file}",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>bg(p))}}async delete(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rL(t);return l=ge("files/{file}",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(()=>{const p=lL(),d=new _I;return Object.assign(d,p),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uL(e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function H1(e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],uL(n)),t}function cL(e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const r=f(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],H1(r)),t}function fL(e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>cL(a))),m(t,["speakerVoiceConfigs"],r)}return t}function dL(e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],H1(n));const r=f(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],fL(r));const a=f(e,["languageCode"]);return a!=null&&m(t,["languageCode"],a),t}function mL(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function pL(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function hL(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function gL(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],mL(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],pL(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],hL(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function vL(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>gL(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function yL(e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["name"]);a!=null&&m(t,["name"],a);const l=f(e,["parameters"]);l!=null&&m(t,["parameters"],l);const s=f(e,["parametersJsonSchema"]);s!=null&&m(t,["parametersJsonSchema"],s);const c=f(e,["response"]);c!=null&&m(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&m(t,["responseJsonSchema"],p),t}function xL(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function bL(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],xL(n)),t}function SL(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function TL(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],SL(n)),t}function CL(){return{}}function EL(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(d=>yL(d))),m(t,["functionDeclarations"],p)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],bL(r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&m(t,["googleSearchRetrieval"],TL(a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],CL());const s=f(e,["codeExecution"]);s!=null&&m(t,["codeExecution"],s);const c=f(e,["computerUse"]);return c!=null&&m(t,["computerUse"],c),t}function AL(e){const t={},n=f(e,["handle"]);if(n!=null&&m(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function oC(){return{}}function wL(e){const t={},n=f(e,["disabled"]);n!=null&&m(t,["disabled"],n);const r=f(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&m(t,["endOfSpeechSensitivity"],a);const l=f(e,["prefixPaddingMs"]);l!=null&&m(t,["prefixPaddingMs"],l);const s=f(e,["silenceDurationMs"]);return s!=null&&m(t,["silenceDurationMs"],s),t}function ML(e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&m(t,["automaticActivityDetection"],wL(n));const r=f(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const a=f(e,["turnCoverage"]);return a!=null&&m(t,["turnCoverage"],a),t}function _L(e){const t={},n=f(e,["targetTokens"]);return n!=null&&m(t,["targetTokens"],n),t}function NL(e){const t={},n=f(e,["triggerTokens"]);n!=null&&m(t,["triggerTokens"],n);const r=f(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],_L(r)),t}function RL(e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&m(t,["proactiveAudio"],n),t}function PL(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","responseModalities"],a);const l=f(e,["temperature"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","temperature"],l);const s=f(e,["topP"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","topP"],s);const c=f(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const p=f(e,["maxOutputTokens"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","maxOutputTokens"],p);const d=f(e,["mediaResolution"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","mediaResolution"],d);const h=f(e,["seed"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","seed"],h);const v=f(e,["speechConfig"]);t!==void 0&&v!=null&&m(t,["setup","generationConfig","speechConfig"],dL(Tv(v)));const x=f(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=f(e,["systemInstruction"]);t!==void 0&&S!=null&&m(t,["setup","systemInstruction"],vL(nn(S)));const T=f(e,["tools"]);if(t!==void 0&&T!=null){let D=Jo(T);Array.isArray(D)&&(D=D.map(k=>EL(Ko(k)))),m(t,["setup","tools"],D)}const C=f(e,["sessionResumption"]);t!==void 0&&C!=null&&m(t,["setup","sessionResumption"],AL(C));const E=f(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&m(t,["setup","inputAudioTranscription"],oC());const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&m(t,["setup","outputAudioTranscription"],oC());const R=f(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&m(t,["setup","realtimeInputConfig"],ML(R));const N=f(e,["contextWindowCompression"]);t!==void 0&&N!=null&&m(t,["setup","contextWindowCompression"],NL(N));const O=f(e,["proactivity"]);return t!==void 0&&O!=null&&m(t,["setup","proactivity"],RL(O)),n}function DL(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["setup","model"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],PL(a,n)),n}function OL(){return{}}function IL(){return{}}function kL(e){const t={},n=f(e,["media"]);n!=null&&m(t,["mediaChunks"],N1(n));const r=f(e,["audio"]);r!=null&&m(t,["audio"],P1(r));const a=f(e,["audioStreamEnd"]);a!=null&&m(t,["audioStreamEnd"],a);const l=f(e,["video"]);l!=null&&m(t,["video"],R1(l));const s=f(e,["text"]);return s!=null&&m(t,["text"],s),f(e,["activityStart"])!=null&&m(t,["activityStart"],OL()),f(e,["activityEnd"])!=null&&m(t,["activityEnd"],IL()),t}function j1(e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const r=f(e,["weight"]);return r!=null&&m(t,["weight"],r),t}function LL(e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>j1(a))),m(t,["weightedPrompts"],r)}return t}function Y1(e){const t={},n=f(e,["temperature"]);n!=null&&m(t,["temperature"],n);const r=f(e,["topK"]);r!=null&&m(t,["topK"],r);const a=f(e,["seed"]);a!=null&&m(t,["seed"],a);const l=f(e,["guidance"]);l!=null&&m(t,["guidance"],l);const s=f(e,["bpm"]);s!=null&&m(t,["bpm"],s);const c=f(e,["density"]);c!=null&&m(t,["density"],c);const p=f(e,["brightness"]);p!=null&&m(t,["brightness"],p);const d=f(e,["scale"]);d!=null&&m(t,["scale"],d);const h=f(e,["muteBass"]);h!=null&&m(t,["muteBass"],h);const v=f(e,["muteDrums"]);v!=null&&m(t,["muteDrums"],v);const x=f(e,["onlyBassAndDrums"]);x!=null&&m(t,["onlyBassAndDrums"],x);const S=f(e,["musicGenerationMode"]);return S!=null&&m(t,["musicGenerationMode"],S),t}function UL(e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&m(t,["musicGenerationConfig"],Y1(n)),t}function K1(e){const t={},n=f(e,["model"]);return n!=null&&m(t,["model"],n),t}function J1(e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>j1(a))),m(t,["weightedPrompts"],r)}return t}function Sg(e){const t={},n=f(e,["setup"]);n!=null&&m(t,["setup"],K1(n));const r=f(e,["clientContent"]);r!=null&&m(t,["clientContent"],J1(r));const a=f(e,["musicGenerationConfig"]);a!=null&&m(t,["musicGenerationConfig"],Y1(a));const l=f(e,["playbackControl"]);return l!=null&&m(t,["playbackControl"],l),t}function BL(e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function qL(e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],BL(n)),t}function VL(e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&m(t,["voiceConfig"],qL(n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function zL(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function $L(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["data"]);r!=null&&m(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function GL(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function FL(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],zL(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],$L(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],GL(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function HL(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>FL(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function jL(e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const l=f(e,["parametersJsonSchema"]);l!=null&&m(t,["parametersJsonSchema"],l);const s=f(e,["response"]);s!=null&&m(t,["response"],s);const c=f(e,["responseJsonSchema"]);return c!=null&&m(t,["responseJsonSchema"],c),t}function YL(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function KL(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],YL(n)),t}function JL(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function WL(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],JL(n)),t}function XL(){return{}}function ZL(e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function QL(e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],ZL(n));const r=f(e,["authType"]);r!=null&&m(t,["authType"],r);const a=f(e,["googleServiceAccountConfig"]);a!=null&&m(t,["googleServiceAccountConfig"],a);const l=f(e,["httpBasicAuthConfig"]);l!=null&&m(t,["httpBasicAuthConfig"],l);const s=f(e,["oauthConfig"]);s!=null&&m(t,["oauthConfig"],s);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function eU(e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],QL(n)),t}function tU(){return{}}function nU(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(x=>jL(x))),m(t,["functionDeclarations"],v)}const r=f(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const a=f(e,["googleSearch"]);a!=null&&m(t,["googleSearch"],KL(a));const l=f(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],WL(l)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],XL());const c=f(e,["googleMaps"]);c!=null&&m(t,["googleMaps"],eU(c)),f(e,["urlContext"])!=null&&m(t,["urlContext"],tU());const d=f(e,["codeExecution"]);d!=null&&m(t,["codeExecution"],d);const h=f(e,["computerUse"]);return h!=null&&m(t,["computerUse"],h),t}function rU(e){const t={},n=f(e,["handle"]);n!=null&&m(t,["handle"],n);const r=f(e,["transparent"]);return r!=null&&m(t,["transparent"],r),t}function lC(){return{}}function iU(e){const t={},n=f(e,["disabled"]);n!=null&&m(t,["disabled"],n);const r=f(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&m(t,["endOfSpeechSensitivity"],a);const l=f(e,["prefixPaddingMs"]);l!=null&&m(t,["prefixPaddingMs"],l);const s=f(e,["silenceDurationMs"]);return s!=null&&m(t,["silenceDurationMs"],s),t}function aU(e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&m(t,["automaticActivityDetection"],iU(n));const r=f(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const a=f(e,["turnCoverage"]);return a!=null&&m(t,["turnCoverage"],a),t}function oU(e){const t={},n=f(e,["targetTokens"]);return n!=null&&m(t,["targetTokens"],n),t}function lU(e){const t={},n=f(e,["triggerTokens"]);n!=null&&m(t,["triggerTokens"],n);const r=f(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],oU(r)),t}function sU(e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&m(t,["proactiveAudio"],n),t}function uU(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","responseModalities"],a);const l=f(e,["temperature"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","temperature"],l);const s=f(e,["topP"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","topP"],s);const c=f(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const p=f(e,["maxOutputTokens"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","maxOutputTokens"],p);const d=f(e,["mediaResolution"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","mediaResolution"],d);const h=f(e,["seed"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","seed"],h);const v=f(e,["speechConfig"]);t!==void 0&&v!=null&&m(t,["setup","generationConfig","speechConfig"],VL(Tv(v)));const x=f(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=f(e,["systemInstruction"]);t!==void 0&&S!=null&&m(t,["setup","systemInstruction"],HL(nn(S)));const T=f(e,["tools"]);if(t!==void 0&&T!=null){let D=Jo(T);Array.isArray(D)&&(D=D.map(k=>nU(Ko(k)))),m(t,["setup","tools"],D)}const C=f(e,["sessionResumption"]);t!==void 0&&C!=null&&m(t,["setup","sessionResumption"],rU(C));const E=f(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&m(t,["setup","inputAudioTranscription"],lC());const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&m(t,["setup","outputAudioTranscription"],lC());const R=f(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&m(t,["setup","realtimeInputConfig"],aU(R));const N=f(e,["contextWindowCompression"]);t!==void 0&&N!=null&&m(t,["setup","contextWindowCompression"],lU(N));const O=f(e,["proactivity"]);return t!==void 0&&O!=null&&m(t,["setup","proactivity"],sU(O)),n}function cU(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["setup","model"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],uU(a,n)),n}function fU(){return{}}function dU(){return{}}function mU(e){const t={},n=f(e,["media"]);n!=null&&m(t,["mediaChunks"],N1(n));const r=f(e,["audio"]);r!=null&&m(t,["audio"],P1(r));const a=f(e,["audioStreamEnd"]);a!=null&&m(t,["audioStreamEnd"],a);const l=f(e,["video"]);l!=null&&m(t,["video"],R1(l));const s=f(e,["text"]);return s!=null&&m(t,["text"],s),f(e,["activityStart"])!=null&&m(t,["activityStart"],fU()),f(e,["activityEnd"])!=null&&m(t,["activityEnd"],dU()),t}function pU(){return{}}function hU(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function gU(e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function vU(e){const t={},n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function yU(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],hU(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],gU(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],vU(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function xU(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>yU(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function sC(e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const r=f(e,["finished"]);return r!=null&&m(t,["finished"],r),t}function bU(e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const r=f(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function SU(e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>bU(a))),m(t,["urlMetadata"],r)}return t}function TU(e){const t={},n=f(e,["modelTurn"]);n!=null&&m(t,["modelTurn"],xU(n));const r=f(e,["turnComplete"]);r!=null&&m(t,["turnComplete"],r);const a=f(e,["interrupted"]);a!=null&&m(t,["interrupted"],a);const l=f(e,["groundingMetadata"]);l!=null&&m(t,["groundingMetadata"],l);const s=f(e,["generationComplete"]);s!=null&&m(t,["generationComplete"],s);const c=f(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],sC(c));const p=f(e,["outputTranscription"]);p!=null&&m(t,["outputTranscription"],sC(p));const d=f(e,["urlContextMetadata"]);return d!=null&&m(t,["urlContextMetadata"],SU(d)),t}function CU(e){const t={},n=f(e,["id"]);n!=null&&m(t,["id"],n);const r=f(e,["args"]);r!=null&&m(t,["args"],r);const a=f(e,["name"]);return a!=null&&m(t,["name"],a),t}function EU(e){const t={},n=f(e,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>CU(a))),m(t,["functionCalls"],r)}return t}function AU(e){const t={},n=f(e,["ids"]);return n!=null&&m(t,["ids"],n),t}function ic(e){const t={},n=f(e,["modality"]);n!=null&&m(t,["modality"],n);const r=f(e,["tokenCount"]);return r!=null&&m(t,["tokenCount"],r),t}function wU(e){const t={},n=f(e,["promptTokenCount"]);n!=null&&m(t,["promptTokenCount"],n);const r=f(e,["cachedContentTokenCount"]);r!=null&&m(t,["cachedContentTokenCount"],r);const a=f(e,["responseTokenCount"]);a!=null&&m(t,["responseTokenCount"],a);const l=f(e,["toolUsePromptTokenCount"]);l!=null&&m(t,["toolUsePromptTokenCount"],l);const s=f(e,["thoughtsTokenCount"]);s!=null&&m(t,["thoughtsTokenCount"],s);const c=f(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const p=f(e,["promptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>ic(S))),m(t,["promptTokensDetails"],x)}const d=f(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>ic(S))),m(t,["cacheTokensDetails"],x)}const h=f(e,["responseTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>ic(S))),m(t,["responseTokensDetails"],x)}const v=f(e,["toolUsePromptTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(S=>ic(S))),m(t,["toolUsePromptTokensDetails"],x)}return t}function MU(e){const t={},n=f(e,["timeLeft"]);return n!=null&&m(t,["timeLeft"],n),t}function _U(e){const t={},n=f(e,["newHandle"]);n!=null&&m(t,["newHandle"],n);const r=f(e,["resumable"]);r!=null&&m(t,["resumable"],r);const a=f(e,["lastConsumedClientMessageIndex"]);return a!=null&&m(t,["lastConsumedClientMessageIndex"],a),t}function NU(e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],pU());const r=f(e,["serverContent"]);r!=null&&m(t,["serverContent"],TU(r));const a=f(e,["toolCall"]);a!=null&&m(t,["toolCall"],EU(a));const l=f(e,["toolCallCancellation"]);l!=null&&m(t,["toolCallCancellation"],AU(l));const s=f(e,["usageMetadata"]);s!=null&&m(t,["usageMetadata"],wU(s));const c=f(e,["goAway"]);c!=null&&m(t,["goAway"],MU(c));const p=f(e,["sessionResumptionUpdate"]);return p!=null&&m(t,["sessionResumptionUpdate"],_U(p)),t}function RU(){return{}}function PU(e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const r=f(e,["weight"]);return r!=null&&m(t,["weight"],r),t}function DU(e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>PU(a))),m(t,["weightedPrompts"],r)}return t}function OU(e){const t={},n=f(e,["temperature"]);n!=null&&m(t,["temperature"],n);const r=f(e,["topK"]);r!=null&&m(t,["topK"],r);const a=f(e,["seed"]);a!=null&&m(t,["seed"],a);const l=f(e,["guidance"]);l!=null&&m(t,["guidance"],l);const s=f(e,["bpm"]);s!=null&&m(t,["bpm"],s);const c=f(e,["density"]);c!=null&&m(t,["density"],c);const p=f(e,["brightness"]);p!=null&&m(t,["brightness"],p);const d=f(e,["scale"]);d!=null&&m(t,["scale"],d);const h=f(e,["muteBass"]);h!=null&&m(t,["muteBass"],h);const v=f(e,["muteDrums"]);v!=null&&m(t,["muteDrums"],v);const x=f(e,["onlyBassAndDrums"]);x!=null&&m(t,["onlyBassAndDrums"],x);const S=f(e,["musicGenerationMode"]);return S!=null&&m(t,["musicGenerationMode"],S),t}function IU(e){const t={},n=f(e,["clientContent"]);n!=null&&m(t,["clientContent"],DU(n));const r=f(e,["musicGenerationConfig"]);return r!=null&&m(t,["musicGenerationConfig"],OU(r)),t}function kU(e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);r!=null&&m(t,["mimeType"],r);const a=f(e,["sourceMetadata"]);return a!=null&&m(t,["sourceMetadata"],IU(a)),t}function LU(e){const t={},n=f(e,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>kU(a))),m(t,["audioChunks"],r)}return t}function UU(e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const r=f(e,["filteredReason"]);return r!=null&&m(t,["filteredReason"],r),t}function BU(e){const t={};f(e,["setupComplete"])!=null&&m(t,["setupComplete"],RU());const r=f(e,["serverContent"]);r!=null&&m(t,["serverContent"],LU(r));const a=f(e,["filteredPrompt"]);return a!=null&&m(t,["filteredPrompt"],UU(a)),t}function qU(e){const t={},n=f(e,["sessionId"]);return n!=null&&m(t,["sessionId"],n),t}function VU(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function zU(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["data"]);r!=null&&m(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function $U(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function GU(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],VU(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],zU(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],$U(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function FU(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>GU(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function uC(e){const t={},n=f(e,["text"]);n!=null&&m(t,["text"],n);const r=f(e,["finished"]);return r!=null&&m(t,["finished"],r),t}function HU(e){const t={},n=f(e,["modelTurn"]);n!=null&&m(t,["modelTurn"],FU(n));const r=f(e,["turnComplete"]);r!=null&&m(t,["turnComplete"],r);const a=f(e,["interrupted"]);a!=null&&m(t,["interrupted"],a);const l=f(e,["groundingMetadata"]);l!=null&&m(t,["groundingMetadata"],l);const s=f(e,["generationComplete"]);s!=null&&m(t,["generationComplete"],s);const c=f(e,["inputTranscription"]);c!=null&&m(t,["inputTranscription"],uC(c));const p=f(e,["outputTranscription"]);return p!=null&&m(t,["outputTranscription"],uC(p)),t}function jU(e){const t={},n=f(e,["args"]);n!=null&&m(t,["args"],n);const r=f(e,["name"]);return r!=null&&m(t,["name"],r),t}function YU(e){const t={},n=f(e,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>jU(a))),m(t,["functionCalls"],r)}return t}function KU(e){const t={},n=f(e,["ids"]);return n!=null&&m(t,["ids"],n),t}function ac(e){const t={},n=f(e,["modality"]);n!=null&&m(t,["modality"],n);const r=f(e,["tokenCount"]);return r!=null&&m(t,["tokenCount"],r),t}function JU(e){const t={},n=f(e,["promptTokenCount"]);n!=null&&m(t,["promptTokenCount"],n);const r=f(e,["cachedContentTokenCount"]);r!=null&&m(t,["cachedContentTokenCount"],r);const a=f(e,["candidatesTokenCount"]);a!=null&&m(t,["responseTokenCount"],a);const l=f(e,["toolUsePromptTokenCount"]);l!=null&&m(t,["toolUsePromptTokenCount"],l);const s=f(e,["thoughtsTokenCount"]);s!=null&&m(t,["thoughtsTokenCount"],s);const c=f(e,["totalTokenCount"]);c!=null&&m(t,["totalTokenCount"],c);const p=f(e,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(T=>ac(T))),m(t,["promptTokensDetails"],S)}const d=f(e,["cacheTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(T=>ac(T))),m(t,["cacheTokensDetails"],S)}const h=f(e,["candidatesTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>ac(T))),m(t,["responseTokensDetails"],S)}const v=f(e,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>ac(T))),m(t,["toolUsePromptTokensDetails"],S)}const x=f(e,["trafficType"]);return x!=null&&m(t,["trafficType"],x),t}function WU(e){const t={},n=f(e,["timeLeft"]);return n!=null&&m(t,["timeLeft"],n),t}function XU(e){const t={},n=f(e,["newHandle"]);n!=null&&m(t,["newHandle"],n);const r=f(e,["resumable"]);r!=null&&m(t,["resumable"],r);const a=f(e,["lastConsumedClientMessageIndex"]);return a!=null&&m(t,["lastConsumedClientMessageIndex"],a),t}function ZU(e){const t={},n=f(e,["setupComplete"]);n!=null&&m(t,["setupComplete"],qU(n));const r=f(e,["serverContent"]);r!=null&&m(t,["serverContent"],HU(r));const a=f(e,["toolCall"]);a!=null&&m(t,["toolCall"],YU(a));const l=f(e,["toolCallCancellation"]);l!=null&&m(t,["toolCallCancellation"],KU(l));const s=f(e,["usageMetadata"]);s!=null&&m(t,["usageMetadata"],JU(s));const c=f(e,["goAway"]);c!=null&&m(t,["goAway"],WU(c));const p=f(e,["sessionResumptionUpdate"]);return p!=null&&m(t,["sessionResumptionUpdate"],XU(p)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QU(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function eB(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function tB(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function nB(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],QU(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],eB(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],tB(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function vf(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>nB(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function rB(e){const t={},n=f(e,["anyOf"]);n!=null&&m(t,["anyOf"],n);const r=f(e,["default"]);r!=null&&m(t,["default"],r);const a=f(e,["description"]);a!=null&&m(t,["description"],a);const l=f(e,["enum"]);l!=null&&m(t,["enum"],l);const s=f(e,["example"]);s!=null&&m(t,["example"],s);const c=f(e,["format"]);c!=null&&m(t,["format"],c);const p=f(e,["items"]);p!=null&&m(t,["items"],p);const d=f(e,["maxItems"]);d!=null&&m(t,["maxItems"],d);const h=f(e,["maxLength"]);h!=null&&m(t,["maxLength"],h);const v=f(e,["maxProperties"]);v!=null&&m(t,["maxProperties"],v);const x=f(e,["maximum"]);x!=null&&m(t,["maximum"],x);const S=f(e,["minItems"]);S!=null&&m(t,["minItems"],S);const T=f(e,["minLength"]);T!=null&&m(t,["minLength"],T);const C=f(e,["minProperties"]);C!=null&&m(t,["minProperties"],C);const E=f(e,["minimum"]);E!=null&&m(t,["minimum"],E);const _=f(e,["nullable"]);_!=null&&m(t,["nullable"],_);const R=f(e,["pattern"]);R!=null&&m(t,["pattern"],R);const N=f(e,["properties"]);N!=null&&m(t,["properties"],N);const O=f(e,["propertyOrdering"]);O!=null&&m(t,["propertyOrdering"],O);const D=f(e,["required"]);D!=null&&m(t,["required"],D);const k=f(e,["title"]);k!=null&&m(t,["title"],k);const B=f(e,["type"]);return B!=null&&m(t,["type"],B),t}function iB(e){const t={};if(f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(e,["category"]);n!=null&&m(t,["category"],n);const r=f(e,["threshold"]);return r!=null&&m(t,["threshold"],r),t}function aB(e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["name"]);a!=null&&m(t,["name"],a);const l=f(e,["parameters"]);l!=null&&m(t,["parameters"],l);const s=f(e,["parametersJsonSchema"]);s!=null&&m(t,["parametersJsonSchema"],s);const c=f(e,["response"]);c!=null&&m(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&m(t,["responseJsonSchema"],p),t}function oB(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function lB(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],oB(n)),t}function sB(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function uB(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],sB(n)),t}function cB(){return{}}function fB(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(d=>aB(d))),m(t,["functionDeclarations"],p)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],lB(r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&m(t,["googleSearchRetrieval"],uB(a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],cB());const s=f(e,["codeExecution"]);s!=null&&m(t,["codeExecution"],s);const c=f(e,["computerUse"]);return c!=null&&m(t,["computerUse"],c),t}function dB(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function mB(e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function pB(e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],mB(n));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function hB(e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],dB(n));const r=f(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],pB(r)),t}function gB(e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function W1(e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],gB(n)),t}function vB(e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const r=f(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],W1(r)),t}function yB(e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>vB(a))),m(t,["speakerVoiceConfigs"],r)}return t}function xB(e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],W1(n));const r=f(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],yB(r));const a=f(e,["languageCode"]);return a!=null&&m(t,["languageCode"],a),t}function bB(e){const t={},n=f(e,["includeThoughts"]);n!=null&&m(t,["includeThoughts"],n);const r=f(e,["thinkingBudget"]);return r!=null&&m(t,["thinkingBudget"],r),t}function SB(e,t,n){const r={},a=f(t,["systemInstruction"]);n!==void 0&&a!=null&&m(n,["systemInstruction"],vf(nn(a)));const l=f(t,["temperature"]);l!=null&&m(r,["temperature"],l);const s=f(t,["topP"]);s!=null&&m(r,["topP"],s);const c=f(t,["topK"]);c!=null&&m(r,["topK"],c);const p=f(t,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const d=f(t,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const h=f(t,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const v=f(t,["responseLogprobs"]);v!=null&&m(r,["responseLogprobs"],v);const x=f(t,["logprobs"]);x!=null&&m(r,["logprobs"],x);const S=f(t,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const T=f(t,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const C=f(t,["seed"]);C!=null&&m(r,["seed"],C);const E=f(t,["responseMimeType"]);E!=null&&m(r,["responseMimeType"],E);const _=f(t,["responseSchema"]);_!=null&&m(r,["responseSchema"],rB(bv(_)));const R=f(t,["responseJsonSchema"]);if(R!=null&&m(r,["responseJsonSchema"],R),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=f(t,["safetySettings"]);if(n!==void 0&&N!=null){let $=N;Array.isArray($)&&($=$.map(K=>iB(K))),m(n,["safetySettings"],$)}const O=f(t,["tools"]);if(n!==void 0&&O!=null){let $=Jo(O);Array.isArray($)&&($=$.map(K=>fB(Ko(K)))),m(n,["tools"],$)}const D=f(t,["toolConfig"]);if(n!==void 0&&D!=null&&m(n,["toolConfig"],hB(D)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=f(t,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],Zr(e,k));const B=f(t,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const V=f(t,["mediaResolution"]);V!=null&&m(r,["mediaResolution"],V);const z=f(t,["speechConfig"]);if(z!=null&&m(r,["speechConfig"],xB(Sv(z))),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=f(t,["thinkingConfig"]);return te!=null&&m(r,["thinkingConfig"],bB(te)),r}function cC(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["contents"]);if(a!=null){let s=Zn(a);Array.isArray(s)&&(s=s.map(c=>vf(c))),m(n,["contents"],s)}const l=f(t,["config"]);return l!=null&&m(n,["generationConfig"],SB(e,l,n)),n}function TB(e,t){const n={},r=f(e,["taskType"]);t!==void 0&&r!=null&&m(t,["requests[]","taskType"],r);const a=f(e,["title"]);t!==void 0&&a!=null&&m(t,["requests[]","title"],a);const l=f(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&m(t,["requests[]","outputDimensionality"],l),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function CB(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["contents"]);a!=null&&m(n,["requests[]","content"],O1(e,a));const l=f(t,["config"]);l!=null&&m(n,["config"],TB(l,n));const s=f(t,["model"]);return s!==void 0&&m(n,["requests[]","model"],He(e,s)),n}function EB(e,t){const n={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(e,["numberOfImages"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&m(t,["parameters","aspectRatio"],a);const l=f(e,["guidanceScale"]);if(t!==void 0&&l!=null&&m(t,["parameters","guidanceScale"],l),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&m(t,["parameters","safetySetting"],s);const c=f(e,["personGeneration"]);t!==void 0&&c!=null&&m(t,["parameters","personGeneration"],c);const p=f(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&m(t,["parameters","includeSafetyAttributes"],p);const d=f(e,["includeRaiReason"]);t!==void 0&&d!=null&&m(t,["parameters","includeRaiReason"],d);const h=f(e,["language"]);t!==void 0&&h!=null&&m(t,["parameters","language"],h);const v=f(e,["outputMimeType"]);t!==void 0&&v!=null&&m(t,["parameters","outputOptions","mimeType"],v);const x=f(e,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&m(t,["parameters","outputOptions","compressionQuality"],x),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const S=f(e,["imageSize"]);if(t!==void 0&&S!=null&&m(t,["parameters","sampleImageSize"],S),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function AB(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const l=f(t,["config"]);return l!=null&&m(n,["config"],EB(l,n)),n}function wB(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","name"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function MB(e,t,n){const r={},a=f(t,["pageSize"]);n!==void 0&&a!=null&&m(n,["_query","pageSize"],a);const l=f(t,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const s=f(t,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const c=f(t,["queryBase"]);return n!==void 0&&c!=null&&m(n,["_url","models_url"],L1(e,c)),r}function _B(e,t){const n={},r=f(t,["config"]);return r!=null&&m(n,["config"],MB(e,r,n)),n}function NB(e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const a=f(e,["description"]);t!==void 0&&a!=null&&m(t,["description"],a);const l=f(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&m(t,["defaultCheckpointId"],l),n}function RB(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","name"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],NB(a,n)),n}function PB(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","name"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function DB(e){const t={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function OB(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["contents"]);if(a!=null){let s=Zn(a);Array.isArray(s)&&(s=s.map(c=>vf(c))),m(n,["contents"],s)}const l=f(t,["config"]);return l!=null&&m(n,["config"],DB(l)),n}function IB(e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["imageBytes"]);n!=null&&m(t,["bytesBase64Encoded"],Ra(n));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function kB(e,t){const n={},r=f(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(e,["durationSeconds"]);if(t!==void 0&&a!=null&&m(t,["parameters","durationSeconds"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=f(e,["aspectRatio"]);if(t!==void 0&&l!=null&&m(t,["parameters","aspectRatio"],l),f(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=f(e,["personGeneration"]);if(t!==void 0&&s!=null&&m(t,["parameters","personGeneration"],s),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=f(e,["negativePrompt"]);t!==void 0&&c!=null&&m(t,["parameters","negativePrompt"],c);const p=f(e,["enhancePrompt"]);if(t!==void 0&&p!=null&&m(t,["parameters","enhancePrompt"],p),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(f(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function LB(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const l=f(t,["image"]);if(l!=null&&m(n,["instances[0]","image"],IB(l)),f(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=f(t,["config"]);return s!=null&&m(n,["config"],kB(s,n)),n}function UB(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function BB(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["data"]);r!=null&&m(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function qB(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function VB(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],UB(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],BB(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],qB(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function Xo(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>VB(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function zB(e){const t={},n=f(e,["anyOf"]);n!=null&&m(t,["anyOf"],n);const r=f(e,["default"]);r!=null&&m(t,["default"],r);const a=f(e,["description"]);a!=null&&m(t,["description"],a);const l=f(e,["enum"]);l!=null&&m(t,["enum"],l);const s=f(e,["example"]);s!=null&&m(t,["example"],s);const c=f(e,["format"]);c!=null&&m(t,["format"],c);const p=f(e,["items"]);p!=null&&m(t,["items"],p);const d=f(e,["maxItems"]);d!=null&&m(t,["maxItems"],d);const h=f(e,["maxLength"]);h!=null&&m(t,["maxLength"],h);const v=f(e,["maxProperties"]);v!=null&&m(t,["maxProperties"],v);const x=f(e,["maximum"]);x!=null&&m(t,["maximum"],x);const S=f(e,["minItems"]);S!=null&&m(t,["minItems"],S);const T=f(e,["minLength"]);T!=null&&m(t,["minLength"],T);const C=f(e,["minProperties"]);C!=null&&m(t,["minProperties"],C);const E=f(e,["minimum"]);E!=null&&m(t,["minimum"],E);const _=f(e,["nullable"]);_!=null&&m(t,["nullable"],_);const R=f(e,["pattern"]);R!=null&&m(t,["pattern"],R);const N=f(e,["properties"]);N!=null&&m(t,["properties"],N);const O=f(e,["propertyOrdering"]);O!=null&&m(t,["propertyOrdering"],O);const D=f(e,["required"]);D!=null&&m(t,["required"],D);const k=f(e,["title"]);k!=null&&m(t,["title"],k);const B=f(e,["type"]);return B!=null&&m(t,["type"],B),t}function $B(e){const t={},n=f(e,["featureSelectionPreference"]);return n!=null&&m(t,["featureSelectionPreference"],n),t}function GB(e){const t={},n=f(e,["method"]);n!=null&&m(t,["method"],n);const r=f(e,["category"]);r!=null&&m(t,["category"],r);const a=f(e,["threshold"]);return a!=null&&m(t,["threshold"],a),t}function FB(e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&m(t,["description"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["parameters"]);a!=null&&m(t,["parameters"],a);const l=f(e,["parametersJsonSchema"]);l!=null&&m(t,["parametersJsonSchema"],l);const s=f(e,["response"]);s!=null&&m(t,["response"],s);const c=f(e,["responseJsonSchema"]);return c!=null&&m(t,["responseJsonSchema"],c),t}function HB(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function jB(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],HB(n)),t}function YB(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function KB(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],YB(n)),t}function JB(){return{}}function WB(e){const t={},n=f(e,["apiKeyString"]);return n!=null&&m(t,["apiKeyString"],n),t}function XB(e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&m(t,["apiKeyConfig"],WB(n));const r=f(e,["authType"]);r!=null&&m(t,["authType"],r);const a=f(e,["googleServiceAccountConfig"]);a!=null&&m(t,["googleServiceAccountConfig"],a);const l=f(e,["httpBasicAuthConfig"]);l!=null&&m(t,["httpBasicAuthConfig"],l);const s=f(e,["oauthConfig"]);s!=null&&m(t,["oauthConfig"],s);const c=f(e,["oidcConfig"]);return c!=null&&m(t,["oidcConfig"],c),t}function ZB(e){const t={},n=f(e,["authConfig"]);return n!=null&&m(t,["authConfig"],XB(n)),t}function QB(){return{}}function X1(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(x=>FB(x))),m(t,["functionDeclarations"],v)}const r=f(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const a=f(e,["googleSearch"]);a!=null&&m(t,["googleSearch"],jB(a));const l=f(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],KB(l)),f(e,["enterpriseWebSearch"])!=null&&m(t,["enterpriseWebSearch"],JB());const c=f(e,["googleMaps"]);c!=null&&m(t,["googleMaps"],ZB(c)),f(e,["urlContext"])!=null&&m(t,["urlContext"],QB());const d=f(e,["codeExecution"]);d!=null&&m(t,["codeExecution"],d);const h=f(e,["computerUse"]);return h!=null&&m(t,["computerUse"],h),t}function e3(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["allowedFunctionNames"]);return r!=null&&m(t,["allowedFunctionNames"],r),t}function t3(e){const t={},n=f(e,["latitude"]);n!=null&&m(t,["latitude"],n);const r=f(e,["longitude"]);return r!=null&&m(t,["longitude"],r),t}function n3(e){const t={},n=f(e,["latLng"]);n!=null&&m(t,["latLng"],t3(n));const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function r3(e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],e3(n));const r=f(e,["retrievalConfig"]);return r!=null&&m(t,["retrievalConfig"],n3(r)),t}function i3(e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function a3(e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],i3(n)),t}function o3(e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&m(t,["voiceConfig"],a3(n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(e,["languageCode"]);return r!=null&&m(t,["languageCode"],r),t}function l3(e){const t={},n=f(e,["includeThoughts"]);n!=null&&m(t,["includeThoughts"],n);const r=f(e,["thinkingBudget"]);return r!=null&&m(t,["thinkingBudget"],r),t}function s3(e,t,n){const r={},a=f(t,["systemInstruction"]);n!==void 0&&a!=null&&m(n,["systemInstruction"],Xo(nn(a)));const l=f(t,["temperature"]);l!=null&&m(r,["temperature"],l);const s=f(t,["topP"]);s!=null&&m(r,["topP"],s);const c=f(t,["topK"]);c!=null&&m(r,["topK"],c);const p=f(t,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const d=f(t,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const h=f(t,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const v=f(t,["responseLogprobs"]);v!=null&&m(r,["responseLogprobs"],v);const x=f(t,["logprobs"]);x!=null&&m(r,["logprobs"],x);const S=f(t,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const T=f(t,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const C=f(t,["seed"]);C!=null&&m(r,["seed"],C);const E=f(t,["responseMimeType"]);E!=null&&m(r,["responseMimeType"],E);const _=f(t,["responseSchema"]);_!=null&&m(r,["responseSchema"],zB(bv(_)));const R=f(t,["responseJsonSchema"]);R!=null&&m(r,["responseJsonSchema"],R);const N=f(t,["routingConfig"]);N!=null&&m(r,["routingConfig"],N);const O=f(t,["modelSelectionConfig"]);O!=null&&m(r,["modelConfig"],$B(O));const D=f(t,["safetySettings"]);if(n!==void 0&&D!=null){let ve=D;Array.isArray(ve)&&(ve=ve.map(F=>GB(F))),m(n,["safetySettings"],ve)}const k=f(t,["tools"]);if(n!==void 0&&k!=null){let ve=Jo(k);Array.isArray(ve)&&(ve=ve.map(F=>X1(Ko(F)))),m(n,["tools"],ve)}const B=f(t,["toolConfig"]);n!==void 0&&B!=null&&m(n,["toolConfig"],r3(B));const V=f(t,["labels"]);n!==void 0&&V!=null&&m(n,["labels"],V);const z=f(t,["cachedContent"]);n!==void 0&&z!=null&&m(n,["cachedContent"],Zr(e,z));const te=f(t,["responseModalities"]);te!=null&&m(r,["responseModalities"],te);const $=f(t,["mediaResolution"]);$!=null&&m(r,["mediaResolution"],$);const K=f(t,["speechConfig"]);K!=null&&m(r,["speechConfig"],o3(Sv(K)));const de=f(t,["audioTimestamp"]);de!=null&&m(r,["audioTimestamp"],de);const Ce=f(t,["thinkingConfig"]);return Ce!=null&&m(r,["thinkingConfig"],l3(Ce)),r}function fC(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["contents"]);if(a!=null){let s=Zn(a);Array.isArray(s)&&(s=s.map(c=>Xo(c))),m(n,["contents"],s)}const l=f(t,["config"]);return l!=null&&m(n,["generationConfig"],s3(e,l,n)),n}function u3(e,t){const n={},r=f(e,["taskType"]);t!==void 0&&r!=null&&m(t,["instances[]","task_type"],r);const a=f(e,["title"]);t!==void 0&&a!=null&&m(t,["instances[]","title"],a);const l=f(e,["outputDimensionality"]);t!==void 0&&l!=null&&m(t,["parameters","outputDimensionality"],l);const s=f(e,["mimeType"]);t!==void 0&&s!=null&&m(t,["instances[]","mimeType"],s);const c=f(e,["autoTruncate"]);return t!==void 0&&c!=null&&m(t,["parameters","autoTruncate"],c),n}function c3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["contents"]);a!=null&&m(n,["instances[]","content"],O1(e,a));const l=f(t,["config"]);return l!=null&&m(n,["config"],u3(l,n)),n}function f3(e,t){const n={},r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&m(t,["parameters","negativePrompt"],a);const l=f(e,["numberOfImages"]);t!==void 0&&l!=null&&m(t,["parameters","sampleCount"],l);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&m(t,["parameters","aspectRatio"],s);const c=f(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const p=f(e,["seed"]);t!==void 0&&p!=null&&m(t,["parameters","seed"],p);const d=f(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&m(t,["parameters","safetySetting"],d);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&m(t,["parameters","personGeneration"],h);const v=f(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&m(t,["parameters","includeSafetyAttributes"],v);const x=f(e,["includeRaiReason"]);t!==void 0&&x!=null&&m(t,["parameters","includeRaiReason"],x);const S=f(e,["language"]);t!==void 0&&S!=null&&m(t,["parameters","language"],S);const T=f(e,["outputMimeType"]);t!==void 0&&T!=null&&m(t,["parameters","outputOptions","mimeType"],T);const C=f(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&m(t,["parameters","outputOptions","compressionQuality"],C);const E=f(e,["addWatermark"]);t!==void 0&&E!=null&&m(t,["parameters","addWatermark"],E);const _=f(e,["imageSize"]);t!==void 0&&_!=null&&m(t,["parameters","sampleImageSize"],_);const R=f(e,["enhancePrompt"]);return t!==void 0&&R!=null&&m(t,["parameters","enhancePrompt"],R),n}function d3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const l=f(t,["config"]);return l!=null&&m(n,["config"],f3(l,n)),n}function Zo(e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const r=f(e,["imageBytes"]);r!=null&&m(t,["bytesBase64Encoded"],Ra(r));const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function m3(e){const t={},n=f(e,["maskMode"]);n!=null&&m(t,["maskMode"],n);const r=f(e,["segmentationClasses"]);r!=null&&m(t,["maskClasses"],r);const a=f(e,["maskDilation"]);return a!=null&&m(t,["dilation"],a),t}function p3(e){const t={},n=f(e,["controlType"]);n!=null&&m(t,["controlType"],n);const r=f(e,["enableControlImageComputation"]);return r!=null&&m(t,["computeControl"],r),t}function h3(e){const t={},n=f(e,["styleDescription"]);return n!=null&&m(t,["styleDescription"],n),t}function g3(e){const t={},n=f(e,["subjectType"]);n!=null&&m(t,["subjectType"],n);const r=f(e,["subjectDescription"]);return r!=null&&m(t,["subjectDescription"],r),t}function v3(e){const t={},n=f(e,["referenceImage"]);n!=null&&m(t,["referenceImage"],Zo(n));const r=f(e,["referenceId"]);r!=null&&m(t,["referenceId"],r);const a=f(e,["referenceType"]);a!=null&&m(t,["referenceType"],a);const l=f(e,["maskImageConfig"]);l!=null&&m(t,["maskImageConfig"],m3(l));const s=f(e,["controlImageConfig"]);s!=null&&m(t,["controlImageConfig"],p3(s));const c=f(e,["styleImageConfig"]);c!=null&&m(t,["styleImageConfig"],h3(c));const p=f(e,["subjectImageConfig"]);return p!=null&&m(t,["subjectImageConfig"],g3(p)),t}function y3(e,t){const n={},r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&m(t,["parameters","negativePrompt"],a);const l=f(e,["numberOfImages"]);t!==void 0&&l!=null&&m(t,["parameters","sampleCount"],l);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&m(t,["parameters","aspectRatio"],s);const c=f(e,["guidanceScale"]);t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c);const p=f(e,["seed"]);t!==void 0&&p!=null&&m(t,["parameters","seed"],p);const d=f(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&m(t,["parameters","safetySetting"],d);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&m(t,["parameters","personGeneration"],h);const v=f(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&m(t,["parameters","includeSafetyAttributes"],v);const x=f(e,["includeRaiReason"]);t!==void 0&&x!=null&&m(t,["parameters","includeRaiReason"],x);const S=f(e,["language"]);t!==void 0&&S!=null&&m(t,["parameters","language"],S);const T=f(e,["outputMimeType"]);t!==void 0&&T!=null&&m(t,["parameters","outputOptions","mimeType"],T);const C=f(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&m(t,["parameters","outputOptions","compressionQuality"],C);const E=f(e,["addWatermark"]);t!==void 0&&E!=null&&m(t,["parameters","addWatermark"],E);const _=f(e,["editMode"]);t!==void 0&&_!=null&&m(t,["parameters","editMode"],_);const R=f(e,["baseSteps"]);return t!==void 0&&R!=null&&m(t,["parameters","editConfig","baseSteps"],R),n}function x3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const l=f(t,["referenceImages"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>v3(p))),m(n,["instances[0]","referenceImages"],c)}const s=f(t,["config"]);return s!=null&&m(n,["config"],y3(s,n)),n}function b3(e,t){const n={},r=f(e,["includeRaiReason"]);t!==void 0&&r!=null&&m(t,["parameters","includeRaiReason"],r);const a=f(e,["outputMimeType"]);t!==void 0&&a!=null&&m(t,["parameters","outputOptions","mimeType"],a);const l=f(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&m(t,["parameters","outputOptions","compressionQuality"],l);const s=f(e,["enhanceInputImage"]);t!==void 0&&s!=null&&m(t,["parameters","upscaleConfig","enhanceInputImage"],s);const c=f(e,["imagePreservationFactor"]);t!==void 0&&c!=null&&m(t,["parameters","upscaleConfig","imagePreservationFactor"],c);const p=f(e,["numberOfImages"]);t!==void 0&&p!=null&&m(t,["parameters","sampleCount"],p);const d=f(e,["mode"]);return t!==void 0&&d!=null&&m(t,["parameters","mode"],d),n}function S3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["image"]);a!=null&&m(n,["instances[0]","image"],Zo(a));const l=f(t,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const s=f(t,["config"]);return s!=null&&m(n,["config"],b3(s,n)),n}function T3(e){const t={},n=f(e,["productImage"]);return n!=null&&m(t,["image"],Zo(n)),t}function C3(e,t){const n={},r=f(e,["prompt"]);t!==void 0&&r!=null&&m(t,["instances[0]","prompt"],r);const a=f(e,["personImage"]);t!==void 0&&a!=null&&m(t,["instances[0]","personImage","image"],Zo(a));const l=f(e,["productImages"]);if(t!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>T3(c))),m(t,["instances[0]","productImages"],s)}return n}function E3(e,t){const n={},r=f(e,["numberOfImages"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const a=f(e,["baseSteps"]);t!==void 0&&a!=null&&m(t,["parameters","editConfig","baseSteps"],a);const l=f(e,["outputGcsUri"]);t!==void 0&&l!=null&&m(t,["parameters","storageUri"],l);const s=f(e,["seed"]);t!==void 0&&s!=null&&m(t,["parameters","seed"],s);const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&m(t,["parameters","safetySetting"],c);const p=f(e,["personGeneration"]);t!==void 0&&p!=null&&m(t,["parameters","personGeneration"],p);const d=f(e,["outputMimeType"]);t!==void 0&&d!=null&&m(t,["parameters","outputOptions","mimeType"],d);const h=f(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&m(t,["parameters","outputOptions","compressionQuality"],h);const v=f(e,["enhancePrompt"]);return t!==void 0&&v!=null&&m(t,["parameters","enhancePrompt"],v),n}function A3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["source"]);a!=null&&m(n,["config"],C3(a,n));const l=f(t,["config"]);return l!=null&&m(n,["config"],E3(l,n)),n}function w3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","name"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function M3(e,t,n){const r={},a=f(t,["pageSize"]);n!==void 0&&a!=null&&m(n,["_query","pageSize"],a);const l=f(t,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const s=f(t,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const c=f(t,["queryBase"]);return n!==void 0&&c!=null&&m(n,["_url","models_url"],L1(e,c)),r}function _3(e,t){const n={},r=f(t,["config"]);return r!=null&&m(n,["config"],M3(e,r,n)),n}function N3(e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const a=f(e,["description"]);t!==void 0&&a!=null&&m(t,["description"],a);const l=f(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&m(t,["defaultCheckpointId"],l),n}function R3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],N3(a,n)),n}function P3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","name"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],a),n}function D3(e,t){const n={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&m(t,["systemInstruction"],Xo(nn(r)));const a=f(e,["tools"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>X1(c))),m(t,["tools"],s)}const l=f(e,["generationConfig"]);return t!==void 0&&l!=null&&m(t,["generationConfig"],l),n}function O3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["contents"]);if(a!=null){let s=Zn(a);Array.isArray(s)&&(s=s.map(c=>Xo(c))),m(n,["contents"],s)}const l=f(t,["config"]);return l!=null&&m(n,["config"],D3(l,n)),n}function I3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["contents"]);if(a!=null){let s=Zn(a);Array.isArray(s)&&(s=s.map(c=>Xo(c))),m(n,["contents"],s)}const l=f(t,["config"]);return l!=null&&m(n,["config"],l),n}function k3(e){const t={},n=f(e,["uri"]);n!=null&&m(t,["gcsUri"],n);const r=f(e,["videoBytes"]);r!=null&&m(t,["bytesBase64Encoded"],Ra(r));const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function L3(e,t){const n={},r=f(e,["numberOfVideos"]);t!==void 0&&r!=null&&m(t,["parameters","sampleCount"],r);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&m(t,["parameters","storageUri"],a);const l=f(e,["fps"]);t!==void 0&&l!=null&&m(t,["parameters","fps"],l);const s=f(e,["durationSeconds"]);t!==void 0&&s!=null&&m(t,["parameters","durationSeconds"],s);const c=f(e,["seed"]);t!==void 0&&c!=null&&m(t,["parameters","seed"],c);const p=f(e,["aspectRatio"]);t!==void 0&&p!=null&&m(t,["parameters","aspectRatio"],p);const d=f(e,["resolution"]);t!==void 0&&d!=null&&m(t,["parameters","resolution"],d);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&m(t,["parameters","personGeneration"],h);const v=f(e,["pubsubTopic"]);t!==void 0&&v!=null&&m(t,["parameters","pubsubTopic"],v);const x=f(e,["negativePrompt"]);t!==void 0&&x!=null&&m(t,["parameters","negativePrompt"],x);const S=f(e,["enhancePrompt"]);t!==void 0&&S!=null&&m(t,["parameters","enhancePrompt"],S);const T=f(e,["generateAudio"]);t!==void 0&&T!=null&&m(t,["parameters","generateAudio"],T);const C=f(e,["lastFrame"]);t!==void 0&&C!=null&&m(t,["instances[0]","lastFrame"],Zo(C));const E=f(e,["compressionQuality"]);return t!==void 0&&E!=null&&m(t,["parameters","compressionQuality"],E),n}function U3(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["_url","model"],He(e,r));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const l=f(t,["image"]);l!=null&&m(n,["instances[0]","image"],Zo(l));const s=f(t,["video"]);s!=null&&m(n,["instances[0]","video"],k3(s));const c=f(t,["config"]);return c!=null&&m(n,["config"],L3(c,n)),n}function B3(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function q3(e){const t={},n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function V3(e){const t={},n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function z3(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],B3(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],q3(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],V3(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function $3(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>z3(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function G3(e){const t={},n=f(e,["citationSources"]);return n!=null&&m(t,["citations"],n),t}function F3(e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const r=f(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function H3(e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>F3(a))),m(t,["urlMetadata"],r)}return t}function j3(e){const t={},n=f(e,["content"]);n!=null&&m(t,["content"],$3(n));const r=f(e,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],G3(r));const a=f(e,["tokenCount"]);a!=null&&m(t,["tokenCount"],a);const l=f(e,["finishReason"]);l!=null&&m(t,["finishReason"],l);const s=f(e,["urlContextMetadata"]);s!=null&&m(t,["urlContextMetadata"],H3(s));const c=f(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const p=f(e,["groundingMetadata"]);p!=null&&m(t,["groundingMetadata"],p);const d=f(e,["index"]);d!=null&&m(t,["index"],d);const h=f(e,["logprobsResult"]);h!=null&&m(t,["logprobsResult"],h);const v=f(e,["safetyRatings"]);return v!=null&&m(t,["safetyRatings"],v),t}function dC(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(d=>j3(d))),m(t,["candidates"],p)}const a=f(e,["modelVersion"]);a!=null&&m(t,["modelVersion"],a);const l=f(e,["promptFeedback"]);l!=null&&m(t,["promptFeedback"],l);const s=f(e,["responseId"]);s!=null&&m(t,["responseId"],s);const c=f(e,["usageMetadata"]);return c!=null&&m(t,["usageMetadata"],c),t}function Y3(e){const t={},n=f(e,["values"]);return n!=null&&m(t,["values"],n),t}function K3(){return{}}function J3(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>Y3(s))),m(t,["embeddings"],l)}return f(e,["metadata"])!=null&&m(t,["metadata"],K3()),t}function W3(e){const t={},n=f(e,["bytesBase64Encoded"]);n!=null&&m(t,["imageBytes"],Ra(n));const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function Z1(e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const r=f(e,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const a=f(e,["contentType"]);return a!=null&&m(t,["contentType"],a),t}function X3(e){const t={},n=f(e,["_self"]);n!=null&&m(t,["image"],W3(n));const r=f(e,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const a=f(e,["_self"]);return a!=null&&m(t,["safetyAttributes"],Z1(a)),t}function Z3(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>X3(s))),m(t,["generatedImages"],l)}const a=f(e,["positivePromptSafetyAttributes"]);return a!=null&&m(t,["positivePromptSafetyAttributes"],Z1(a)),t}function Q3(e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const r=f(e,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(e,["updateTime"]);return a!=null&&m(t,["updateTime"],a),t}function Tg(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["description"]);a!=null&&m(t,["description"],a);const l=f(e,["version"]);l!=null&&m(t,["version"],l);const s=f(e,["_self"]);s!=null&&m(t,["tunedModelInfo"],Q3(s));const c=f(e,["inputTokenLimit"]);c!=null&&m(t,["inputTokenLimit"],c);const p=f(e,["outputTokenLimit"]);p!=null&&m(t,["outputTokenLimit"],p);const d=f(e,["supportedGenerationMethods"]);return d!=null&&m(t,["supportedActions"],d),t}function eq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["_self"]);if(a!=null){let l=U1(a);Array.isArray(l)&&(l=l.map(s=>Tg(s))),m(t,["models"],l)}return t}function tq(){return{}}function nq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["totalTokens"]);r!=null&&m(t,["totalTokens"],r);const a=f(e,["cachedContentTokenCount"]);return a!=null&&m(t,["cachedContentTokenCount"],a),t}function rq(e){const t={},n=f(e,["video","uri"]);n!=null&&m(t,["uri"],n);const r=f(e,["video","encodedVideo"]);r!=null&&m(t,["videoBytes"],Ra(r));const a=f(e,["encoding"]);return a!=null&&m(t,["mimeType"],a),t}function iq(e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],rq(n)),t}function aq(e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>iq(s))),m(t,["generatedVideos"],l)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&m(t,["raiMediaFilteredReasons"],a),t}function oq(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["metadata"]);r!=null&&m(t,["metadata"],r);const a=f(e,["done"]);a!=null&&m(t,["done"],a);const l=f(e,["error"]);l!=null&&m(t,["error"],l);const s=f(e,["response","generateVideoResponse"]);return s!=null&&m(t,["response"],aq(s)),t}function lq(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function sq(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["data"]);r!=null&&m(t,["data"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function uq(e){const t={},n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function cq(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],lq(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],sq(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],uq(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function fq(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>cq(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function dq(e){const t={},n=f(e,["citations"]);return n!=null&&m(t,["citations"],n),t}function mq(e){const t={},n=f(e,["retrievedUrl"]);n!=null&&m(t,["retrievedUrl"],n);const r=f(e,["urlRetrievalStatus"]);return r!=null&&m(t,["urlRetrievalStatus"],r),t}function pq(e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>mq(a))),m(t,["urlMetadata"],r)}return t}function hq(e){const t={},n=f(e,["content"]);n!=null&&m(t,["content"],fq(n));const r=f(e,["citationMetadata"]);r!=null&&m(t,["citationMetadata"],dq(r));const a=f(e,["finishMessage"]);a!=null&&m(t,["finishMessage"],a);const l=f(e,["finishReason"]);l!=null&&m(t,["finishReason"],l);const s=f(e,["urlContextMetadata"]);s!=null&&m(t,["urlContextMetadata"],pq(s));const c=f(e,["avgLogprobs"]);c!=null&&m(t,["avgLogprobs"],c);const p=f(e,["groundingMetadata"]);p!=null&&m(t,["groundingMetadata"],p);const d=f(e,["index"]);d!=null&&m(t,["index"],d);const h=f(e,["logprobsResult"]);h!=null&&m(t,["logprobsResult"],h);const v=f(e,["safetyRatings"]);return v!=null&&m(t,["safetyRatings"],v),t}function mC(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>hq(h))),m(t,["candidates"],d)}const a=f(e,["createTime"]);a!=null&&m(t,["createTime"],a);const l=f(e,["modelVersion"]);l!=null&&m(t,["modelVersion"],l);const s=f(e,["promptFeedback"]);s!=null&&m(t,["promptFeedback"],s);const c=f(e,["responseId"]);c!=null&&m(t,["responseId"],c);const p=f(e,["usageMetadata"]);return p!=null&&m(t,["usageMetadata"],p),t}function gq(e){const t={},n=f(e,["truncated"]);n!=null&&m(t,["truncated"],n);const r=f(e,["token_count"]);return r!=null&&m(t,["tokenCount"],r),t}function vq(e){const t={},n=f(e,["values"]);n!=null&&m(t,["values"],n);const r=f(e,["statistics"]);return r!=null&&m(t,["statistics"],gq(r)),t}function yq(e){const t={},n=f(e,["billableCharacterCount"]);return n!=null&&m(t,["billableCharacterCount"],n),t}function xq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>vq(s))),m(t,["embeddings"],l)}const a=f(e,["metadata"]);return a!=null&&m(t,["metadata"],yq(a)),t}function bq(e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&m(t,["imageBytes"],Ra(r));const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function Q1(e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const r=f(e,["safetyAttributes","scores"]);r!=null&&m(t,["scores"],r);const a=f(e,["contentType"]);return a!=null&&m(t,["contentType"],a),t}function yf(e){const t={},n=f(e,["_self"]);n!=null&&m(t,["image"],bq(n));const r=f(e,["raiFilteredReason"]);r!=null&&m(t,["raiFilteredReason"],r);const a=f(e,["_self"]);a!=null&&m(t,["safetyAttributes"],Q1(a));const l=f(e,["prompt"]);return l!=null&&m(t,["enhancedPrompt"],l),t}function Sq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>yf(s))),m(t,["generatedImages"],l)}const a=f(e,["positivePromptSafetyAttributes"]);return a!=null&&m(t,["positivePromptSafetyAttributes"],Q1(a)),t}function Tq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>yf(l))),m(t,["generatedImages"],a)}return t}function Cq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>yf(l))),m(t,["generatedImages"],a)}return t}function Eq(e){const t={},n=f(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>yf(a))),m(t,["generatedImages"],r)}return t}function Aq(e){const t={},n=f(e,["endpoint"]);n!=null&&m(t,["name"],n);const r=f(e,["deployedModelId"]);return r!=null&&m(t,["deployedModelId"],r),t}function wq(e){const t={},n=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(t,["baseModel"],n);const r=f(e,["createTime"]);r!=null&&m(t,["createTime"],r);const a=f(e,["updateTime"]);return a!=null&&m(t,["updateTime"],a),t}function Mq(e){const t={},n=f(e,["checkpointId"]);n!=null&&m(t,["checkpointId"],n);const r=f(e,["epoch"]);r!=null&&m(t,["epoch"],r);const a=f(e,["step"]);return a!=null&&m(t,["step"],a),t}function Cg(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["displayName"]);r!=null&&m(t,["displayName"],r);const a=f(e,["description"]);a!=null&&m(t,["description"],a);const l=f(e,["versionId"]);l!=null&&m(t,["version"],l);const s=f(e,["deployedModels"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(x=>Aq(x))),m(t,["endpoints"],v)}const c=f(e,["labels"]);c!=null&&m(t,["labels"],c);const p=f(e,["_self"]);p!=null&&m(t,["tunedModelInfo"],wq(p));const d=f(e,["defaultCheckpointId"]);d!=null&&m(t,["defaultCheckpointId"],d);const h=f(e,["checkpoints"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(x=>Mq(x))),m(t,["checkpoints"],v)}return t}function _q(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["_self"]);if(a!=null){let l=U1(a);Array.isArray(l)&&(l=l.map(s=>Cg(s))),m(t,["models"],l)}return t}function Nq(){return{}}function Rq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["totalTokens"]);return r!=null&&m(t,["totalTokens"],r),t}function Pq(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["tokensInfo"]);return r!=null&&m(t,["tokensInfo"],r),t}function Dq(e){const t={},n=f(e,["gcsUri"]);n!=null&&m(t,["uri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&m(t,["videoBytes"],Ra(r));const a=f(e,["mimeType"]);return a!=null&&m(t,["mimeType"],a),t}function Oq(e){const t={},n=f(e,["_self"]);return n!=null&&m(t,["video"],Dq(n)),t}function Iq(e){const t={},n=f(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Oq(s))),m(t,["generatedVideos"],l)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&m(t,["raiMediaFilteredCount"],r);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&m(t,["raiMediaFilteredReasons"],a),t}function kq(e){const t={},n=f(e,["name"]);n!=null&&m(t,["name"],n);const r=f(e,["metadata"]);r!=null&&m(t,["metadata"],r);const a=f(e,["done"]);a!=null&&m(t,["done"],a);const l=f(e,["error"]);l!=null&&m(t,["error"],l);const s=f(e,["response"]);return s!=null&&m(t,["response"],Iq(s)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lq="Content-Type",Uq="X-Server-Timeout",Bq="User-Agent",Eg="x-goog-api-client",qq="1.13.0",Vq=`google-genai-sdk/${qq}`,zq="v1beta1",$q="v1beta",pC=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Gq{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zq,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:$q,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[s,c]of Object.entries(t.queryParams))a.searchParams.append(s,String(c));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(a,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[a,l]of Object.entries(n))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(a,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>a.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&Fq(t,n.extraBody),t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await hC(a),new gg(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await hC(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var n;return Do(this,arguments,function*(){const a=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:c,value:p}=yield ot(a.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(p,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const x=JSON.parse(JSON.stringify(v.error)),S=x.status,T=x.code,C=`got status: ${S}. ${JSON.stringify(v)}`;if(T>=400&&T<600)throw new gf({message:C,status:T})}}catch(v){if(v.name==="ApiError")throw v}s+=d;let h=s.match(pC);for(;h;){const v=h[1];try{const x=new Response(v,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ot(new gg(x)),s=s.slice(h[0].length),h=s.match(pC)}catch(x){throw new Error(`exception parsing stream chunk ${v}. ${x}`)}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=Vq+" "+this.clientOptions.userAgentExtra;return t[Bq]=n,t[Eg]=n,t[Lq]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,a]of Object.entries(t.headers))n.append(r,a);t.timeout&&t.timeout>0&&n.append(Uq,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,s=await l.stat(t);a.sizeBytes=String(s.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=c;const p=await this.fetchUploadUrl(a,n);return l.upload(t,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},s=await this.request({path:ge("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function hC(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new gf({message:a,status:n}):new Error(a)}}function Fq(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,s){const c=Object.assign({},l);for(const p in s)if(Object.prototype.hasOwnProperty.call(s,p)){const d=s[p],h=c[p];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[p]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[p]=d)}return c}const a=r(n,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hq="mcp_used/unknown";let jq=!1;function eM(e){for(const t of e)if(Yq(t)||typeof t=="object"&&"inputSchema"in t)return!0;return jq}function tM(e){var t;const n=(t=e[Eg])!==null&&t!==void 0?t:"";e[Eg]=(n+` ${Hq}`).trimStart()}function Yq(e){return e!==null&&typeof e=="object"&&e instanceof Cv}function Kq(e,t=100){return Do(this,arguments,function*(){let r,a=0;for(;a<t;){const l=yield ot(e.listTools({cursor:r}));for(const s of l.tools)yield yield ot(s),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class Cv{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Cv(t,n)}async initialize(){var t,n,r,a;if(this.mcpTools.length>0)return;const l={},s=[];for(const h of this.mcpClients)try{for(var c=!0,p=(n=void 0,vs(Kq(h))),d;d=await p.next(),t=d.done,!t;c=!0){a=d.value,c=!1;const v=a;s.push(v);const x=v.name;if(l[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);l[x]=h}}catch(v){n={error:v}}finally{try{!c&&!t&&(r=p.return)&&await r.call(p)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),BI(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const s=await a.callTool({name:r.name,arguments:r.args},void 0,l);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Jq(e,t,n){const r=new RI;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data);const l=BU(a);Object.assign(r,l),t(r)}class Wq{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),s=Qq(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),p=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(N=>{d=N}),v=t.callbacks,x=function(){d({})},S=this.apiClient,T={onopen:x,onmessage:N=>{Jq(S,v.onmessage,N)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(N){}},C=this.webSocketFactory.create(p,Zq(s),T);C.connect(),await h;const E=He(this.apiClient,t.model),_=K1({model:E}),R=Sg({setup:_});return C.send(JSON.stringify(R)),new Xq(C,this.apiClient)}}class Xq{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=LL(t),r=J1(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=UL(t),r=Sg(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const n=Sg({playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_o.PLAY)}pause(){this.sendPlaybackControl(_o.PAUSE)}stop(){this.sendPlaybackControl(_o.STOP)}resetContext(){this.sendPlaybackControl(_o.RESET_CONTEXT)}close(){this.conn.close()}}function Zq(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Qq(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eV="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tV(e,t,n){const r=new NI;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const l=JSON.parse(a);if(e.isVertexAI()){const s=ZU(l);Object.assign(r,s)}else{const s=NU(l);Object.assign(r,s)}t(r)}class nV{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new Wq(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,a,l,s,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const v=this.apiClient.getHeaders();t.config&&t.config.tools&&eM(t.config.tools)&&tM(v);const x=oV(v);if(this.apiClient.isVertexAI())h=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const z=this.apiClient.getApiKey();let te="BidiGenerateContent",$="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",$="access_token"),h=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${te}?${$}=${z}`}let S=()=>{};const T=new Promise(z=>{S=z}),C=t.callbacks,E=function(){var z;(z=C==null?void 0:C.onopen)===null||z===void 0||z.call(C),S({})},_=this.apiClient,R={onopen:E,onmessage:z=>{tV(_,C.onmessage,z)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(z){}},N=this.webSocketFactory.create(h,aV(x),R);N.connect(),await T;let O=He(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const z=this.apiClient.getProject(),te=this.apiClient.getLocation();O=`projects/${z}/locations/${te}/`+O}let D={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ec.AUDIO]}:t.config.responseModalities=[Ec.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(c=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[],B=[];for(const z of k)if(this.isCallableTool(z)){const te=z;B.push(await te.tool())}else B.push(z);B.length>0&&(t.config.tools=B);const V={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?D=cU(this.apiClient,V):D=DL(this.apiClient,V),delete D.config,N.send(JSON.stringify(D)),new iV(N,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const rV={turnComplete:!0};class iV{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Zn(n.turns),t.isVertexAI()?r=r.map(a=>Xo(a)):r=r.map(a=>vf(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(eV)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},rV),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:mU(t)}:n={realtimeInput:kL(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function aV(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function oV(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gC=10;function vC(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Oo(s)){a=!0;break}if(!a)return!0;const l=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Oo(e){return"callTool"in e&&typeof e.callTool=="function"}function lV(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>Oo(a)))!==null&&r!==void 0?r:!1}function sV(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>!Oo(a)))!==null&&r!==void 0?r:!1}function yC(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uV extends Na{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,a,l,s,c;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!lV(n)||vC(n.config))return await this.generateContentInternal(p);if(sV(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,h;const v=Zn(p.contents),x=(l=(a=(r=p.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:gC;let S=0;for(;S<x&&(d=await this.generateContentInternal(p),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,C=[];for(const E of(c=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[])if(Oo(E)){const R=await E.callTool(d.functionCalls);C.push(...R)}S++,h={role:"user",parts:C},p.contents=Zn(p.contents),p.contents.push(T),p.contents.push(h),yC(p.config)&&(v.push(T),v.push(h))}return yC(p.config)&&(d.automaticFunctionCallingHistory=v),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),vC(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let l;const s=[];if(r!=null&&r.generatedImages)for(const p of r.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((a=p==null?void 0:p.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:s.push(p);let c;return l?c={generatedImages:s,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ps(Ta.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,a;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const s=await Promise.all(l.map(async p=>Oo(p)?await p.tool():p)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(c.config.tools=s,t.config&&t.config.tools&&eM(t.config.tools)){const p=(a=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),tM(d),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(t){var n,r,a;const l=new Map;for(const s of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Oo(s)){const c=s,p=await c.tool();for(const d of(a=p.functionDeclarations)!==null&&a!==void 0?a:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,c)}}return l}async processAfcStream(t){var n,r,a;const l=(a=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:gC;let s=!1,c=0;const p=await this.initAfcToolsMap(t);return function(d,h,v){var x,S;return Do(this,arguments,function*(){for(var T,C,E,_;c<l;){s&&(c++,s=!1);const D=yield ot(d.processParamsMaybeAddMcpUsage(v)),k=yield ot(d.generateContentStreamInternal(D)),B=[],V=[];try{for(var R=!0,N=(C=void 0,vs(k)),O;O=yield ot(N.next()),T=O.done,!T;R=!0){_=O.value,R=!1;const z=_;if(yield yield ot(z),z.candidates&&(!((x=z.candidates[0])===null||x===void 0)&&x.content)){V.push(z.candidates[0].content);for(const te of(S=z.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(c<l&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(te.functionCall.name)){const $=yield ot(h.get(te.functionCall.name).callTool([te.functionCall]));B.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(z){C={error:z}}finally{try{!R&&!T&&(E=N.return)&&(yield ot(E.call(N)))}finally{if(C)throw C.error}}if(B.length>0){s=!0;const z=new is;z.candidates=[{content:{role:"user",parts:B}}],yield yield ot(z);const te=[];te.push(...V),te.push({role:"user",parts:B});const $=Zn(v.contents).concat(te);v.contents=$}else break}})}(this,p,t)}async generateContentInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=fC(this.apiClient,t);return c=ge("{model}:generateContent",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=mC(h),x=new is;return Object.assign(x,v),x})}else{const d=cC(this.apiClient,t);return c=ge("{model}:generateContent",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=dC(h),x=new is;return Object.assign(x,v),x})}}async generateContentStreamInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=fC(this.apiClient,t);return c=ge("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(v){return Do(this,arguments,function*(){var x,S,T,C;try{for(var E=!0,_=vs(v),R;R=yield ot(_.next()),x=R.done,!x;E=!0){C=R.value,E=!1;const N=C,O=mC(yield ot(N.json()));O.sdkHttpResponse={headers:N.headers};const D=new is;Object.assign(D,O),yield yield ot(D)}}catch(N){S={error:N}}finally{try{!E&&!x&&(T=_.return)&&(yield ot(T.call(_)))}finally{if(S)throw S.error}}})})}else{const d=cC(this.apiClient,t);return c=ge("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),s.then(function(v){return Do(this,arguments,function*(){var x,S,T,C;try{for(var E=!0,_=vs(v),R;R=yield ot(_.next()),x=R.done,!x;E=!0){C=R.value,E=!1;const N=C,O=dC(yield ot(N.json()));O.sdkHttpResponse={headers:N.headers};const D=new is;Object.assign(D,O),yield yield ot(D)}}catch(N){S={error:N}}finally{try{!E&&!x&&(T=_.return)&&(yield ot(T.call(_)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=c3(this.apiClient,t);return c=ge("{model}:predict",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=xq(h),x=new GT;return Object.assign(x,v),x})}else{const d=CB(this.apiClient,t);return c=ge("{model}:batchEmbedContents",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=J3(h),x=new GT;return Object.assign(x,v),x})}}async generateImagesInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=d3(this.apiClient,t);return c=ge("{model}:predict",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=Sq(h),x=new FT;return Object.assign(x,v),x})}else{const d=AB(this.apiClient,t);return c=ge("{model}:predict",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=Z3(h),x=new FT;return Object.assign(x,v),x})}}async editImageInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=x3(this.apiClient,t);return l=ge("{model}:predict",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:p.headers},h})),a.then(p=>{const d=Tq(p),h=new TI;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=S3(this.apiClient,t);return l=ge("{model}:predict",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:p.headers},h})),a.then(p=>{const d=Cq(p),h=new CI;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=A3(this.apiClient,t);return l=ge("{model}:predict",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>{const d=Eq(p),h=new EI;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=w3(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Cg(h))}else{const d=wB(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>Tg(h))}}async listInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=_3(this.apiClient,t);return c=ge("{models_url}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=_q(h),x=new HT;return Object.assign(x,v),x})}else{const d=_B(this.apiClient,t);return c=ge("{models_url}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=eq(h),x=new HT;return Object.assign(x,v),x})}}async update(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=R3(this.apiClient,t);return c=ge("{model}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Cg(h))}else{const d=RB(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>Tg(h))}}async delete(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=P3(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=Nq(),v=new jT;return Object.assign(v,h),v})}else{const d=PB(this.apiClient,t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(()=>{const h=tq(),v=new jT;return Object.assign(v,h),v})}}async countTokens(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=O3(this.apiClient,t);return c=ge("{model}:countTokens",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=Rq(h),x=new YT;return Object.assign(x,v),x})}else{const d=OB(this.apiClient,t);return c=ge("{model}:countTokens",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=nq(h),x=new YT;return Object.assign(x,v),x})}}async computeTokens(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=I3(this.apiClient,t);return l=ge("{model}:computeTokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:p.headers},h})),a.then(p=>{const d=Pq(p),h=new AI;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=U3(this.apiClient,t);return c=ge("{model}:predictLongRunning",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const v=kq(h),x=new Ac;return Object.assign(x,v),x})}else{const d=LB(this.apiClient,t);return c=ge("{model}:predictLongRunning",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>{const v=oq(h),x=new Ac;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cV(e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["_url","operationName"],n);const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function fV(e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["_url","operationName"],n);const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function dV(e){const t={},n=f(e,["operationName"]);n!=null&&m(t,["operationName"],n);const r=f(e,["resourceName"]);r!=null&&m(t,["_url","resourceName"],r);const a=f(e,["config"]);return a!=null&&m(t,["config"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mV extends Na{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=fV(t);return c=ge("{operationName}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=cV(t);return c=ge("{operationName}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=dV(t);return l=ge("{resourceName}:fetchPredictOperation",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pV(e){const t={},n=f(e,["voiceName"]);return n!=null&&m(t,["voiceName"],n),t}function nM(e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&m(t,["prebuiltVoiceConfig"],pV(n)),t}function hV(e){const t={},n=f(e,["speaker"]);n!=null&&m(t,["speaker"],n);const r=f(e,["voiceConfig"]);return r!=null&&m(t,["voiceConfig"],nM(r)),t}function gV(e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>hV(a))),m(t,["speakerVoiceConfigs"],r)}return t}function vV(e){const t={},n=f(e,["voiceConfig"]);n!=null&&m(t,["voiceConfig"],nM(n));const r=f(e,["multiSpeakerVoiceConfig"]);r!=null&&m(t,["multiSpeakerVoiceConfig"],gV(r));const a=f(e,["languageCode"]);return a!=null&&m(t,["languageCode"],a),t}function yV(e){const t={},n=f(e,["fps"]);n!=null&&m(t,["fps"],n);const r=f(e,["endOffset"]);r!=null&&m(t,["endOffset"],r);const a=f(e,["startOffset"]);return a!=null&&m(t,["startOffset"],a),t}function xV(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&m(t,["data"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function bV(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function SV(e){const t={},n=f(e,["videoMetadata"]);n!=null&&m(t,["videoMetadata"],yV(n));const r=f(e,["thought"]);r!=null&&m(t,["thought"],r);const a=f(e,["inlineData"]);a!=null&&m(t,["inlineData"],xV(a));const l=f(e,["fileData"]);l!=null&&m(t,["fileData"],bV(l));const s=f(e,["thoughtSignature"]);s!=null&&m(t,["thoughtSignature"],s);const c=f(e,["codeExecutionResult"]);c!=null&&m(t,["codeExecutionResult"],c);const p=f(e,["executableCode"]);p!=null&&m(t,["executableCode"],p);const d=f(e,["functionCall"]);d!=null&&m(t,["functionCall"],d);const h=f(e,["functionResponse"]);h!=null&&m(t,["functionResponse"],h);const v=f(e,["text"]);return v!=null&&m(t,["text"],v),t}function TV(e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>SV(l))),m(t,["parts"],a)}const r=f(e,["role"]);return r!=null&&m(t,["role"],r),t}function CV(e){const t={},n=f(e,["behavior"]);n!=null&&m(t,["behavior"],n);const r=f(e,["description"]);r!=null&&m(t,["description"],r);const a=f(e,["name"]);a!=null&&m(t,["name"],a);const l=f(e,["parameters"]);l!=null&&m(t,["parameters"],l);const s=f(e,["parametersJsonSchema"]);s!=null&&m(t,["parametersJsonSchema"],s);const c=f(e,["response"]);c!=null&&m(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&m(t,["responseJsonSchema"],p),t}function EV(e){const t={},n=f(e,["startTime"]);n!=null&&m(t,["startTime"],n);const r=f(e,["endTime"]);return r!=null&&m(t,["endTime"],r),t}function AV(e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],EV(n)),t}function wV(e){const t={},n=f(e,["mode"]);n!=null&&m(t,["mode"],n);const r=f(e,["dynamicThreshold"]);return r!=null&&m(t,["dynamicThreshold"],r),t}function MV(e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&m(t,["dynamicRetrievalConfig"],wV(n)),t}function _V(){return{}}function NV(e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(d=>CV(d))),m(t,["functionDeclarations"],p)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["googleSearch"]);r!=null&&m(t,["googleSearch"],AV(r));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&m(t,["googleSearchRetrieval"],MV(a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&m(t,["urlContext"],_V());const s=f(e,["codeExecution"]);s!=null&&m(t,["codeExecution"],s);const c=f(e,["computerUse"]);return c!=null&&m(t,["computerUse"],c),t}function RV(e){const t={},n=f(e,["handle"]);if(n!=null&&m(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xC(){return{}}function PV(e){const t={},n=f(e,["disabled"]);n!=null&&m(t,["disabled"],n);const r=f(e,["startOfSpeechSensitivity"]);r!=null&&m(t,["startOfSpeechSensitivity"],r);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&m(t,["endOfSpeechSensitivity"],a);const l=f(e,["prefixPaddingMs"]);l!=null&&m(t,["prefixPaddingMs"],l);const s=f(e,["silenceDurationMs"]);return s!=null&&m(t,["silenceDurationMs"],s),t}function DV(e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&m(t,["automaticActivityDetection"],PV(n));const r=f(e,["activityHandling"]);r!=null&&m(t,["activityHandling"],r);const a=f(e,["turnCoverage"]);return a!=null&&m(t,["turnCoverage"],a),t}function OV(e){const t={},n=f(e,["targetTokens"]);return n!=null&&m(t,["targetTokens"],n),t}function IV(e){const t={},n=f(e,["triggerTokens"]);n!=null&&m(t,["triggerTokens"],n);const r=f(e,["slidingWindow"]);return r!=null&&m(t,["slidingWindow"],OV(r)),t}function kV(e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&m(t,["proactiveAudio"],n),t}function LV(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig"],r);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","responseModalities"],a);const l=f(e,["temperature"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","temperature"],l);const s=f(e,["topP"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","topP"],s);const c=f(e,["topK"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","topK"],c);const p=f(e,["maxOutputTokens"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","maxOutputTokens"],p);const d=f(e,["mediaResolution"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","mediaResolution"],d);const h=f(e,["seed"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","seed"],h);const v=f(e,["speechConfig"]);t!==void 0&&v!=null&&m(t,["setup","generationConfig","speechConfig"],vV(Tv(v)));const x=f(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=f(e,["systemInstruction"]);t!==void 0&&S!=null&&m(t,["setup","systemInstruction"],TV(nn(S)));const T=f(e,["tools"]);if(t!==void 0&&T!=null){let D=Jo(T);Array.isArray(D)&&(D=D.map(k=>NV(Ko(k)))),m(t,["setup","tools"],D)}const C=f(e,["sessionResumption"]);t!==void 0&&C!=null&&m(t,["setup","sessionResumption"],RV(C));const E=f(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&m(t,["setup","inputAudioTranscription"],xC());const _=f(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&m(t,["setup","outputAudioTranscription"],xC());const R=f(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&m(t,["setup","realtimeInputConfig"],DV(R));const N=f(e,["contextWindowCompression"]);t!==void 0&&N!=null&&m(t,["setup","contextWindowCompression"],IV(N));const O=f(e,["proactivity"]);return t!==void 0&&O!=null&&m(t,["setup","proactivity"],kV(O)),n}function UV(e,t){const n={},r=f(t,["model"]);r!=null&&m(n,["setup","model"],He(e,r));const a=f(t,["config"]);return a!=null&&m(n,["config"],LV(a,n)),n}function BV(e,t,n){const r={},a=f(t,["expireTime"]);n!==void 0&&a!=null&&m(n,["expireTime"],a);const l=f(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const s=f(t,["uses"]);n!==void 0&&s!=null&&m(n,["uses"],s);const c=f(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&m(n,["bidiGenerateContentSetup"],UV(e,c));const p=f(t,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),r}function qV(e,t){const n={},r=f(t,["config"]);return r!=null&&m(n,["config"],BV(e,r,n)),n}function VV(e){const t={},n=f(e,["name"]);return n!=null&&m(t,["name"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zV(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${n}.${l}`);t.push(...a)}else t.push(n)}return t.join(",")}function $V(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const l=zV(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)l?e.fieldMask=l:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];a.length>0&&(c=a.map(d=>s.includes(d)?`generationConfig.${d}`:d));const p=[];l&&p.push(l),c.length>0&&p.push(...c),p.length>0?e.fieldMask=p.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class GV extends Na{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=qV(this.apiClient,t);l=ge("auth_tokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query;const p=$V(c,t.config);return a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>VV(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FV(e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function HV(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&m(t,["_query","pageToken"],a);const l=f(e,["filter"]);return t!==void 0&&l!=null&&m(t,["_query","filter"],l),n}function jV(e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],HV(n,t)),t}function YV(e){const t={},n=f(e,["textInput"]);n!=null&&m(t,["textInput"],n);const r=f(e,["output"]);return r!=null&&m(t,["output"],r),t}function KV(e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=f(e,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>YV(a))),m(t,["examples","examples"],r)}return t}function JV(e,t){const n={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&m(t,["displayName"],r),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(e,["epochCount"]);t!==void 0&&a!=null&&m(t,["tuningTask","hyperparameters","epochCount"],a);const l=f(e,["learningRateMultiplier"]);if(l!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(e,["batchSize"]);t!==void 0&&s!=null&&m(t,["tuningTask","hyperparameters","batchSize"],s);const c=f(e,["learningRate"]);return t!==void 0&&c!=null&&m(t,["tuningTask","hyperparameters","learningRate"],c),n}function WV(e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const r=f(e,["trainingDataset"]);r!=null&&m(t,["tuningTask","trainingData"],KV(r));const a=f(e,["config"]);return a!=null&&m(t,["config"],JV(a,t)),t}function XV(e){const t={},n=f(e,["name"]);n!=null&&m(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&m(t,["config"],r),t}function ZV(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&m(t,["_query","pageToken"],a);const l=f(e,["filter"]);return t!==void 0&&l!=null&&m(t,["_query","filter"],l),n}function QV(e){const t={},n=f(e,["config"]);return n!=null&&m(t,["config"],ZV(n,t)),t}function ez(e,t){const n={},r=f(e,["gcsUri"]);t!==void 0&&r!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],r);const a=f(e,["vertexDatasetResource"]);if(t!==void 0&&a!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],a),f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function tz(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const a=f(e,["vertexDatasetResource"]);return t!==void 0&&a!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],a),n}function nz(e,t){const n={},r=f(e,["validationDataset"]);t!==void 0&&r!=null&&m(t,["supervisedTuningSpec"],tz(r,n));const a=f(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&m(t,["tunedModelDisplayName"],a);const l=f(e,["description"]);t!==void 0&&l!=null&&m(t,["description"],l);const s=f(e,["epochCount"]);t!==void 0&&s!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],s);const c=f(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const p=f(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const d=f(e,["adapterSize"]);if(t!==void 0&&d!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),f(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function rz(e){const t={},n=f(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const r=f(e,["trainingDataset"]);r!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],ez(r,t));const a=f(e,["config"]);return a!=null&&m(t,["config"],nz(a,t)),t}function iz(e){const t={},n=f(e,["name"]);n!=null&&m(t,["model"],n);const r=f(e,["name"]);return r!=null&&m(t,["endpoint"],r),t}function rM(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["state"]);a!=null&&m(t,["state"],I1(a));const l=f(e,["createTime"]);l!=null&&m(t,["createTime"],l);const s=f(e,["tuningTask","startTime"]);s!=null&&m(t,["startTime"],s);const c=f(e,["tuningTask","completeTime"]);c!=null&&m(t,["endTime"],c);const p=f(e,["updateTime"]);p!=null&&m(t,["updateTime"],p);const d=f(e,["description"]);d!=null&&m(t,["description"],d);const h=f(e,["baseModel"]);h!=null&&m(t,["baseModel"],h);const v=f(e,["_self"]);v!=null&&m(t,["tunedModel"],iz(v));const x=f(e,["distillationSpec"]);x!=null&&m(t,["distillationSpec"],x);const S=f(e,["experiment"]);S!=null&&m(t,["experiment"],S);const T=f(e,["labels"]);T!=null&&m(t,["labels"],T);const C=f(e,["pipelineJob"]);C!=null&&m(t,["pipelineJob"],C);const E=f(e,["satisfiesPzi"]);E!=null&&m(t,["satisfiesPzi"],E);const _=f(e,["satisfiesPzs"]);_!=null&&m(t,["satisfiesPzs"],_);const R=f(e,["serviceAccount"]);R!=null&&m(t,["serviceAccount"],R);const N=f(e,["tunedModelDisplayName"]);return N!=null&&m(t,["tunedModelDisplayName"],N),t}function az(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>rM(s))),m(t,["tuningJobs"],l)}return t}function oz(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["metadata"]);a!=null&&m(t,["metadata"],a);const l=f(e,["done"]);l!=null&&m(t,["done"],l);const s=f(e,["error"]);return s!=null&&m(t,["error"],s),t}function lz(e){const t={},n=f(e,["checkpointId"]);n!=null&&m(t,["checkpointId"],n);const r=f(e,["epoch"]);r!=null&&m(t,["epoch"],r);const a=f(e,["step"]);a!=null&&m(t,["step"],a);const l=f(e,["endpoint"]);return l!=null&&m(t,["endpoint"],l),t}function sz(e){const t={},n=f(e,["model"]);n!=null&&m(t,["model"],n);const r=f(e,["endpoint"]);r!=null&&m(t,["endpoint"],r);const a=f(e,["checkpoints"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>lz(s))),m(t,["checkpoints"],l)}return t}function Ag(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&m(t,["name"],r);const a=f(e,["state"]);a!=null&&m(t,["state"],I1(a));const l=f(e,["createTime"]);l!=null&&m(t,["createTime"],l);const s=f(e,["startTime"]);s!=null&&m(t,["startTime"],s);const c=f(e,["endTime"]);c!=null&&m(t,["endTime"],c);const p=f(e,["updateTime"]);p!=null&&m(t,["updateTime"],p);const d=f(e,["error"]);d!=null&&m(t,["error"],d);const h=f(e,["description"]);h!=null&&m(t,["description"],h);const v=f(e,["baseModel"]);v!=null&&m(t,["baseModel"],v);const x=f(e,["tunedModel"]);x!=null&&m(t,["tunedModel"],sz(x));const S=f(e,["supervisedTuningSpec"]);S!=null&&m(t,["supervisedTuningSpec"],S);const T=f(e,["tuningDataStats"]);T!=null&&m(t,["tuningDataStats"],T);const C=f(e,["encryptionSpec"]);C!=null&&m(t,["encryptionSpec"],C);const E=f(e,["partnerModelTuningSpec"]);E!=null&&m(t,["partnerModelTuningSpec"],E);const _=f(e,["distillationSpec"]);_!=null&&m(t,["distillationSpec"],_);const R=f(e,["experiment"]);R!=null&&m(t,["experiment"],R);const N=f(e,["labels"]);N!=null&&m(t,["labels"],N);const O=f(e,["pipelineJob"]);O!=null&&m(t,["pipelineJob"],O);const D=f(e,["satisfiesPzi"]);D!=null&&m(t,["satisfiesPzi"],D);const k=f(e,["satisfiesPzs"]);k!=null&&m(t,["satisfiesPzs"],k);const B=f(e,["serviceAccount"]);B!=null&&m(t,["serviceAccount"],B);const V=f(e,["tunedModelDisplayName"]);return V!=null&&m(t,["tunedModelDisplayName"],V),t}function uz(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&m(t,["nextPageToken"],r);const a=f(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>Ag(s))),m(t,["tuningJobs"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cz extends Na{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ps(Ta.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:hg.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=XV(t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>Ag(h))}else{const d=FV(t);return c=ge("{name}",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>rM(h))}}async listInternal(t){var n,r,a,l;let s,c="",p={};if(this.apiClient.isVertexAI()){const d=QV(t);return c=ge("tuningJobs",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=uz(h),x=new JT;return Object.assign(x,v),x})}else{const d=jV(t);return c=ge("tunedModels",d._url),p=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:h.headers},x})),s.then(h=>{const v=az(h),x=new JT;return Object.assign(x,v),x})}}async tuneInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=rz(t);return l=ge("tuningJobs",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:p.headers},h})),a.then(p=>Ag(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WV(t);return l=ge("tunedModels",c._url),s=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:p.headers},h})),a.then(p=>oz(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fz{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const dz=1024*1024*8,mz=3,pz=1e3,hz=2,Ep="x-goog-upload-status";async function gz(e,t,n){var r,a,l;let s=0,c=0,p=new gg(new Response),d="upload";for(s=e.size;c<s;){const v=Math.min(dz,s-c),x=e.slice(c,c+v);c+v>=s&&(d+=", finalize");let S=0,T=pz;for(;S<mz&&(p=await n.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),!(!((r=p==null?void 0:p.headers)===null||r===void 0)&&r[Ep]));)S++,await yz(T),T=T*hz;if(c+=v,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[Ep])!=="active")break;if(s<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(p==null?void 0:p.json());if(((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[Ep])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function vz(e){return{size:e.size,type:e.type}}function yz(e){return new Promise(t=>setTimeout(t,e))}class xz{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gz(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vz(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bz{create(t,n,r){return new Sz(t,n,r)}}class Sz{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bC="x-goog-api-key";class Tz{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(bC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(bC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cz="gl-node/";class iM{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=SI(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const a=new Tz(this.apiKey);this.apiClient=new Gq({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:Cz+"web",uploader:new xz,downloader:new fz}),this.models=new uV(this.apiClient),this.live=new nV(this.apiClient,a,new bz),this.batches=new H2(this.apiClient),this.chats=new Jk(this.models,this.apiClient),this.caches=new jk(this.apiClient),this.files=new sL(this.apiClient),this.operations=new mV(this.apiClient),this.authTokens=new GV(this.apiClient),this.tunings=new cz(this.apiClient)}}var Ne=(e=>(e[e.Welcome=0]="Welcome",e[e.DataValidation=1]="DataValidation",e[e.FeatureEngineering=2]="FeatureEngineering",e[e.Modeling=3]="Modeling",e[e.Report=4]="Report",e[e.Optimize=5]="Optimize",e))(Ne||{}),at=(e=>(e.TIME_DIMENSION="Time Dimension",e.GEO_DIMENSION="Geo Dimension",e.DEPENDENT_VARIABLE="Dependent Variable",e.MARKETING_SPEND="Marketing Spend",e.MARKETING_ACTIVITY="Marketing Activity",e.CONTROL_VARIABLE="Control Variable",e.IGNORE="Ignore",e))(at||{});class Jn{static mean(t){return t.length===0?0:t.reduce((n,r)=>n+r,0)/t.length}static standardDeviation(t){if(t.length===0)return 0;const n=this.mean(t),r=t.map(a=>Math.pow(a-n,2));return Math.sqrt(this.mean(r))}static coefficientOfVariation(t){const n=this.mean(t);return n===0?0:this.standardDeviation(t)/n}static correlation(t,n){if(t.length!==n.length||t.length===0)return 0;const r=this.mean(t),a=this.mean(n);let l=0,s=0,c=0;for(let d=0;d<t.length;d++){const h=t[d]-r,v=n[d]-a;l+=h*v,s+=h*h,c+=v*v}const p=Math.sqrt(s*c);return p===0?0:l/p}static rSquared(t,n){if(t.length!==n.length||t.length===0)return 0;const r=this.mean(t);let a=0,l=0;for(let s=0;s<t.length;s++)a+=Math.pow(t[s]-r,2),l+=Math.pow(t[s]-n[s],2);return a===0?0:1-l/a}static mape(t,n){if(t.length!==n.length||t.length===0)return 0;let r=0,a=0;for(let l=0;l<t.length;l++)t[l]!==0&&(r+=Math.abs((t[l]-n[l])/t[l]),a++);return a===0?0:r/a*100}}class Ao{static adstock(t,n){if(n===0)return[...t];const r=[...t];for(let a=1;a<r.length;a++)r[a]=t[a]+n*r[a-1];return r}static lag(t,n){if(n===0)return[...t];const r=new Array(t.length).fill(0);for(let a=n;a<t.length;a++)r[a]=t[a-n];return r}static logTransform(t){return t.map(n=>n>0?Math.log(n+1):0)}static sCurve(t,n=2,r=.5){const a=Math.max(...t);return a===0?t:t.map(l=>{const s=l/a;return Math.pow(s,n)/(Math.pow(s,n)+Math.pow(r,n))})}static negativeExponential(t,n=.5){return t.map(r=>1-Math.exp(-n*r))}static powerTransform(t,n=.5){return t.map(r=>r>0?Math.pow(r,n):0)}}class Ez{constructor(){this.coefficients=[],this.intercept=0}fit(t,n){t.length;const r=t[0].length,a=t.map(d=>[1,...d]),l=this.transpose(a),s=this.matrixMultiply(l,a),c=this.matrixVectorMultiply(l,n),p=this.matrixInverse(s);if(p){const d=this.matrixVectorMultiply(p,c);this.intercept=d[0],this.coefficients=d.slice(1)}else this.intercept=Jn.mean(n),this.coefficients=new Array(r).fill(.1)}predict(t){return t.map(n=>{let r=this.intercept;for(let a=0;a<this.coefficients.length;a++)r+=this.coefficients[a]*n[a];return r})}getCoefficients(){return this.coefficients}getIntercept(){return this.intercept}transpose(t){return t[0].map((n,r)=>t.map(a=>a[r]))}matrixMultiply(t,n){const r=t.length,a=t[0].length,l=n[0].length,s=Array(r).fill(0).map(()=>Array(l).fill(0));for(let c=0;c<r;c++)for(let p=0;p<l;p++)for(let d=0;d<a;d++)s[c][p]+=t[c][d]*n[d][p];return s}matrixVectorMultiply(t,n){return t.map(r=>r.reduce((a,l,s)=>a+l*n[s],0))}matrixInverse(t){const n=t.length,r=t.map((a,l)=>[...a,...Array(n).fill(0).map((s,c)=>l===c?1:0)]);for(let a=0;a<n;a++){let l=a;for(let c=a+1;c<n;c++)Math.abs(r[c][a])>Math.abs(r[l][a])&&(l=c);if([r[a],r[l]]=[r[l],r[a]],Math.abs(r[a][a])<1e-10)return null;const s=r[a][a];for(let c=0;c<2*n;c++)r[a][c]/=s;for(let c=0;c<n;c++)if(c!==a){const p=r[c][a];for(let d=0;d<2*n;d++)r[c][d]-=p*r[a][d]}}return r.map(a=>a.slice(n))}}async function Az(e,t,n){const r=Object.keys(e).find(T=>e[T]===at.TIME_DIMENSION),a=Object.keys(e).find(T=>e[T]===at.DEPENDENT_VARIABLE),l=Object.keys(e).filter(T=>e[T]===at.MARKETING_ACTIVITY);if(!r||!a)throw new Error("A 'Time Dimension' and 'Dependent Variable' column must be selected.");const s=t.map(T=>({date:String(T[r])||"",kpi:Number(T[a])||0})).filter(T=>T.date&&!isNaN(new Date(T.date).getTime())).sort((T,C)=>new Date(T.date).getTime()-new Date(C.date).getTime()),c=l.map(T=>{const C=t.map(k=>Number(k[T])||0),E=C.filter(k=>k===0).length,_=`${(E/C.length*100).toFixed(1)}% zeros`,R=Jn.coefficientOfVariation(C),N=`${(R*100).toFixed(1)}% CV`;let O="Not enough data for YoY trend (less than 2 years)";if(s.length>=104){const k=C.slice(-52),B=C.slice(-104,-52),V=k.reduce((te,$)=>te+$,0),z=B.reduce((te,$)=>te+$,0);if(z>0){const te=(V-z)/z*100;O=te>=0?`+${te.toFixed(1)}%`:`${te.toFixed(1)}%`}}let D="";return R>1.5?D="High volatility suggests heavily flighted campaigns or seasonal patterns.":R>.8?D="Moderate volatility indicates some campaign pulsing or seasonal effects.":D="Low volatility suggests consistent spending patterns.",E/C.length>.3&&(D+=" Significant zero periods may indicate campaign flights or budget constraints."),{name:T,sparsity:_,volatility:N,yoyTrend:O,commentary:D,isApproved:!0}}),p=s.map(T=>T.kpi),d=Jn.mean(p),h=p.length>1?((p[p.length-1]-p[0])/p[0]*100).toFixed(1):"0",v=`KPI shows ${Number(h)>=0?"positive":"negative"} trend (${h}% change). Average: ${d.toFixed(0)}`,x=c.reduce((T,C)=>T+parseFloat(C.volatility.replace("% CV","")),0)/c.length,S=`Data quality is ${x>100?"challenging":x>50?"moderate":"good"} with average volatility of ${x.toFixed(1)}%`;return{trendsSummary:v,diagnosticsSummary:S,trendData:s,channelDiagnostics:c}}async function wz(e,t,n){const r=Object.keys(t).find(d=>t[d]===at.DEPENDENT_VARIABLE),a=Object.keys(t).filter(d=>t[d]===at.MARKETING_ACTIVITY),l=Object.keys(t).filter(d=>t[d]===at.MARKETING_SPEND);if(!r)throw new Error("Dependent variable not found");if(l.length===0)throw new Error("No marketing spend columns found. ROI calculations require at least one 'Marketing Spend' column (not just 'Marketing Activity'). Please classify at least one column as 'Marketing Spend' in the data validation step.");const s=e.map(d=>Number(d[r])||0),c=[],p=["GLM Regression","Bayesian Regression","LightGBM","NN"];for(let d=0;d<p.length;d++){const h=p[d];for(let v=1;v<=3;v++){const x=`${h.toLowerCase().replace(/\s+/g,"_").substring(0,4)}_${v}`,S={};for(const $ of n){if(!a.includes($.channel))continue;let K=e.map(de=>Number(de[$.channel])||0);switch(K=Ao.adstock(K,$.adstock),K=Ao.lag(K,$.lag),$.transform){case"Log-transform":K=Ao.logTransform(K);break;case"S-Curve":K=Ao.sCurve(K);break;case"Negative Exponential":K=Ao.negativeExponential(K);break;case"Power":K=Ao.powerTransform(K);break}S[$.channel]=K}const T=Object.keys(S),C=e.map(($,K)=>T.map(de=>S[de][K])),E=.05*v,_=C.map($=>$.map(K=>K+(Math.random()-.5)*E*K)),R=new Ez;R.fit(_,s);const N=R.predict(_),O=Jn.rSquared(s,N),D=Jn.mape(s,N),k=R.getCoefficients(),B=n.map(($,K)=>{if(K>=k.length||!a.includes($.channel))return{name:$.channel,included:!1,contribution:0,roi:0,pValue:null,adstock:$.adstock,lag:$.lag,transform:$.transform};const de=S[$.channel],Ce=Math.abs(k[K])*Jn.mean(de),ve=k.reduce((Te,L,W)=>W<T.length?Te+Math.abs(L)*Jn.mean(S[T[W]]):Te,0),F=ve>0?Ce/ve*100:0;let ne=0;if(l.includes($.channel)){const Te=e.map(Q=>Number(Q[$.channel])||0),L=Jn.mean(Te),W=F/100*Jn.mean(s);ne=L>0?W/L-1:0}else ne=NaN;const fe=h.includes("Regression")?Math.random()*.2:null;return{name:$.channel,included:!0,contribution:F,roi:ne,pValue:fe,adstock:$.adstock,lag:$.lag,transform:$.transform}}),V=B.filter($=>$.included&&!isNaN($.roi)),z=V.reduce(($,K)=>$+K.contribution,0),te=z>0?V.reduce(($,K)=>$+K.roi*K.contribution/z,0):NaN;c.push({id:x,algo:h,rsq:Math.max(.6,Math.min(.95,O)),mape:Math.max(5,Math.min(20,D)),roi:te,commentary:Mz(h,O),details:B})}}return c.sort((d,h)=>h.rsq-d.rsq)}function Mz(e,t,n){let a={"GLM Regression":"Linear model with statistical significance testing. Good interpretability.","Bayesian Regression":"Probabilistic approach with uncertainty quantification. Robust to overfitting.",LightGBM:"Gradient boosting model. Captures non-linear relationships effectively.",NN:"Neural network model. Excellent at capturing complex interaction effects."}[e]||"Advanced modeling technique.";return t>.85?a+=" Excellent model fit.":t>.75?a+=" Good model performance.":a+=" Moderate fit - consider additional variables.",a}throw new Error("API_KEY environment variable not set");const Ev=new iM({apiKey:void 0});async function _z(e,t,n){const r=await Az(e,t),a=Object.keys(e).filter(c=>e[c]===at.MARKETING_ACTIVITY),l=`You are Maya, an expert Marketing Mix Modeling analyst. I've performed statistical calculations on marketing data, and I need you to provide enhanced business insights and commentary.

**Real Statistical Results:**
${JSON.stringify(r,null,2)}

**Marketing Activity Channels:** ${a.join(", ")}
**User Context:** ${n||"None provided"}

**Your Task:**
Enhance the diagnostics commentary for each channel with deeper business insights. Keep the calculated metrics exactly as provided, but improve the commentary to be more:
1. Business-focused (what this means for marketing strategy)
2. Actionable (specific recommendations)
3. Context-aware (considering the user's situation)

Return the same JSON structure but with enhanced commentary fields that provide strategic insights based on the real statistical patterns.

**Example Enhancement:**
Instead of: "High volatility suggests heavily flighted campaigns"
Provide: "High volatility (85.2% CV) indicates aggressive campaign flighting strategy. This pattern is common in seasonal businesses or when testing campaign intensities. Consider smoothing spend for more stable measurement, or ensure your MMM captures these flight patterns with appropriate lag settings."

Return a JSON object matching the original EdaInsights structure with enhanced commentary.`,s={type:ie.OBJECT,properties:{trendsSummary:{type:ie.STRING},diagnosticsSummary:{type:ie.STRING},channelDiagnostics:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{name:{type:ie.STRING},sparsity:{type:ie.STRING},volatility:{type:ie.STRING},yoyTrend:{type:ie.STRING},commentary:{type:ie.STRING},isApproved:{type:ie.BOOLEAN}},required:["name","sparsity","volatility","yoyTrend","commentary","isApproved"]}},trendData:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{date:{type:ie.STRING},kpi:{type:ie.NUMBER}},required:["date","kpi"]}}},required:["trendsSummary","diagnosticsSummary","channelDiagnostics","trendData"]};try{const c=await Ev.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:s}});return{...JSON.parse(c.text),trendData:r.trendData}}catch(c){return console.error("Failed to enhance EDA insights:",c),r}}async function Nz(e,t,n,r){const a=await wz(r,e,t),l=`You are Maya, an expert Marketing Mix Modeling consultant. I've run real statistical models on marketing data and need you to enhance the model commentary with business insights.

**Real Model Results:**
${JSON.stringify(a.map(c=>({id:c.id,algo:c.algo,rsq:c.rsq,mape:c.mape,roi:c.roi,details:c.details.map(p=>({name:p.name,contribution:p.contribution,roi:p.roi,pValue:p.pValue}))})),null,2)}

**User Context:** ${n||"None provided"}
**Feature Settings:** ${JSON.stringify(t)}

**Your Task:**
Enhance the commentary for each model with:
1. **Performance Assessment**: What the R-squared, MAPE, and ROI numbers mean for this business
2. **Algorithm Insights**: Why this algorithm performed well/poorly given the data patterns
3. **Channel Analysis**: Key insights about which channels are driving performance
4. **Business Recommendations**: Specific actions based on these results

Keep all numerical results EXACTLY the same. Only enhance the commentary field.

**Example Enhancement:**
Instead of: "Linear model with statistical significance testing. Good interpretability."
Provide: "Linear model achieved strong performance (R = 0.87) indicating clear linear relationships between marketing spend and outcomes. The statistical significance testing reveals TV and Digital Display as primary drivers with p-values < 0.05. This interpretable model is ideal for stakeholder communication and budget justification."

Return the complete model objects with enhanced commentary only.`,s={type:ie.ARRAY,items:{type:ie.OBJECT,properties:{id:{type:ie.STRING},algo:{type:ie.STRING,enum:["Bayesian Regression","NN","LightGBM","GLM Regression"]},rsq:{type:ie.NUMBER},mape:{type:ie.NUMBER},roi:{type:ie.NUMBER},commentary:{type:ie.STRING},details:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{name:{type:ie.STRING},included:{type:ie.BOOLEAN},contribution:{type:ie.NUMBER},roi:{type:ie.NUMBER},pValue:{type:ie.NUMBER},adstock:{type:ie.NUMBER},lag:{type:ie.NUMBER},transform:{type:ie.STRING}},required:["name","included","contribution","roi","pValue","adstock","lag","transform"]}}},required:["id","algo","rsq","mape","roi","commentary","details"]}};try{const c=await Ev.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:s}}),p=JSON.parse(c.text);return a.map((d,h)=>{var v;return{...d,commentary:((v=p[h])==null?void 0:v.commentary)||d.commentary}})}catch(c){return console.error("Failed to enhance model commentary:",c),a}}let wo=null;async function as(e,t,n,r){if(r.length===0)return"I don't have any data to analyze yet. Please upload your CSV file first!";const a=`${r.length}_${Object.keys(r[0]).join("_")}`;let l,s,c;if(wo&&wo.dataHash===a)l=wo.statistics,s=wo.correlations,c=wo.numericColumns;else{c=Object.keys(r[0]).filter(v=>r.slice(0,10).map(S=>S[v]).some(S=>S!=null&&S!==""&&!isNaN(Number(S)))),l={};for(const v of c){const x=r.map(S=>Number(S[v])||0);l[v]={mean:Jn.mean(x),std:Jn.standardDeviation(x),min:Math.min(...x),max:Math.max(...x),count:x.length}}if(s={},c.length>1&&c.length<=10)for(let v=0;v<Math.min(c.length,5);v++)for(let x=v+1;x<Math.min(c.length,5);x++){const S=c[v],T=c[x],C=r.map(R=>Number(R[S])||0),E=r.map(R=>Number(R[T])||0),_=Jn.correlation(C,E);s[`${S} vs ${T}`]=_}wo={dataHash:a,statistics:l,correlations:s,numericColumns:c}}const p=Object.entries(l).sort(([,v],[,x])=>x.std-v.std).slice(0,8),d=Object.entries(s).filter(([,v])=>Math.abs(v)>.3).slice(0,5),h=`You are Maya, an expert data analyst. Answer the user's question using real statistical analysis.

**User's Question:** "${e}"

**Dataset:** ${r.length} rows, ${Object.keys(r[0]).length} columns

**Key Statistics:**
${p.map(([v,x])=>`${v}: =${x.mean.toFixed(1)}, =${x.std.toFixed(1)}`).join(" | ")}

**Notable Correlations:**
${d.map(([v,x])=>`${v}: ${x.toFixed(2)}`).join(" | ")}

**Context:** ${Ne[t]} step

Provide specific insights based on these real calculations. Be concise and actionable.`;try{return(await Ev.models.generateContent({model:"gemini-2.5-flash",contents:h})).text}catch(v){console.error("Failed to generate chat response:",v);const x=c.slice(0,3);return`Based on your data: ${r.length} rows, ${c.length} numeric columns. Key metrics: ${x.map(S=>`${S} (=${l[S].mean.toFixed(1)})`).join(", ")}. Ask me specific questions!`}}const Rz=e=>{const t={TV:{adstock:.7,lag:1,transform:"S-Curve",rationale:"TV has strong carryover effects and exhibits diminishing returns at high spend levels."},Display:{adstock:.4,lag:1,transform:"Negative Exponential",rationale:"Display advertising has brand awareness carryover with exponential decay patterns."},PaidSearch:{adstock:.1,lag:0,transform:"Log-transform",rationale:"Paid search is direct response with minimal carryover and clear diminishing returns."},HCPCalls:{adstock:.6,lag:2,transform:"S-Curve",rationale:"HCP outreach has strong professional influence with 2-week lag for prescription decisions."},Speaker:{adstock:.8,lag:3,transform:"S-Curve",rationale:"Speaker events build long-term credibility with extended carryover effects."},HCPEmail:{adstock:.2,lag:1,transform:"Log-transform",rationale:"Digital HCP communication has quick response with moderate diminishing returns."},HCPSocial:{adstock:.3,lag:1,transform:"Power",rationale:"HCP social engagement has flexible response curves with short carryover."}};return e.map(n=>{const r=Object.keys(t).find(l=>n.toLowerCase().includes(l.toLowerCase())),a=r?t[r]:{adstock:.3,lag:0,transform:"Log-transform",rationale:"Standard MMM parameters with moderate carryover and diminishing returns."};return{channel:n,...a}})};throw new Error("API_KEY environment variable not set");const Pa=new iM({apiKey:void 0}),Pz=(e,t=6)=>e.split(`
`).filter(r=>r.trim()!=="").slice(0,t).join(`
`),Dz={type:ie.ARRAY,items:{type:ie.OBJECT,properties:{columnName:{type:ie.STRING},suggestedType:{type:ie.STRING,enum:Object.values(at)}},required:["columnName","suggestedType"]}},Oz=async e=>{const t=Pz(e),n=`You are a data analyst specializing in Marketing Mix Modeling. I will provide a CSV sample. Your task is to analyze the columns and classify each one into one of the following roles: '${Object.values(at).join(", ")}'.

- Dependent Variable: The target metric to be predicted (e.g., sales, prescriptions). Should be numeric.
- Time Dimension: The date or week column, which defines the time grain of the model.
- Geo Dimension: The geographical area column, if present. Often an ID.
- Marketing Spend: Columns representing money spent on marketing. These are used for ROI calculations and must be numeric.
- Marketing Activity: Columns representing marketing effort (e.g., impressions, clicks, GRPs). Must be numeric.
- Control Variable: External or contextual factors that can influence the dependent variable (e.g., seasonality, competitor actions, economic data, promotions, holidays). Can be numeric or categorical.
- Ignore: Columns not relevant for modeling (e.g., duplicate IDs, notes).

CSV Sample:
\`\`\`csv
${t}
\`\`\`
Base your analysis on column names and the data. For example, a column named 'TRx' with numeric values is likely the Dependent Variable. 'Week' is the Time Dimension. 'TV_Spend' is Marketing Spend. 'TV_Impressions' is Marketing Activity. 'Seasonality' is a Control Variable.
Return the result as a JSON array matching the provided schema. Be logical and accurate.
`,r=await Pa.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:Dz}});try{return JSON.parse(r.text).map(l=>({...l,suggestedType:Object.values(at).includes(l.suggestedType)?l.suggestedType:at.IGNORE}))}catch(a){throw console.error("Failed to parse EDA response:",r.text,a),new Error("Received an invalid JSON format from the AI for EDA.")}},Iz=async(e,t,n)=>Rz(t),kz=async e=>{const t=`
You are an expert marketing strategist. A user has set up feature engineering parameters for a Marketing Mix Model.
Analyze these parameters and provide a high-level "Agent's Analysis" in clear, readable Markdown.

**Parameters:**
${JSON.stringify(e,null,2)}

**Instructions for your response:**
Your response MUST be a single string containing only raw Markdown.
- **Do not** wrap your response in markdown code fences (e.g., \`\`\`markdown).
- Structure your response with the following three sections, using the specified headings:

## Overall Strategy
(A brief 1-2 sentence overview of what these settings are designed to achieve.)

## Key Highlights
(2-3 bullet points noting the most significant parameter choices and their implications. For example, contrast a high-adstock channel with a low-adstock one.)

## Expert Considerations
(1-2 bullet points with actionable advice or confirmations. E.g., "The setup for Search follows best practices..." or "The high lag on Samples suggests...")

Keep the tone concise, expert, and helpful. Ensure you use Markdown headings and bullet points as requested.
`;return(await Pa.models.generateContent({model:"gemini-2.5-flash",contents:t})).text},Lo={type:ie.ARRAY,items:{type:ie.OBJECT,properties:{id:{type:ie.STRING},algo:{type:ie.STRING,enum:["Bayesian Regression","NN","LightGBM","GLM Regression"]},rsq:{type:ie.NUMBER},mape:{type:ie.NUMBER},roi:{type:ie.NUMBER},commentary:{type:ie.STRING},details:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{name:{type:ie.STRING},included:{type:ie.BOOLEAN},contribution:{type:ie.NUMBER},roi:{type:ie.NUMBER},pValue:{type:ie.NUMBER},adstock:{type:ie.NUMBER},lag:{type:ie.NUMBER},transform:{type:ie.STRING,enum:["Log-transform","Negative Exponential","S-Curve","Power"]}},required:["name","included","contribution","roi","pValue","adstock","lag","transform"]}}},required:["id","algo","rsq","mape","roi","commentary","details"]}},Lz=async(e,t)=>{const r=`Okay, acknowledged. Based on your settings, I will apply the following transformations to model '${Object.keys(t).find(p=>t[p]===at.DEPENDENT_VARIABLE)||"the target variable"}':`,a="| Channel | Adstock | Lag (Weeks) | Transformation |",l="|---|---|---|---|",s=e.map(p=>`| ${p.channel} | ${p.adstock} | ${p.lag} | ${p.transform} |`).join(`
`),c=[r,"",a,l,s].join(`
`);return Promise.resolve(c)},Uz={type:ie.OBJECT,properties:{text:{type:ie.STRING,description:"A conversational response to the user's query."},newModel:{type:ie.OBJECT,description:"A new model object to be added to the leaderboard, only if the user requested a re-run.",properties:Lo.items.properties,required:Lo.items.required},selectModelId:{type:ie.STRING,description:"The ID of the model to be selected for calibration, if the user indicated they want to proceed or examine a model."}},required:["text"]},Bz=async(e,t)=>{const n=`
You are an AI assistant for a Marketing Mix Modeling platform. The user is viewing a leaderboard of models and has sent a query.
Your task is to interpret the user's query and respond appropriately in JSON format by querying the provided model data.

**Current Model Leaderboard (with details):**
\`\`\`json
${JSON.stringify(t,null,2)}
\`\`\`

**User Query:** "${e}"

**Your Tasks:**

1.  **Analyze the Query:** Understand the user's intent.
2.  **Formulate a Text Response:** Write a helpful, conversational response.
3.  **Determine Actions and populate the JSON response:**

    *   **If the user asks a question about a specific model or channel (e.g., "what is the TV impact in br_2?", "compare roi for samples in nn_1 and lgbm_1"):**
        *   **CRITICAL: Find the answer in the JSON data provided.** Look up the model by its 'id', find the channel in its 'details' array, and extract the requested metric ('contribution', 'roi', 'pValue', etc.).
        *   Formulate the answer in the 'text' field.
        *   **Do not** populate 'newModel' or 'selectModelId'.

    *   **If the user asks to "rerun" a model or create a new one (e.g., "rerun with stricter outliering"):**
        *   Generate a **single new model object** for the 'newModel' field that is consistent with the schema.
        *   Create a new, unique ID (e.g., if 'br_3' exists, create 'br_4').
        *   Slightly adjust metrics and details to plausibly reflect their request.
        *   Your text response should announce the new model.

    *   **If the user asks to proceed with, select, activate, or examine a specific model (e.g., "let's go with br_2", "activate nn_1"):**
        *   Identify the correct model ID from the leaderboard.
        *   Put this ID in the 'selectModelId' field.
        *   Your text response should confirm their selection.

    *   **For any other general question:**
        *   Provide a helpful answer in the 'text' field.

**Output Format:**
Return a single JSON object matching the provided schema. Only include 'newModel' or 'selectModelId' if the user's query explicitly triggers those actions.
`,r=await Pa.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:Uz}});try{return JSON.parse(r.text)}catch(a){throw console.error("Failed to parse modeling interaction response:",r.text,a),new Error("Received an invalid JSON format from the AI for the modeling interaction.")}},qz={type:ie.OBJECT,properties:{text:{type:ie.STRING,description:"A conversational response to the user's tuning request."},updatedModel:{type:ie.OBJECT,description:"The complete, updated model object after applying the user's change.",properties:Lo.items.properties,required:Lo.items.required}},required:["text","updatedModel"]},Vz=async(e,t)=>{const n=`
You are an AI assistant for an MMM platform. The user wants to tune the provided model via a natural language command.
Your task is to interpret the command, apply it to the model JSON, and return the complete updated model object.

**Current Model State:**
\`\`\`json
${JSON.stringify(t,null,2)}
\`\`\`

**User's Command:** "${e}"

**Instructions:**
1.  **Interpret Command:** Understand if the user is changing adstock, lag, or including/excluding a channel.
2.  **Update 'details' Array:** Modify the 'details' array to reflect the command.
    *   If changing a value (e.g., "set TV adstock to 0.7"), update the 'adstock' field for the 'TV' channel.
    *   If excluding a channel, set its 'included' property to \`false\`.
3.  **Recalculate Metrics (Crucial):** After updating, you MUST adjust other values plausibly.
    *   **Contributions:** When a channel is excluded/included, you MUST recalculate the 'contribution' for ALL channels. The total contribution of all *included* channels should be roughly the same as the original total.
    *   **Top-Level Metrics (\`rsq\`, \`mape\`, \`roi\`):** The model's overall performance will change.
        *   If a channel is **excluded**, the model gets "weaker". Slightly **decrease \`rsq\`** (e.g., by 0.01-0.03) and slightly **increase \`mape\`** (e.g., by 0.2-0.5). Adjust blended 'roi' down a bit.
        *   If a channel is **included**, do the reverse.
        *   If tuning a parameter like adstock, metric changes should be very small.
4.  **Formulate Text Response:** Write a short response confirming the action (e.g., "Okay, I've excluded 'Samples' and updated the model.").
5.  **Return Full Object:** Return a single JSON object containing your 'text' response and the **complete, updated 'updatedModel' object**.

This is a simulation. Make logical, plausible changes.
`,r=await Pa.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:qz}});try{const a=JSON.parse(r.text);if(!a.updatedModel)throw new Error("AI response missing required 'updatedModel' field.");return a}catch(a){throw console.error("Failed to parse calibration interaction response:",r.text,a),new Error("Received an invalid JSON format from the AI for the calibration interaction.")}},zz={type:ie.OBJECT,properties:{intent:{type:ie.STRING,enum:["affirmative","negative","other"],description:"The user's intent. 'affirmative' for yes/proceed, 'negative' for no/stop, 'other' for questions or unrelated comments."}},required:["intent"]},oc=async e=>{const t=`
    A user was asked to confirm a choice. Analyze their response to determine their intent.
    - If the user says "yes", "yep", "ok", "proceed", "confirm", "looks good", "correct", or similar, the intent is "affirmative".
    - If the user says "no", "stop", "wait", "cancel", or similar, the intent is "negative".
    - If the user asks a question or says something unrelated, the intent is "other".

    User response: "${e}"

    Return the intent as a JSON object with a single key "intent".
    `;try{const n=await Pa.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{responseMimeType:"application/json",responseSchema:zz}});return JSON.parse(n.text).intent}catch(n){console.error("Error getting confirmation intent",n);const r=e.toLowerCase();return["yes","yep","ok","proceed","confirm"].some(a=>r.includes(a))?"affirmative":"other"}},$z={type:ie.OBJECT,properties:{text:{type:ie.STRING,description:"A conversational response to the user's request."},newScenario:{type:ie.OBJECT,properties:{id:{type:ie.STRING},title:{type:ie.STRING},recommendedSpend:{type:ie.NUMBER},projectedROI:{type:ie.NUMBER},netRevenue:{type:ie.NUMBER},channels:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{name:{type:ie.STRING},currentSpend:{type:ie.NUMBER},recommendedSpend:{type:ie.NUMBER},change:{type:ie.NUMBER},projectedROI:{type:ie.NUMBER},agentCommentary:{type:ie.STRING}},required:["name","currentSpend","recommendedSpend","change","projectedROI","agentCommentary"]}}},required:["id","title","recommendedSpend","projectedROI","netRevenue","channels"]}},required:["text","newScenario"]},Gz=async(e,t,n)=>{const r=`
You are an AI budget optimization specialist for a Marketing Mix Modeling (MMM) platform.
Your task is to create a new, custom budget scenario based on the user's request, the finalized MMM model, and existing scenarios for context.

**Finalized MMM Model (Source of Truth for ROI, etc.):**
\`\`\`json
${JSON.stringify(t,null,2)}
\`\`\`

**Existing Scenarios (For context on what user has already seen):**
\`\`\`json
${JSON.stringify(n.slice(0,3),null,2)}
\`\`\`

**User's Request:** "${e}"

**Instructions:**
1.  **Interpret the Request:** Analyze the user's query to understand their constraints and goals (e.g., new total budget, maximizing ROI, protecting spend on a channel).
2.  **Generate a New Scenario:** Create one single, new scenario object.
    *   **ID and Title:** Give it a new, unique ID (e.g., "custom_budget_1"). Give it a descriptive title like "Custom $250M Budget" or "TV Spend Locked at 35M". **Do not** start the title with "Scenario X:". The app will handle numbering.
    *   **Adhere to Constraints:** The 'recommendedSpend' for all channels MUST sum up to the user's requested budget. If no budget is given, make a reasonable adjustment based on their goal.
    *   **Re-allocate Budget:** Plausibly re-allocate spend across channels based on their original ROI from the model. Increase spend on high-ROI channels and decrease on low-ROI channels to meet the user's goal.
    *   **Calculate New Metrics:**
        *   \`recommendedSpend\`: The new total spend (sum of channel spends).
        *   \`projectedROI\`: A plausible new blended ROI. If the budget is lower or focused on efficiency, this might increase. If focused on volume, it might decrease.
        *   \`netRevenue\`: Calculated as \`recommendedSpend * (projectedROI - 1)\`.
    *   **Channel-level Details:**
        *   \`currentSpend\`: This is a simulated value. Use a plausible number based on the channel's adstock/lag from the model (e.g., \`adstock * 500 + lag * 100\`). Keep this consistent for the same channel across scenarios.
        *   \`recommendedSpend\`: Your new proposed spend for this channel.
        *   \`change\`: The percentage change from current to recommended spend.
        *   \`projectedROI\`: The new estimated ROI for the channel under this plan.
        *   \`agentCommentary\`: A short, insightful justification for the change.
3.  **Formulate a Text Response:** Write a conversational response that introduces the new scenario and briefly explains how it meets their request.
4.  **Return JSON:** Respond with a single JSON object containing the 'text' and the 'newScenario' object, matching the provided schema.
`,a=await Pa.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json",responseSchema:$z}});try{return JSON.parse(a.text)}catch(l){throw console.error("Failed to parse optimizer interaction response:",a.text,l),new Error("Received an invalid JSON format from the AI for the optimizer interaction.")}},Fz={type:ie.OBJECT,properties:Lo.items.properties,required:Lo.items.required},Hz=async e=>{const t=`
You are a data science platform simulating a model recalibration. A user has updated parameters for an existing model.
Based on these new parameters, generate a SINGLE new model run object.

**Original Model State (for context):**
\`\`\`json
${JSON.stringify({id:e.id,algo:e.algo,rsq:e.rsq,mape:e.mape,roi:e.roi},null,2)}
\`\`\`

**User's Updated Model Parameters (this is the new target state):**
\`\`\`json
${JSON.stringify(e,null,2)}
\`\`\`

**Task:**
1.  **Generate a new unique ID.** Append a suffix to the original ID. For example, if the original ID is "glm_1", the new ID should be "glm_1_cal_1". If it's already a calibrated model like "glm_1_cal_1", make it "glm_1_cal_2".
2.  **Plausibly adjust metrics.** Based on the changes in the 'details' array (e.g., a channel was excluded, adstock changed), make small, logical adjustments to the top-level metrics (\`rsq\`, \`mape\`, \`roi\`). For example, excluding a channel with a p-value > 0.1 might slightly IMPROVE the model, while excluding one with p < 0.05 will likely WORSEN it (lower rsq, higher mape). Changing adstock should cause minor fluctuations. When a channel is excluded, its contribution must be redistributed among other channels. The total contribution should remain similar. The blended ROI should also be recalculated.
3.  **Write a new commentary.** The commentary should briefly mention what was changed from the original model (e.g., "Recalibrated from ${e.id} by excluding 'Samples' channel.").
4.  **Return the complete new model object.** The 'details' array in your response should be identical to the one in the "User's Updated Model Parameters" input. The overall object must match the schema.

Return a single JSON object matching the provided schema. Ensure every field is populated correctly.
`,n=await Pa.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{responseMimeType:"application/json",responseSchema:Fz}});try{const r=JSON.parse(n.text);return r.algo!=="Bayesian Regression"&&r.algo!=="GLM Regression"&&r.details.forEach(a=>a.pValue=null),r}catch(r){throw console.error("Failed to parse rerun model response:",n.text,r),new Error("Received an invalid JSON format from the AI for the recalibrated model.")}},SC=[{id:Ne.Welcome,name:"Start"},{id:Ne.DataValidation,name:"Validate"},{id:Ne.FeatureEngineering,name:"Features"},{id:Ne.Modeling,name:"Model"},{id:Ne.Report,name:"Report"},{id:Ne.Optimize,name:"Optimize"}],jz=({currentStep:e,completedSteps:t,onStepClick:n})=>{const r=SC.findIndex(a=>a.id===e);return w.jsx("nav",{"aria-label":"Progress",children:w.jsx("ol",{role:"list",className:"flex items-center justify-center space-x-4 md:space-x-8",children:SC.map((a,l)=>{const s=t.has(a.id),c=l===r,p=s&&!c;return w.jsxs("li",{className:"relative",children:[w.jsx("button",{onClick:()=>p&&n(a.id),disabled:!p,className:`step-button-nav text-sm font-medium transition-colors duration-300 disabled:cursor-not-allowed ${c?"text-gray-900":s?"text-gray-600":"text-gray-400"}`,children:a.name}),c&&w.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 w-full h-0.5 bg-[#EC7200]",style:{filter:"blur(3px)",backgroundColor:"var(--color-orange)"}}),c&&w.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 w-3/4 h-0.5",style:{backgroundColor:"var(--color-orange)"}})]},a.name)})})})},Yz=({className:e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[w.jsx("path",{d:"M12,2A10,10,0,0,0,2,12A10,10,0,0,0,12,22A10,10,0,0,0,22,12A10,10,0,0,0,12,2ZM11,6H13V8H11V6ZM11,10H13V16H11V10Z"}),w.jsx("circle",{cx:"12",cy:"12",r:"2"}),w.jsx("path",{d:"M7,12a5,5,0,0,1,5-5V5A7,7,0,0,0,5,12Z"}),w.jsx("path",{d:"M12,17a5,5,0,0,1-5-5H5A7,7,0,0,0,12,19Z"})]}),TC=({message:e})=>{const t=e.sender==="ai";return w.jsxs("div",{className:`flex items-start gap-3 my-4 ${t?"":"justify-end"}`,children:[t&&w.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center border border-gray-200 bg-gray-100",children:w.jsx("div",{className:"w-5 h-5 text-transparent bg-clip-text bg-gradient-to-br from-[#EC7200] to-[#32A29B]",children:w.jsx(Yz,{})})}),w.jsx("div",{className:`rounded-xl px-4 py-2.5 max-w-md shadow-md ${t?"bg-white text-[#1A1628] border border-gray-200":"text-white bg-[#32A29B]"}`,children:w.jsx("div",{className:`prose prose-sm max-w-none whitespace-pre-wrap ${t?"":"prose-invert"}`,children:e.text})})]})},da=()=>w.jsxs("svg",{className:"animate-spin h-6 w-6",style:{color:"var(--primary-color)"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});var aM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CC=Hr.createContext&&Hr.createContext(aM),Kz=["attr","size","title"];function Jz(e,t){if(e==null)return{};var n=Wz(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wz(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mc.apply(this,arguments)}function EC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(n),!0).forEach(function(r){Xz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xz(e,t,n){return t=Zz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oM(e){return e&&e.map((t,n)=>Hr.createElement(t.tag,_c({key:n},t.attr),oM(t.child)))}function e$(e){return t=>Hr.createElement(t$,Mc({attr:_c({},e.attr)},t),oM(e.child))}function t$(e){var t=n=>{var{attr:r,size:a,title:l}=e,s=Jz(e,Kz),c=a||n.size||"1em",p;return n.className&&(p=n.className),e.className&&(p=(p?p+" ":"")+e.className),Hr.createElement("svg",Mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:p,style:_c(_c({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&Hr.createElement("title",null,l),e.children)};return CC!==void 0?Hr.createElement(CC.Consumer,null,n=>t(n)):t(aM)}function n$(e){return e$({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}const r$=({onSubmit:e,placeholder:t,disabled:n,value:r,onValueChange:a})=>{const l=s=>{s.preventDefault(),r.trim()&&!n&&(e(r.trim()),a(""))};return w.jsx("div",{className:"p-4 border-t border-gray-200 bg-white/70",children:w.jsxs("form",{onSubmit:l,children:[w.jsx("label",{htmlFor:"user-input",className:"sr-only",children:"Your feedback"}),w.jsxs("div",{className:"relative",children:[w.jsx("textarea",{id:"user-input",rows:2,className:"block w-full resize-none rounded-lg border-0 bg-gray-100 py-2.5 pl-4 pr-12 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#EC7200] sm:text-sm sm:leading-6 disabled:opacity-50 transition-all",placeholder:t,value:r,onChange:s=>a(s.target.value),disabled:n,onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&l(s)}}),w.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:w.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md h-8 w-8 text-white bg-[#EC7200] hover:bg-[#d86800] focus:outline-none focus:ring-2 focus:ring-[#EC7200] focus:ring-offset-2 focus:ring-offset-white disabled:opacity-50 disabled:hover:bg-transparent transition-all",disabled:!r.trim()||n,children:[w.jsx(n$,{className:"h-4 w-4","aria-hidden":"true"}),w.jsx("span",{className:"sr-only",children:"Send feedback"})]})})]})]})})};var AC={},Ap={},wp=34,os=10,Mp=13;function lM(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function i$(e,t){var n=lM(e);return function(r,a){return t(n(r),a,e)}}function wC(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function dn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function a$(e){return e<0?"-"+dn(-e,6):e>9999?"+"+dn(e,6):dn(e,4)}function o$(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":a$(e.getUTCFullYear())+"-"+dn(e.getUTCMonth()+1,2)+"-"+dn(e.getUTCDate(),2)+(a?"T"+dn(t,2)+":"+dn(n,2)+":"+dn(r,2)+"."+dn(a,3)+"Z":r?"T"+dn(t,2)+":"+dn(n,2)+":"+dn(r,2)+"Z":n||t?"T"+dn(t,2)+":"+dn(n,2)+"Z":"")}function l$(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(v,x){var S,T,C=a(v,function(E,_){if(S)return S(E,_-1);T=E,S=x?i$(E,x):lM(E)});return C.columns=T||[],C}function a(v,x){var S=[],T=v.length,C=0,E=0,_,R=T<=0,N=!1;v.charCodeAt(T-1)===os&&--T,v.charCodeAt(T-1)===Mp&&--T;function O(){if(R)return Ap;if(N)return N=!1,AC;var k,B=C,V;if(v.charCodeAt(B)===wp){for(;C++<T&&v.charCodeAt(C)!==wp||v.charCodeAt(++C)===wp;);return(k=C)>=T?R=!0:(V=v.charCodeAt(C++))===os?N=!0:V===Mp&&(N=!0,v.charCodeAt(C)===os&&++C),v.slice(B+1,k-1).replace(/""/g,'"')}for(;C<T;){if((V=v.charCodeAt(k=C++))===os)N=!0;else if(V===Mp)N=!0,v.charCodeAt(C)===os&&++C;else if(V!==n)continue;return v.slice(B,k)}return R=!0,v.slice(B,T)}for(;(_=O())!==Ap;){for(var D=[];_!==AC&&_!==Ap;)D.push(_),_=O();x&&(D=x(D,E++))==null||S.push(D)}return S}function l(v,x){return v.map(function(S){return x.map(function(T){return h(S[T])}).join(e)})}function s(v,x){return x==null&&(x=wC(v)),[x.map(h).join(e)].concat(l(v,x)).join(`
`)}function c(v,x){return x==null&&(x=wC(v)),l(v,x).join(`
`)}function p(v){return v.map(d).join(`
`)}function d(v){return v.map(h).join(e)}function h(v){return v==null?"":v instanceof Date?o$(v):t.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:r,parseRows:a,format:s,formatBody:c,formatRows:p,formatRow:d,formatValue:h}}var s$=l$(","),sM=s$.parse;function uM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=uM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=uM(e))&&(r&&(r+=" "),r+=t);return r}var _p={},Np={},MC;function u$(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(Np)),Np}var Rp={},_C;function cM(){return _C||(_C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Rp)),Rp}var Pp={},NC;function fM(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(Pp)),Pp}var Dp={},RC;function Av(){return RC||(RC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],a=n.length;if(a===0)return r;let l=0,s="",c="",p=!1;for(n.charCodeAt(0)===46&&(r.push(""),l++);l<a;){const d=n[l];c?d==="\\"&&l+1<a?(l++,s+=n[l]):d===c?c="":s+=d:p?d==='"'||d==="'"?c=d:d==="]"?(p=!1,r.push(s),s=""):s+=d:d==="["?(p=!0,s&&(r.push(s),s="")):d==="."?s&&(r.push(s),s=""):s+=d,l++}return s&&r.push(s),r}e.toPath=t}(Dp)),Dp}var PC;function wv(){return PC||(PC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u$(),n=cM(),r=fM(),a=Av();function l(c,p,d){if(c==null)return d;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return d;const h=c[p];return h===void 0?n.isDeepKey(p)?l(c,a.toPath(p),d):d:h}case"number":case"symbol":{typeof p=="number"&&(p=r.toKey(p));const h=c[p];return h===void 0?d:h}default:{if(Array.isArray(p))return s(c,p,d);if(Object.is(p==null?void 0:p.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return d;const h=c[p];return h===void 0?d:h}}}function s(c,p,d){if(p.length===0)return d;let h=c;for(let v=0;v<p.length;v++){if(h==null||t.isUnsafeProperty(p[v]))return d;h=h[p[v]]}return h===void 0?d:h}e.get=l}(_p)),_p}var Op,DC;function c$(){return DC||(DC=1,Op=wv().get),Op}var f$=c$();const Ca=Cr(f$);var Ip={exports:{}},et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function d$(){if(OC)return et;OC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function T(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case e:switch(C=C.type,C){case n:case a:case r:case p:case d:case x:return C;default:switch(C=C&&C.$$typeof,C){case s:case c:case v:case h:return C;case l:return C;default:return E}}case t:return E}}}return et.ContextConsumer=l,et.ContextProvider=s,et.Element=e,et.ForwardRef=c,et.Fragment=n,et.Lazy=v,et.Memo=h,et.Portal=t,et.Profiler=a,et.StrictMode=r,et.Suspense=p,et.SuspenseList=d,et.isContextConsumer=function(C){return T(C)===l},et.isContextProvider=function(C){return T(C)===s},et.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},et.isForwardRef=function(C){return T(C)===c},et.isFragment=function(C){return T(C)===n},et.isLazy=function(C){return T(C)===v},et.isMemo=function(C){return T(C)===h},et.isPortal=function(C){return T(C)===t},et.isProfiler=function(C){return T(C)===a},et.isStrictMode=function(C){return T(C)===r},et.isSuspense=function(C){return T(C)===p},et.isSuspenseList=function(C){return T(C)===d},et.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===a||C===r||C===p||C===d||typeof C=="object"&&C!==null&&(C.$$typeof===v||C.$$typeof===h||C.$$typeof===s||C.$$typeof===l||C.$$typeof===c||C.$$typeof===S||C.getModuleId!==void 0)},et.typeOf=T,et}var IC;function m$(){return IC||(IC=1,Ip.exports=d$()),Ip.exports}var p$=m$(),pn=e=>e===0?0:e>0?1:-1,Pn=e=>typeof e=="number"&&e!=+e,ma=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,he=e=>(typeof e=="number"||e instanceof Number)&&!Pn(e),Sr=e=>he(e)||typeof e=="string",h$=0,bs=e=>{var t=++h$;return"".concat(e||"").concat(t)},ur=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&typeof t!="string")return r;var l;if(ma(t)){if(n==null)return r;var s=t.indexOf("%");l=n*parseFloat(t.slice(0,s))/100}else l=+t;return Pn(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},dM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function ar(e,t,n){return he(e)&&he(t)?e+n*(t-e):t}function mM(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ca(r,t))===n)}var st=e=>e===null||typeof e>"u",Ds=e=>st(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),g$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mv(e){if(typeof e!="string")return!1;var t=g$;return t.includes(e)}var v$=["viewBox","children"],kC=["points","pathLength"],kp={svg:v$,polygon:kC,polyline:kC},_v=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Mv(a)&&(r[a]=l=>n[a](n,l))}),r},y$=(e,t,n)=>r=>(e(t,n,r),null),xf=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var l=e[a];Mv(a)&&typeof l=="function"&&(r||(r={}),r[a]=y$(l,t,n))}),r},x$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function pM(e){if(typeof e!="string")return!1;var t=x$;return t.includes(e)}function Da(e){var t=Object.entries(e).filter(n=>{var[r]=n;return pM(r)});return Object.fromEntries(t)}var LC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",UC=null,Lp=null,hM=e=>{if(e===UC&&Array.isArray(Lp))return Lp;var t=[];return M.Children.forEach(e,n=>{st(n)||(p$.isFragment(n)?t=t.concat(hM(n.props.children)):t.push(n))}),Lp=t,UC=e,t};function Nv(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>LC(a)):r=[LC(t)],hM(e).forEach(a=>{var l=Ca(a,"type.displayName")||Ca(a,"type.name");r.indexOf(l)!==-1&&n.push(a)}),n}var gM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,b$=(e,t,n,r)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(a=r&&(kp==null?void 0:kp[r]))!==null&&a!==void 0?a:[],s=t.startsWith("data-"),c=typeof e!="function"&&(!!r&&l.includes(t)||pM(t)),p=!!n&&Mv(t);return s||c||p},gt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(l=>{var s;b$((s=r)===null||s===void 0?void 0:s[l],l,t,n)&&(a[l]=r[l])}),a},S$=["children","width","height","viewBox","className","style","title","desc"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(null,arguments)}function T$(e,t){if(e==null)return{};var n,r,a=C$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function C$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rv=M.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:l,className:s,style:c,title:p,desc:d}=e,h=T$(e,S$),v=l||{width:r,height:a,x:0,y:0},x=Je("recharts-surface",s);return M.createElement("svg",wg({},gt(h,!0,"svg"),{className:x,width:r,height:a,style:c,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),M.createElement("title",null,p),M.createElement("desc",null,d),n)}),E$=["children","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mg.apply(null,arguments)}function A$(e,t){if(e==null)return{};var n,r,a=w$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function w$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cr=M.forwardRef((e,t)=>{var{children:n,className:r}=e,a=A$(e,E$),l=Je("recharts-layer",r);return M.createElement("g",Mg({className:l},gt(a,!0),{ref:t}),n)}),vM=M1(),yM=M.createContext(null),M$=()=>M.useContext(yM);function it(e){return function(){return e}}const xM=Math.cos,Nc=Math.sin,fr=Math.sqrt,Rc=Math.PI,bf=2*Rc,_g=Math.PI,Ng=2*_g,ua=1e-6,_$=Ng-ua;function bM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function N$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bM;const n=10**t;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class R${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bM:N$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,l,s){this._append`C${+t},${+n},${+r},${+a},${this._x1=+l},${this._y1=+s}`}arcTo(t,n,r,a,l){if(t=+t,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let s=this._x1,c=this._y1,p=r-t,d=a-n,h=s-t,v=c-n,x=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>ua)if(!(Math.abs(v*p-d*h)>ua)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let S=r-s,T=a-c,C=p*p+d*d,E=S*S+T*T,_=Math.sqrt(C),R=Math.sqrt(x),N=l*Math.tan((_g-Math.acos((C+x-E)/(2*_*R)))/2),O=N/R,D=N/_;Math.abs(O-1)>ua&&this._append`L${t+O*h},${n+O*v}`,this._append`A${l},${l},0,0,${+(v*S>h*T)},${this._x1=t+D*p},${this._y1=n+D*d}`}}arc(t,n,r,a,l,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),p=r*Math.sin(a),d=t+c,h=n+p,v=1^s,x=s?a-l:l-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>ua||Math.abs(this._y1-h)>ua)&&this._append`L${d},${h}`,r&&(x<0&&(x=x%Ng+Ng),x>_$?this._append`A${r},${r},0,1,${v},${t-c},${n-p}A${r},${r},0,1,${v},${this._x1=d},${this._y1=h}`:x>ua&&this._append`A${r},${r},0,${+(x>=_g)},${v},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Pv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new R$(t)}function Dv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function SM(e){this._context=e}SM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sf(e){return new SM(e)}function TM(e){return e[0]}function CM(e){return e[1]}function EM(e,t){var n=it(!0),r=null,a=Sf,l=null,s=Pv(c);e=typeof e=="function"?e:e===void 0?TM:it(e),t=typeof t=="function"?t:t===void 0?CM:it(t);function c(p){var d,h=(p=Dv(p)).length,v,x=!1,S;for(r==null&&(l=a(S=s())),d=0;d<=h;++d)!(d<h&&n(v=p[d],d,p))===x&&((x=!x)?l.lineStart():l.lineEnd()),x&&l.point(+e(v,d,p),+t(v,d,p));if(S)return l=null,S+""||null}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:it(+p),c):e},c.y=function(p){return arguments.length?(t=typeof p=="function"?p:it(+p),c):t},c.defined=function(p){return arguments.length?(n=typeof p=="function"?p:it(!!p),c):n},c.curve=function(p){return arguments.length?(a=p,r!=null&&(l=a(r)),c):a},c.context=function(p){return arguments.length?(p==null?r=l=null:l=a(r=p),c):r},c}function lc(e,t,n){var r=null,a=it(!0),l=null,s=Sf,c=null,p=Pv(d);e=typeof e=="function"?e:e===void 0?TM:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?CM:it(+n);function d(v){var x,S,T,C=(v=Dv(v)).length,E,_=!1,R,N=new Array(C),O=new Array(C);for(l==null&&(c=s(R=p())),x=0;x<=C;++x){if(!(x<C&&a(E=v[x],x,v))===_)if(_=!_)S=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),T=x-1;T>=S;--T)c.point(N[T],O[T]);c.lineEnd(),c.areaEnd()}_&&(N[x]=+e(E,x,v),O[x]=+t(E,x,v),c.point(r?+r(E,x,v):N[x],n?+n(E,x,v):O[x]))}if(R)return c=null,R+""||null}function h(){return EM().defined(a).curve(s).context(l)}return d.x=function(v){return arguments.length?(e=typeof v=="function"?v:it(+v),r=null,d):e},d.x0=function(v){return arguments.length?(e=typeof v=="function"?v:it(+v),d):e},d.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:it(+v),d):r},d.y=function(v){return arguments.length?(t=typeof v=="function"?v:it(+v),n=null,d):t},d.y0=function(v){return arguments.length?(t=typeof v=="function"?v:it(+v),d):t},d.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:it(+v),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(v){return arguments.length?(a=typeof v=="function"?v:it(!!v),d):a},d.curve=function(v){return arguments.length?(s=v,l!=null&&(c=s(l)),d):s},d.context=function(v){return arguments.length?(v==null?l=c=null:c=s(l=v),d):l},d}class AM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function P$(e){return new AM(e,!0)}function D$(e){return new AM(e,!1)}const Ov={draw(e,t){const n=fr(t/Rc);e.moveTo(n,0),e.arc(0,0,n,0,bf)}},O$={draw(e,t){const n=fr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wM=fr(1/3),I$=wM*2,k$={draw(e,t){const n=fr(t/I$),r=n*wM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},L$={draw(e,t){const n=fr(t),r=-n/2;e.rect(r,r,n,n)}},U$=.8908130915292852,MM=Nc(Rc/10)/Nc(7*Rc/10),B$=Nc(bf/10)*MM,q$=-xM(bf/10)*MM,V$={draw(e,t){const n=fr(t*U$),r=B$*n,a=q$*n;e.moveTo(0,-n),e.lineTo(r,a);for(let l=1;l<5;++l){const s=bf*l/5,c=xM(s),p=Nc(s);e.lineTo(p*n,-c*n),e.lineTo(c*r-p*a,p*r+c*a)}e.closePath()}},Up=fr(3),z$={draw(e,t){const n=-fr(t/(Up*3));e.moveTo(0,n*2),e.lineTo(-Up*n,-n),e.lineTo(Up*n,-n),e.closePath()}},Hn=-.5,jn=fr(3)/2,Rg=1/fr(12),$$=(Rg/2+1)*3,G$={draw(e,t){const n=fr(t/$$),r=n/2,a=n*Rg,l=r,s=n*Rg+n,c=-l,p=s;e.moveTo(r,a),e.lineTo(l,s),e.lineTo(c,p),e.lineTo(Hn*r-jn*a,jn*r+Hn*a),e.lineTo(Hn*l-jn*s,jn*l+Hn*s),e.lineTo(Hn*c-jn*p,jn*c+Hn*p),e.lineTo(Hn*r+jn*a,Hn*a-jn*r),e.lineTo(Hn*l+jn*s,Hn*s-jn*l),e.lineTo(Hn*c+jn*p,Hn*p-jn*c),e.closePath()}};function F$(e,t){let n=null,r=Pv(a);e=typeof e=="function"?e:it(e||Ov),t=typeof t=="function"?t:it(t===void 0?64:+t);function a(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:it(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:it(+l),a):t},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function Pc(){}function Dc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _M(e){this._context=e}_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H$(e){return new _M(e)}function NM(e){this._context=e}NM.prototype={areaStart:Pc,areaEnd:Pc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j$(e){return new NM(e)}function RM(e){this._context=e}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y$(e){return new RM(e)}function PM(e){this._context=e}PM.prototype={areaStart:Pc,areaEnd:Pc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function K$(e){return new PM(e)}function BC(e){return e<0?-1:1}function qC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),c=(l*a+s*r)/(r+a);return(BC(l)+BC(s))*Math.min(Math.abs(l),Math.abs(s),.5*Math.abs(c))||0}function VC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bp(e,t,n){var r=e._x0,a=e._y0,l=e._x1,s=e._y1,c=(l-r)/3;e._context.bezierCurveTo(r+c,a+c*t,l-c,s-c*n,l,s)}function Oc(e){this._context=e}Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bp(this,this._t0,VC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bp(this,VC(this,n=qC(this,e,t)),n);break;default:Bp(this,this._t0,n=qC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function DM(e){this._context=new OM(e)}(DM.prototype=Object.create(Oc.prototype)).point=function(e,t){Oc.prototype.point.call(this,t,e)};function OM(e){this._context=e}OM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,l){this._context.bezierCurveTo(t,e,r,n,l,a)}};function J$(e){return new Oc(e)}function W$(e){return new DM(e)}function IM(e){this._context=e}IM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=zC(e),a=zC(t),l=0,s=1;s<n;++l,++s)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zC(e){var t,n=e.length-1,r,a=new Array(n),l=new Array(n),s=new Array(n);for(a[0]=0,l[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,l[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,l[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/l[t-1],l[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/l[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/l[t];for(l[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function X$(e){return new IM(e)}function Tf(e,t){this._context=e,this._t=t}Tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Z$(e){return new Tf(e,.5)}function Q$(e){return new Tf(e,0)}function e4(e){return new Tf(e,1)}function Uo(e,t){if((s=e.length)>1)for(var n=1,r,a,l=e[t[0]],s,c=l.length;n<s;++n)for(a=l,l=e[t[n]],r=0;r<c;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Pg(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function t4(e,t){return e[t]}function n4(e){const t=[];return t.key=e,t}function r4(){var e=it([]),t=Pg,n=Uo,r=t4;function a(l){var s=Array.from(e.apply(this,arguments),n4),c,p=s.length,d=-1,h;for(const v of l)for(c=0,++d;c<p;++c)(s[c][d]=[0,+r(v,s[c].key,d,l)]).data=v;for(c=0,h=Dv(t(s));c<p;++c)s[h[c]].index=c;return n(s,h),s}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:it(Array.from(l)),a):e},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:it(+l),a):r},a.order=function(l){return arguments.length?(t=l==null?Pg:typeof l=="function"?l:it(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(n=l??Uo,a):n},a}function i4(e,t){if((r=e.length)>0){for(var n,r,a=0,l=e[0].length,s;a<l;++a){for(s=n=0;n<r;++n)s+=e[n][a][1]||0;if(s)for(n=0;n<r;++n)e[n][a][1]/=s}Uo(e,t)}}function a4(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,l=r.length;n<l;++n){for(var s=0,c=0;s<a;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Uo(e,t)}}function o4(e,t){if(!(!((s=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,l,s;r<l;++r){for(var c=0,p=0,d=0;c<s;++c){for(var h=e[t[c]],v=h[r][1]||0,x=h[r-1][1]||0,S=(v-x)/2,T=0;T<c;++T){var C=e[t[T]],E=C[r][1]||0,_=C[r-1][1]||0;S+=E-_}p+=v,d+=S*v}a[r-1][1]+=a[r-1][0]=n,p&&(n-=d/p)}a[r-1][1]+=a[r-1][0]=n,Uo(e,t)}}var l4=["type","size","sizeType"];function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(null,arguments)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){s4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s4(e,t,n){return(t=u4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u4(e){var t=c4(e,"string");return typeof t=="symbol"?t:t+""}function c4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f4(e,t){if(e==null)return{};var n,r,a=d4(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kM={symbolCircle:Ov,symbolCross:O$,symbolDiamond:k$,symbolSquare:L$,symbolStar:V$,symbolTriangle:z$,symbolWye:G$},m4=Math.PI/180,p4=e=>{var t="symbol".concat(Ds(e));return kM[t]||Ov},h4=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*m4;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},g4=(e,t)=>{kM["symbol".concat(Ds(e))]=t},Iv=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=f4(e,l4),l=GC(GC({},a),{},{type:t,size:n,sizeType:r}),s=()=>{var v=p4(t),x=F$().type(v).size(h4(n,r,t));return x()},{className:c,cx:p,cy:d}=l,h=gt(l,!0);return p===+p&&d===+d&&n===+n?M.createElement("path",Dg({},h,{className:Je("recharts-symbols",c),transform:"translate(".concat(p,", ").concat(d,")"),d:s()})):null};Iv.registerSymbol=g4;function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(null,arguments)}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function v4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){kv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kv(e,t,n){return(t=y4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y4(e){var t=x4(e,"string");return typeof t=="symbol"?t:t+""}function x4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yn=32;class Lv extends M.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,a=Yn/2,l=Yn/6,s=Yn/3,c=t.inactive?r:t.color,p=n??t.type;if(p==="none")return null;if(p==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Yn,y2:a,className:"recharts-legend-icon"});if(p==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Yn,"M").concat(2*s,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(p==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(t.legendIcon)){var d=v4({},t);return delete d.legendIcon,M.cloneElement(t.legendIcon,d)}return M.createElement(Iv,{fill:c,cx:a,cy:a,size:Yn,sizeType:"diameter",type:p})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:l,iconType:s}=this.props,c={x:0,y:0,width:Yn,height:Yn},p={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,v)=>{var x=h.formatter||a,S=Je({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:h.inactive});if(h.type==="none")return null;var T=h.inactive?l:h.color,C=x?x(h.value,h,v):h.value;return M.createElement("li",Og({className:S,style:p,key:"legend-item-".concat(v)},xf(this.props,h,v)),M.createElement(Rv,{width:n,height:n,viewBox:c,style:d,"aria-label":"".concat(C," legend icon")},this.renderIcon(h,s)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},C))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}kv(Lv,"displayName","Legend");kv(Lv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var qp={},Vp={},HC;function b4(){return HC||(HC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let l=0;l<n.length;l++){const s=n[l],c=r(s);a.has(c)||a.set(c,s)}return Array.from(a.values())}e.uniqBy=t}(Vp)),Vp}var zp={},jC;function LM(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(zp)),zp}var $p={},Gp={},Fp={},YC;function S4(){return YC||(YC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(Fp)),Fp}var KC;function Uv(){return KC||(KC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S4();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(Gp)),Gp}var Hp={},JC;function T4(){return JC||(JC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(Hp)),Hp}var WC;function C4(){return WC||(WC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv(),n=T4();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r}($p)),$p}var jp={},Yp={},XC;function E4(){return XC||(XC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv();function n(r){return function(a){return t.get(a,r)}}e.property=n}(Yp)),Yp}var Kp={},Jp={},Wp={},Xp={},ZC;function UM(){return ZC||(ZC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(Xp)),Xp}var Zp={},QC;function BM(){return QC||(QC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(Zp)),Zp}var Qp={},eE;function Bv(){return eE||(eE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(Qp)),Qp}var tE;function A4(){return tE||(tE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv(),n=UM(),r=BM(),a=Bv();function l(v,x,S){return typeof S!="function"?t.isMatch(v,x):s(v,x,function T(C,E,_,R,N,O){const D=S(C,E,_,R,N,O);return D!==void 0?!!D:s(C,E,T,O)},new Map)}function s(v,x,S,T){if(x===v)return!0;switch(typeof x){case"object":return c(v,x,S,T);case"function":return Object.keys(x).length>0?s(v,{...x},S,T):a.eq(v,x);default:return n.isObject(v)?typeof x=="string"?x==="":!0:a.eq(v,x)}}function c(v,x,S,T){if(x==null)return!0;if(Array.isArray(x))return d(v,x,S,T);if(x instanceof Map)return p(v,x,S,T);if(x instanceof Set)return h(v,x,S,T);const C=Object.keys(x);if(v==null)return C.length===0;if(C.length===0)return!0;if(T&&T.has(x))return T.get(x)===v;T&&T.set(x,v);try{for(let E=0;E<C.length;E++){const _=C[E];if(!r.isPrimitive(v)&&!(_ in v)||x[_]===void 0&&v[_]!==void 0||x[_]===null&&v[_]!==null||!S(v[_],x[_],_,v,x,T))return!1}return!0}finally{T&&T.delete(x)}}function p(v,x,S,T){if(x.size===0)return!0;if(!(v instanceof Map))return!1;for(const[C,E]of x.entries()){const _=v.get(C);if(S(_,E,C,v,x,T)===!1)return!1}return!0}function d(v,x,S,T){if(x.length===0)return!0;if(!Array.isArray(v))return!1;const C=new Set;for(let E=0;E<x.length;E++){const _=x[E];let R=!1;for(let N=0;N<v.length;N++){if(C.has(N))continue;const O=v[N];let D=!1;if(S(O,_,E,v,x,T)&&(D=!0),D){C.add(N),R=!0;break}}if(!R)return!1}return!0}function h(v,x,S,T){return x.size===0?!0:v instanceof Set?d([...v],[...x],S,T):!1}e.isMatchWith=l,e.isSetMatch=h}(Wp)),Wp}var nE;function qv(){return nE||(nE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A4();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n}(Jp)),Jp}var eh={},th={},nh={},rE;function qM(){return rE||(rE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(nh)),nh}var rh={},iE;function Vv(){return iE||(iE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(rh)),rh}var ih={},aE;function zv(){return aE||(aE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",s="[object Symbol]",c="[object Date]",p="[object Map]",d="[object Set]",h="[object Array]",v="[object Function]",x="[object ArrayBuffer]",S="[object Object]",T="[object Error]",C="[object DataView]",E="[object Uint8Array]",_="[object Uint8ClampedArray]",R="[object Uint16Array]",N="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",k="[object Int16Array]",B="[object Int32Array]",V="[object BigInt64Array]",z="[object Float32Array]",te="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=V,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=C,e.dateTag=c,e.errorTag=T,e.float32ArrayTag=z,e.float64ArrayTag=te,e.functionTag=v,e.int16ArrayTag=k,e.int32ArrayTag=B,e.int8ArrayTag=D,e.mapTag=p,e.numberTag=r,e.objectTag=S,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=R,e.uint32ArrayTag=N,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=_}(ih)),ih}var ah={},oE;function w4(){return oE||(oE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(ah)),ah}var lE;function VM(){return lE||(lE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM(),n=Vv(),r=zv(),a=BM(),l=w4();function s(h,v){return c(h,void 0,h,new Map,v)}function c(h,v,x,S=new Map,T=void 0){const C=T==null?void 0:T(h,v,x,S);if(C!=null)return C;if(a.isPrimitive(h))return h;if(S.has(h))return S.get(h);if(Array.isArray(h)){const E=new Array(h.length);S.set(h,E);for(let _=0;_<h.length;_++)E[_]=c(h[_],_,x,S,T);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;S.set(h,E);for(const[_,R]of h)E.set(_,c(R,_,x,S,T));return E}if(h instanceof Set){const E=new Set;S.set(h,E);for(const _ of h)E.add(c(_,void 0,x,S,T));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);S.set(h,E);for(let _=0;_<h.length;_++)E[_]=c(h[_],_,x,S,T);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return S.set(h,E),p(E,h,x,S,T),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return S.set(h,E),p(E,h,x,S,T),E}if(h instanceof Blob){const E=new Blob([h],{type:h.type});return S.set(h,E),p(E,h,x,S,T),E}if(h instanceof Error){const E=new h.constructor;return S.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,p(E,h,x,S,T),E}if(typeof h=="object"&&d(h)){const E=Object.create(Object.getPrototypeOf(h));return S.set(h,E),p(E,h,x,S,T),E}return h}function p(h,v,x=h,S,T){const C=[...Object.keys(v),...t.getSymbols(v)];for(let E=0;E<C.length;E++){const _=C[E],R=Object.getOwnPropertyDescriptor(h,_);(R==null||R.writable)&&(h[_]=c(v[_],_,x,S,T))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=p}(th)),th}var sE;function M4(){return sE||(sE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VM();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(eh)),eh}var uE;function _4(){return uE||(uE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv(),n=M4();function r(a){return a=n.cloneDeep(a),l=>t.isMatch(l,a)}e.matches=r}(Kp)),Kp}var oh={},lh={},sh={},cE;function N4(){return cE||(cE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VM(),n=zv();function r(a,l){return t.cloneDeepWith(a,(s,c,p,d)=>{const h=l==null?void 0:l(s,c,p,d);if(h!=null)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(v,a),v}case n.argumentsTag:{const v={};return t.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}})}e.cloneDeepWith=r}(sh)),sh}var fE;function R4(){return fE||(fE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N4();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(lh)),lh}var uh={},ch={},dE;function zM(){return dE||(dE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(ch)),ch}var fh={},mE;function P4(){return mE||(mE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vv();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(fh)),fh}var pE;function D4(){return pE||(pE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),n=zM(),r=P4(),a=Av();function l(s,c){let p;if(Array.isArray(c)?p=c:typeof c=="string"&&t.isDeepKey(c)&&(s==null?void 0:s[c])==null?p=a.toPath(c):p=[c],p.length===0)return!1;let d=s;for(let h=0;h<p.length;h++){const v=p[h];if((d==null||!Object.hasOwn(d,v))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(v)&&v<d.length))return!1;d=d[v]}return!0}e.has=l}(uh)),uh}var hE;function O4(){return hE||(hE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv(),n=fM(),r=R4(),a=wv(),l=D4();function s(c,p){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return p=r.cloneDeep(p),function(d){const h=a.get(d,c);return h===void 0?l.has(d,c):p===void 0?h===void 0:t.isMatch(h,p)}}e.matchesProperty=s}(oh)),oh}var gE;function I4(){return gE||(gE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LM(),n=E4(),r=_4(),a=O4();function l(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=l}(jp)),jp}var vE;function k4(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b4(),n=LM(),r=C4(),a=I4();function l(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(c)):[]}e.uniqBy=l}(qp)),qp}var dh,yE;function L4(){return yE||(yE=1,dh=k4().uniqBy),dh}var U4=L4();const xE=Cr(U4);function $M(e,t,n){return t===!0?xE(e,n):typeof t=="function"?xE(e,t):e}var mh={exports:{}},ph={},hh={exports:{}},gh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function B4(){if(bE)return gh;bE=1;var e=Yo();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,l=e.useLayoutEffect,s=e.useDebugValue;function c(v,x){var S=x(),T=r({inst:{value:S,getSnapshot:x}}),C=T[0].inst,E=T[1];return l(function(){C.value=S,C.getSnapshot=x,p(C)&&E({inst:C})},[v,S,x]),a(function(){return p(C)&&E({inst:C}),v(function(){p(C)&&E({inst:C})})},[v]),s(S),S}function p(v){var x=v.getSnapshot;v=v.value;try{var S=x();return!n(v,S)}catch{return!0}}function d(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return gh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,gh}var SE;function q4(){return SE||(SE=1,hh.exports=B4()),hh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function V4(){if(TE)return ph;TE=1;var e=Yo(),t=q4();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,l=e.useRef,s=e.useEffect,c=e.useMemo,p=e.useDebugValue;return ph.useSyncExternalStoreWithSelector=function(d,h,v,x,S){var T=l(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=c(function(){function _(k){if(!R){if(R=!0,N=k,k=x(k),S!==void 0&&C.hasValue){var B=C.value;if(S(B,k))return O=B}return O=k}if(B=O,r(N,k))return B;var V=x(k);return S!==void 0&&S(B,V)?(N=k,B):(N=k,O=V)}var R=!1,N,O,D=v===void 0?null:v;return[function(){return _(h())},D===null?void 0:function(){return _(D())}]},[h,v,x,S]);var E=a(d,T[0],T[1]);return s(function(){C.hasValue=!0,C.value=E},[E]),p(E),E},ph}var CE;function z4(){return CE||(CE=1,mh.exports=V4()),mh.exports}var $4=z4(),$v=M.createContext(null),G4=e=>e,Ct=()=>{var e=M.useContext($v);return e?e.store.dispatch:G4},Cc=()=>{},F4=()=>Cc,H4=(e,t)=>e===t;function Se(e){var t=M.useContext($v);return $4.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:F4,t?t.store.getState:Cc,t?t.store.getState:Cc,t?e:Cc,H4)}function j4(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Y4(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function K4(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var EE=e=>Array.isArray(e)?e:[e];function J4(e){const t=Array.isArray(e[0])?e[0]:e;return K4(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function W4(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var X4=class{constructor(e){this.value=e}deref(){return this.value}},Z4=typeof WeakRef<"u"?WeakRef:X4,Q4=0,AE=1;function sc(){return{s:Q4,v:void 0,o:null,p:null}}function GM(e,t={}){let n=sc();const{resultEqualityCheck:r}=t;let a,l=0;function s(){var v;let c=n;const{length:p}=arguments;for(let x=0,S=p;x<S;x++){const T=arguments[x];if(typeof T=="function"||typeof T=="object"&&T!==null){let C=c.o;C===null&&(c.o=C=new WeakMap);const E=C.get(T);E===void 0?(c=sc(),C.set(T,c)):c=E}else{let C=c.p;C===null&&(c.p=C=new Map);const E=C.get(T);E===void 0?(c=sc(),C.set(T,c)):c=E}}const d=c;let h;if(c.s===AE)h=c.v;else if(h=e.apply(null,arguments),l++,r){const x=((v=a==null?void 0:a.deref)==null?void 0:v.call(a))??a;x!=null&&r(x,h)&&(h=x,l!==0&&l--),a=typeof h=="object"&&h!==null||typeof h=="function"?new Z4(h):h}return d.s=AE,d.v=h,h}return s.clearCache=()=>{n=sc(),s.resetResultsCount()},s.resultsCount=()=>l,s.resetResultsCount=()=>{l=0},s}function eG(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let l=0,s=0,c,p={},d=a.pop();typeof d=="object"&&(p=d,d=a.pop()),j4(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...p},{memoize:v,memoizeOptions:x=[],argsMemoize:S=GM,argsMemoizeOptions:T=[]}=h,C=EE(x),E=EE(T),_=J4(a),R=v(function(){return l++,d.apply(null,arguments)},...C),N=S(function(){s++;const D=W4(_,arguments);return c=R.apply(null,D),c},...E);return Object.assign(N,{resultFunc:d,memoizedResultFunc:R,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:v,argsMemoize:S})};return Object.assign(r,{withTypes:()=>r}),r}var J=eG(GM),tG=Object.assign((e,t=J)=>{Y4(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((s,c,p)=>(s[n[p]]=c,s),{}))},{withTypes:()=>tG}),vh={},yh={},xh={},wE;function nG(){return wE||(wE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const s=t(r),c=t(a);if(s===c&&s===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?c-s:s-c}return 0};e.compareValues=n}(xh)),xh}var bh={},Sh={},ME;function FM(){return ME||(ME=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Sh)),Sh}var _E;function rG(){return _E||(_E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,s){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||s!=null&&Object.hasOwn(s,l)}e.isKey=a}(bh)),bh}var NE;function iG(){return NE||(NE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nG(),n=rG(),r=Av();function a(l,s,c,p){if(l==null)return[];c=p?void 0:c,Array.isArray(l)||(l=Object.values(l)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(S=>String(S));const d=(S,T)=>{let C=S;for(let E=0;E<T.length&&C!=null;++E)C=C[T[E]];return C},h=(S,T)=>T==null||S==null?T:typeof S=="object"&&"key"in S?Object.hasOwn(T,S.key)?T[S.key]:d(T,S.path):typeof S=="function"?S(T):Array.isArray(S)?d(T,S):typeof T=="object"?T[S]:T,v=s.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:r.toPath(S)}));return l.map(S=>({original:S,criteria:v.map(T=>h(T,S))})).slice().sort((S,T)=>{for(let C=0;C<v.length;C++){const E=t.compareValues(S.criteria[C],T.criteria[C],c[C]);if(E!==0)return E}return 0}).map(S=>S.original)}e.orderBy=a}(yh)),yh}var Th={},RE;function aG(){return RE||(RE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],l=Math.floor(r),s=(c,p)=>{for(let d=0;d<c.length;d++){const h=c[d];Array.isArray(h)&&p<l?s(h,p+1):a.push(h)}};return s(n,0),a}e.flatten=t}(Th)),Th}var Ch={},PE;function HM(){return PE||(PE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM(),n=Uv(),r=UM(),a=Bv();function l(s,c,p){return r.isObject(p)&&(typeof c=="number"&&n.isArrayLike(p)&&t.isIndex(c)&&c<p.length||typeof c=="string"&&c in p)?a.eq(p[c],s):!1}e.isIterateeCall=l}(Ch)),Ch}var DE;function oG(){return DE||(DE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iG(),n=aG(),r=HM();function a(l,...s){const c=s.length;return c>1&&r.isIterateeCall(l,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(l,n.flatten(s),["asc"])}e.sortBy=a}(vh)),vh}var Eh,OE;function lG(){return OE||(OE=1,Eh=oG().sortBy),Eh}var sG=lG();const Cf=Cr(sG);var jM=e=>e.legend.settings,uG=e=>e.legend.size,cG=e=>e.legend.payload,fG=J([cG,jM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Cf(r,n):r});function dG(){return Se(fG)}var uc=1;function YM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=M.useState({height:0,left:0,top:0,width:0}),r=M.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),s={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(s.height-t.height)>uc||Math.abs(s.left-t.left)>uc||Math.abs(s.top-t.top)>uc||Math.abs(s.width-t.width)>uc)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mG=typeof Symbol=="function"&&Symbol.observable||"@@observable",IE=mG,Ah=()=>Math.random().toString(36).substring(7).split("").join("."),pG={INIT:`@@redux/INIT${Ah()}`,REPLACE:`@@redux/REPLACE${Ah()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ah()}`},Ic=pG;function Gv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function KM(e,t,n){if(typeof e!="function")throw new Error(Yt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yt(1));return n(KM)(e,t)}let r=e,a=t,l=new Map,s=l,c=0,p=!1;function d(){s===l&&(s=new Map,l.forEach((E,_)=>{s.set(_,E)}))}function h(){if(p)throw new Error(Yt(3));return a}function v(E){if(typeof E!="function")throw new Error(Yt(4));if(p)throw new Error(Yt(5));let _=!0;d();const R=c++;return s.set(R,E),function(){if(_){if(p)throw new Error(Yt(6));_=!1,d(),s.delete(R),l=null}}}function x(E){if(!Gv(E))throw new Error(Yt(7));if(typeof E.type>"u")throw new Error(Yt(8));if(typeof E.type!="string")throw new Error(Yt(17));if(p)throw new Error(Yt(9));try{p=!0,a=r(a,E)}finally{p=!1}return(l=s).forEach(R=>{R()}),E}function S(E){if(typeof E!="function")throw new Error(Yt(10));r=E,x({type:Ic.REPLACE})}function T(){const E=v;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Yt(11));function R(){const O=_;O.next&&O.next(h())}return R(),{unsubscribe:E(R)}},[IE](){return this}}}return x({type:Ic.INIT}),{dispatch:x,subscribe:v,getState:h,replaceReducer:S,[IE]:T}}function hG(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ic.INIT})>"u")throw new Error(Yt(12));if(typeof n(void 0,{type:Ic.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function JM(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const s=t[l];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let a;try{hG(n)}catch(l){a=l}return function(s={},c){if(a)throw a;let p=!1;const d={};for(let h=0;h<r.length;h++){const v=r[h],x=n[v],S=s[v],T=x(S,c);if(typeof T>"u")throw c&&c.type,new Error(Yt(14));d[v]=T,p=p||T!==S}return p=p||r.length!==Object.keys(s).length,p?d:s}}function kc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function gG(...e){return t=>(n,r)=>{const a=t(n,r);let l=()=>{throw new Error(Yt(15))};const s={getState:a.getState,dispatch:(p,...d)=>l(p,...d)},c=e.map(p=>p(s));return l=kc(...c)(a.dispatch),{...a,dispatch:l}}}function WM(e){return Gv(e)&&"type"in e&&typeof e.type=="string"}var XM=Symbol.for("immer-nothing"),kE=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bo=Object.getPrototypeOf;function Ea(e){return!!e&&!!e[Dn]}function Kr(e){var t;return e?ZM(e)||Array.isArray(e)||!!e[kE]||!!((t=e.constructor)!=null&&t[kE])||Af(e)||wf(e):!1}var vG=Object.prototype.constructor.toString();function ZM(e){if(!e||typeof e!="object")return!1;const t=Bo(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===vG}function Lc(e,t){Ef(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ef(e){const t=e[Dn];return t?t.type_:Array.isArray(e)?1:Af(e)?2:wf(e)?3:0}function Ig(e,t){return Ef(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QM(e,t,n){const r=Ef(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function yG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Af(e){return e instanceof Map}function wf(e){return e instanceof Set}function ca(e){return e.copy_||e.base_}function kg(e,t){if(Af(e))return new Map(e);if(wf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ZM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Dn];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const s=a[l],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Bo(e),r)}else{const r=Bo(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Fv(e,t=!1){return Mf(e)||Ea(e)||!Kr(e)||(Ef(e)>1&&(e.set=e.add=e.clear=e.delete=xG),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Fv(r,!0))),e}function xG(){lr(2)}function Mf(e){return Object.isFrozen(e)}var bG={};function Aa(e){const t=bG[e];return t||lr(0,e),t}var Ss;function e_(){return Ss}function SG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LE(e,t){t&&(Aa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lg(e){Ug(e),e.drafts_.forEach(TG),e.drafts_=null}function Ug(e){e===Ss&&(Ss=e.parent_)}function UE(e){return Ss=SG(Ss,e)}function TG(e){const t=e[Dn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function BE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Dn].modified_&&(Lg(t),lr(4)),Kr(e)&&(e=Uc(t,e),t.parent_||Bc(t,e)),t.patches_&&Aa("Patches").generateReplacementPatches_(n[Dn].base_,e,t.patches_,t.inversePatches_)):e=Uc(t,n,[]),Lg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XM?e:void 0}function Uc(e,t,n){if(Mf(t))return t;const r=t[Dn];if(!r)return Lc(t,(a,l)=>qE(e,r,t,a,l,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Bc(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let l=a,s=!1;r.type_===3&&(l=new Set(a),a.clear(),s=!0),Lc(l,(c,p)=>qE(e,r,a,c,p,n,s)),Bc(e,a,!1),n&&e.patches_&&Aa("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function qE(e,t,n,r,a,l,s){if(Ea(a)){const c=l&&t&&t.type_!==3&&!Ig(t.assigned_,r)?l.concat(r):void 0,p=Uc(e,a,c);if(QM(n,r,p),Ea(p))e.canAutoFreeze_=!1;else return}else s&&n.add(a);if(Kr(a)&&!Mf(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Uc(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Bc(e,a)}}function Bc(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fv(t,n)}function CG(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:e_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=Hv;n&&(a=[r],l=Ts);const{revoke:s,proxy:c}=Proxy.revocable(a,l);return r.draft_=c,r.revoke_=s,c}var Hv={get(e,t){if(t===Dn)return e;const n=ca(e);if(!Ig(n,t))return EG(e,n,t);const r=n[t];return e.finalized_||!Kr(r)?r:r===wh(e.base_,t)?(Mh(e),e.copy_[t]=qg(r,e)):r},has(e,t){return t in ca(e)},ownKeys(e){return Reflect.ownKeys(ca(e))},set(e,t,n){const r=t_(ca(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=wh(ca(e),t),l=a==null?void 0:a[Dn];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(yG(n,a)&&(n!==void 0||Ig(e.base_,t)))return!0;Mh(e),Bg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Mh(e),Bg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ca(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){lr(11)},getPrototypeOf(e){return Bo(e.base_)},setPrototypeOf(){lr(12)}},Ts={};Lc(Hv,(e,t)=>{Ts[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ts.deleteProperty=function(e,t){return Ts.set.call(this,e,t,void 0)};Ts.set=function(e,t,n){return Hv.set.call(this,e[0],t,n,e[0])};function wh(e,t){const n=e[Dn];return(n?ca(n):e)[t]}function EG(e,t,n){var a;const r=t_(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function t_(e,t){if(!(t in e))return;let n=Bo(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bo(n)}}function Bg(e){e.modified_||(e.modified_=!0,e.parent_&&Bg(e.parent_))}function Mh(e){e.copy_||(e.copy_=kg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var AG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const s=this;return function(p=l,...d){return s.produce(p,h=>n.call(this,h,...d))}}typeof n!="function"&&lr(6),r!==void 0&&typeof r!="function"&&lr(7);let a;if(Kr(t)){const l=UE(this),s=qg(t,void 0);let c=!0;try{a=n(s),c=!1}finally{c?Lg(l):Ug(l)}return LE(l,r),BE(a,l)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===XM&&(a=void 0),this.autoFreeze_&&Fv(a,!0),r){const l=[],s=[];Aa("Patches").generateReplacementPatches_(t,a,l,s),r(l,s)}return a}else lr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,p=>t(p,...c));let r,a;return[this.produce(t,n,(s,c)=>{r=s,a=c}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Kr(e)||lr(8),Ea(e)&&(e=jr(e));const t=UE(this),n=qg(e,void 0);return n[Dn].isManual_=!0,Ug(t),n}finishDraft(e,t){const n=e&&e[Dn];(!n||!n.isManual_)&&lr(9);const{scope_:r}=n;return LE(r,t),BE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Aa("Patches").applyPatches_;return Ea(e)?r(e,t):this.produce(e,a=>r(a,t))}};function qg(e,t){const n=Af(e)?Aa("MapSet").proxyMap_(e,t):wf(e)?Aa("MapSet").proxySet_(e,t):CG(e,t);return(t?t.scope_:e_()).drafts_.push(n),n}function jr(e){return Ea(e)||lr(10,e),n_(e)}function n_(e){if(!Kr(e)||Mf(e))return e;const t=e[Dn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kg(e,t.scope_.immer_.useStrictShallowCopy_)}else n=kg(e,!0);return Lc(n,(r,a)=>{QM(n,r,n_(a))}),t&&(t.finalized_=!1),n}var On=new AG,r_=On.produce;On.produceWithPatches.bind(On);On.setAutoFreeze.bind(On);On.setUseStrictShallowCopy.bind(On);On.applyPatches.bind(On);On.createDraft.bind(On);On.finishDraft.bind(On);function i_(e){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,e):a(l)}var wG=i_(),MG=i_,_G=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kc:kc.apply(null,arguments)};function Qn(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Rn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>WM(r)&&r.type===e,n}var a_=class hs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,hs.prototype)}static get[Symbol.species](){return hs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new hs(...t[0].concat(this)):new hs(...t.concat(this))}};function VE(e){return Kr(e)?r_(e,()=>{}):e}function cc(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function NG(e){return typeof e=="boolean"}var RG=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let s=new a_;return n&&(NG(n)?s.push(wG):s.push(MG(n.extraArgument))),s},PG="RTK_autoBatch",zE=e=>t=>{setTimeout(t,e)},DG=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,l=!1,s=!1;const c=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zE(10):e.type==="callback"?e.queueNotification:zE(e.timeout),d=()=>{s=!1,l&&(l=!1,c.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const v=()=>a&&h(),x=r.subscribe(v);return c.add(h),()=>{x(),c.delete(h)}},dispatch(h){var v;try{return a=!((v=h==null?void 0:h.meta)!=null&&v[PG]),l=!a,l&&(s||(s=!0,p(d))),r.dispatch(h)}finally{a=!0}}})},OG=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new a_(e);return r&&a.push(DG(typeof r=="object"?r:void 0)),a};function IG(e){const t=RG(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Gv(n))c=JM(n);else throw new Error(Rn(1));let p;typeof r=="function"?p=r(t):p=t();let d=kc;a&&(d=_G({trace:!1,...typeof a=="object"&&a}));const h=gG(...p),v=OG(h);let x=typeof s=="function"?s(v):v();const S=d(...x);return KM(c,l,S)}function o_(e){const t={},n=[];let r;const a={addCase(l,s){const c=typeof l=="string"?l:l.type;if(!c)throw new Error(Rn(28));if(c in t)throw new Error(Rn(29));return t[c]=s,a},addMatcher(l,s){return n.push({matcher:l,reducer:s}),a},addDefaultCase(l){return r=l,a}};return e(a),[t,n,r]}function kG(e){return typeof e=="function"}function LG(e,t){let[n,r,a]=o_(t),l;if(kG(e))l=()=>VE(e());else{const c=VE(e);l=()=>c}function s(c=l(),p){let d=[n[p.type],...r.filter(({matcher:h})=>h(p)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[a]),d.reduce((h,v)=>{if(v)if(Ea(h)){const S=v(h,p);return S===void 0?h:S}else{if(Kr(h))return r_(h,x=>v(x,p));{const x=v(h,p);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},c)}return s.getInitialState=l,s}var UG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BG=(e=21)=>{let t="",n=e;for(;n--;)t+=UG[Math.random()*64|0];return t},qG=Symbol.for("rtk-slice-createasyncthunk");function VG(e,t){return`${e}/${t}`}function zG({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[qG];return function(a){const{name:l,reducerPath:s=l}=a;if(!l)throw new Error(Rn(11));const c=(typeof a.reducers=="function"?a.reducers(GG()):a.reducers)||{},p=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,D){const k=typeof O=="string"?O:O.type;if(!k)throw new Error(Rn(12));if(k in d.sliceCaseReducersByType)throw new Error(Rn(13));return d.sliceCaseReducersByType[k]=D,h},addMatcher(O,D){return d.sliceMatchers.push({matcher:O,reducer:D}),h},exposeAction(O,D){return d.actionCreators[O]=D,h},exposeCaseReducer(O,D){return d.sliceCaseReducersByName[O]=D,h}};p.forEach(O=>{const D=c[O],k={reducerName:O,type:VG(l,O),createNotation:typeof a.reducers=="function"};HG(D)?YG(k,D,h,t):FG(k,D,h)});function v(){const[O={},D=[],k=void 0]=typeof a.extraReducers=="function"?o_(a.extraReducers):[a.extraReducers],B={...O,...d.sliceCaseReducersByType};return LG(a.initialState,V=>{for(let z in B)V.addCase(z,B[z]);for(let z of d.sliceMatchers)V.addMatcher(z.matcher,z.reducer);for(let z of D)V.addMatcher(z.matcher,z.reducer);k&&V.addDefaultCase(k)})}const x=O=>O,S=new Map,T=new WeakMap;let C;function E(O,D){return C||(C=v()),C(O,D)}function _(){return C||(C=v()),C.getInitialState()}function R(O,D=!1){function k(V){let z=V[O];return typeof z>"u"&&D&&(z=cc(T,k,_)),z}function B(V=x){const z=cc(S,D,()=>new WeakMap);return cc(z,V,()=>{const te={};for(const[$,K]of Object.entries(a.selectors??{}))te[$]=$G(K,V,()=>cc(T,V,_),D);return te})}return{reducerPath:O,getSelectors:B,get selectors(){return B(k)},selectSlice:k}}const N={name:l,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...R(s),injectInto(O,{reducerPath:D,...k}={}){const B=D??s;return O.inject({reducerPath:B,reducer:E},k),{...N,...R(B,!0)}}};return N}}function $G(e,t,n,r){function a(l,...s){let c=t(l);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return a.unwrapped=e,a}var kn=zG();function GG(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function FG({type:e,reducerName:t,createNotation:n},r,a){let l,s;if("reducer"in r){if(n&&!jG(r))throw new Error(Rn(17));l=r.reducer,s=r.prepare}else l=r;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,s?Qn(e,s):Qn(e))}function HG(e){return e._reducerDefinitionType==="asyncThunk"}function jG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function YG({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Rn(18));const{payloadCreator:l,fulfilled:s,pending:c,rejected:p,settled:d,options:h}=n,v=a(e,l,h);r.exposeAction(t,v),s&&r.addCase(v.fulfilled,s),c&&r.addCase(v.pending,c),p&&r.addCase(v.rejected,p),d&&r.addMatcher(v.settled,d),r.exposeCaseReducer(t,{fulfilled:s||fc,pending:c||fc,rejected:p||fc,settled:d||fc})}function fc(){}var KG="task",l_="listener",s_="completed",jv="cancelled",JG=`task-${jv}`,WG=`task-${s_}`,Vg=`${l_}-${jv}`,XG=`${l_}-${s_}`,_f=class{constructor(e){vp(this,"name","TaskAbortError");vp(this,"message");this.code=e,this.message=`${KG} ${jv} (reason: ${e})`}},Yv=(e,t)=>{if(typeof e!="function")throw new TypeError(Rn(32))},qc=()=>{},u_=(e,t=qc)=>(e.catch(t),e),c_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ya=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},xa=e=>{if(e.aborted){const{reason:t}=e;throw new _f(t)}};function f_(e,t){let n=qc;return new Promise((r,a)=>{const l=()=>a(new _f(e.reason));if(e.aborted){l();return}n=c_(e,l),t.finally(()=>n()).then(r,a)}).finally(()=>{n=qc})}var ZG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof _f?"cancelled":"rejected",error:n}}finally{t==null||t()}},Vc=e=>t=>u_(f_(e,t).then(n=>(xa(e),n))),d_=e=>{const t=Vc(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Io}=Object,$E={},Nf="listenerMiddleware",QG=(e,t)=>{const n=r=>c_(e,()=>ya(r,e.reason));return(r,a)=>{Yv(r);const l=new AbortController;n(l);const s=ZG(async()=>{xa(e),xa(l.signal);const c=await r({pause:Vc(l.signal),delay:d_(l.signal),signal:l.signal});return xa(l.signal),c},()=>ya(l,WG));return a!=null&&a.autoJoin&&t.push(s.catch(qc)),{result:Vc(e)(s),cancel(){ya(l,JG)}}}},eF=(e,t)=>{const n=async(r,a)=>{xa(t);let l=()=>{};const c=[new Promise((p,d)=>{let h=e({predicate:r,effect:(v,x)=>{x.unsubscribe(),p([v,x.getState(),x.getOriginalState()])}});l=()=>{h(),d()}})];a!=null&&c.push(new Promise(p=>setTimeout(p,a,null)));try{const p=await f_(t,Promise.race(c));return xa(t),p}finally{l()}};return(r,a)=>u_(n(r,a))},m_=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:l}=e;if(t)a=Qn(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Rn(21));return Yv(l),{predicate:a,type:t,effect:l}},p_=Io(e=>{const{type:t,predicate:n,effect:r}=m_(e);return{id:BG(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Rn(22))}}},{withTypes:()=>p_}),GE=(e,t)=>{const{type:n,effect:r,predicate:a}=m_(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},zg=e=>{e.pending.forEach(t=>{ya(t,Vg)})},tF=e=>()=>{e.forEach(zg),e.clear()},FE=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},h_=Io(Qn(`${Nf}/add`),{withTypes:()=>h_}),nF=Qn(`${Nf}/removeAll`),g_=Io(Qn(`${Nf}/remove`),{withTypes:()=>g_}),rF=(...e)=>{console.error(`${Nf}/error`,...e)},Os=(e={})=>{const t=new Map,{extra:n,onError:r=rF}=e;Yv(r);const a=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&zg(h)}),l=h=>{const v=GE(t,h)??p_(h);return a(v)};Io(l,{withTypes:()=>l});const s=h=>{const v=GE(t,h);return v&&(v.unsubscribe(),h.cancelActive&&zg(v)),!!v};Io(s,{withTypes:()=>s});const c=async(h,v,x,S)=>{const T=new AbortController,C=eF(l,T.signal),E=[];try{h.pending.add(T),await Promise.resolve(h.effect(v,Io({},x,{getOriginalState:S,condition:(_,R)=>C(_,R).then(Boolean),take:C,delay:d_(T.signal),pause:Vc(T.signal),extra:n,signal:T.signal,fork:QG(T.signal,E),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,R,N)=>{_!==T&&(ya(_,Vg),N.delete(_))})},cancel:()=>{ya(T,Vg),h.pending.delete(T)},throwIfCancelled:()=>{xa(T.signal)}})))}catch(_){_ instanceof _f||FE(r,_,{raisedBy:"effect"})}finally{await Promise.all(E),ya(T,XG),h.pending.delete(T)}},p=tF(t);return{middleware:h=>v=>x=>{if(!WM(x))return v(x);if(h_.match(x))return l(x.payload);if(nF.match(x)){p();return}if(g_.match(x))return s(x.payload);let S=h.getState();const T=()=>{if(S===$E)throw new Error(Rn(23));return S};let C;try{if(C=v(x),t.size>0){const E=h.getState(),_=Array.from(t.values());for(const R of _){let N=!1;try{N=R.predicate(x,E,S)}catch(O){N=!1,FE(r,O,{raisedBy:"predicate"})}N&&c(R,x,h,T)}}}finally{S=$E}return C},startListening:l,stopListening:s,clearListeners:p}};function Rn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},v_=kn({name:"chartLayout",initialState:iF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:aF,setLayout:oF,setChartSize:lF,setScale:sF}=v_.actions,uF=v_.reducer;function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){cF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cF(e,t,n){return(t=fF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zc=Math.PI/180,mF=e=>e*180/Math.PI,Jt=(e,t,n,r)=>({x:e+Math.cos(-zc*r)*n,y:t+Math.sin(-zc*r)*n}),pF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},hF=(e,t)=>{var{x:n,y:r}=e,{x:a,y:l}=t;return Math.sqrt((n-a)**2+(r-l)**2)},gF=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:l}=t,s=hF({x:n,y:r},{x:a,y:l});if(s<=0)return{radius:s,angle:0};var c=(n-a)/s,p=Math.acos(c);return r>l&&(p=2*Math.PI-p),{radius:s,angle:mF(p),angleInRadian:p}},vF=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:t-l*360,endAngle:n-l*360}},yF=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),l=Math.floor(r/360),s=Math.min(a,l);return e+s*360},xF=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:l}=gF({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(a<s||a>c||a===0)return null;var{startAngle:p,endAngle:d}=vF(t),h=l,v;if(p<=d){for(;h>d;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=d}else{for(;h>p;)h-=360;for(;h<d;)h+=360;v=h>=d&&h<=p}return v?jE(jE({},t),{},{radius:a,angle:yF(h,t)}):null};function y_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(r){bF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bF(e,t,n){return(t=SF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SF(e){var t=TF(e,"string");return typeof t=="symbol"?t:t+""}function TF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t,n){return st(e)||st(t)?n:Sr(t)?Ca(e,t,n):typeof t=="function"?t(e):n}var CF=(e,t,n,r,a)=>{var l,s=-1,c=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var p=0;p<c;p++){var d=p>0?n[p-1].coordinate:n[c-1].coordinate,h=n[p].coordinate,v=p>=c-1?n[0].coordinate:n[p+1].coordinate,x=void 0;if(pn(h-d)!==pn(v-h)){var S=[];if(pn(v-h)===pn(a[1]-a[0])){x=v;var T=h+a[1]-a[0];S[0]=Math.min(T,(T+d)/2),S[1]=Math.max(T,(T+d)/2)}else{x=d;var C=v+a[1]-a[0];S[0]=Math.min(h,(C+h)/2),S[1]=Math.max(h,(C+h)/2)}var E=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>E[0]&&e<=E[1]||e>=S[0]&&e<=S[1]){({index:s}=n[p]);break}}else{var _=Math.min(d,v),R=Math.max(d,v);if(e>(_+h)/2&&e<=(R+h)/2){({index:s}=n[p]);break}}}else if(t){for(var N=0;N<c;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<c-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===c-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:s}=t[N]);break}}return s},EF=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:l,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&l!=="center"&&he(e[l]))return Wn(Wn({},e),{},{[l]:e[l]+(r||0)});if((c==="horizontal"||c==="vertical"&&l==="center")&&s!=="middle"&&he(e[s]))return Wn(Wn({},e),{},{[s]:e[s]+(a||0)})}return e},ki=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",x_=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var a,l,s=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===n&&(l=!0),c.coordinate));return a||s.push(t),l||s.push(n),s},b_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:l,scale:s,realScaleType:c,isCategorical:p,categoricalDomain:d,tickCount:h,ticks:v,niceTicks:x,axisType:S}=e;if(!s)return null;var T=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,C=a==="category"&&s.bandwidth?s.bandwidth()/T:0;if(C=S==="angleAxis"&&l&&l.length>=2?pn(l[0]-l[1])*2*C:C,v||x){var E=(v||x||[]).map((_,R)=>{var N=r?r.indexOf(_):_;return{coordinate:s(N)+C,value:_,offset:C,index:R}});return E.filter(_=>!Pn(_.coordinate))}return p&&d?d.map((_,R)=>({coordinate:s(_)+C,value:_,index:R,offset:C})):s.ticks&&h!=null?s.ticks(h).map((_,R)=>({coordinate:s(_)+C,value:_,offset:C,index:R})):s.domain().map((_,R)=>({coordinate:s(_)+C,value:r?r[_]:_,index:R,offset:C}))},KE=1e-4,AF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-KE,l=Math.max(r[0],r[1])+KE,s=e(t[0]),c=e(t[n-1]);(s<a||s>l||c<a||c>l)&&e.domain([t[0],t[n-1]])}},wF=(e,t)=>{if(!t||t.length!==2||!he(t[0])||!he(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!he(e[0])||e[0]<n)&&(a[0]=n),(!he(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},MF=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,l=0,s=0;s<t;++s){var c=Pn(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=l,e[s][n][1]=l+c,l=e[s][n][1])}},_F=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,l=0;l<t;++l){var s=Pn(e[l][n][1])?e[l][n][0]:e[l][n][1];s>=0?(e[l][n][0]=a,e[l][n][1]=a+s,a=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},NF={sign:MF,expand:i4,none:Uo,silhouette:a4,wiggle:o4,positive:_F},RF=(e,t,n)=>{var r=NF[n],a=r4().keys(t).value((l,s)=>+zt(l,s,0)).order(Pg).offset(r);return a(e)};function PF(e){return e==null?void 0:String(e)}function JE(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:l,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!st(a[t.dataKey])){var c=mM(n,"value",a[t.dataKey]);if(c)return c.coordinate+r/2}return n[l]?n[l].coordinate+r/2:null}var p=zt(a,st(s)?t.dataKey:s);return st(p)?null:t.scale(p)}var WE=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:l,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var c=zt(l,t.dataKey,t.scale.domain()[s]);return st(c)?null:t.scale(c)-a/2+r},DF=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},OF=e=>{var t=e.flat(2).filter(he);return[Math.min(...t),Math.max(...t)]},IF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kF=(e,t,n)=>{if(e!=null)return IF(Object.keys(e).reduce((r,a)=>{var l=e[a],{stackedData:s}=l,c=s.reduce((p,d)=>{var h=y_(d,t,n),v=OF(h);return[Math.min(p[0],v[0]),Math.max(p[1],v[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},XE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Cf(t,h=>h.coordinate),l=1/0,s=1,c=a.length;s<c;s++){var p=a[s],d=a[s-1];l=Math.min((p.coordinate||0)-(d.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function QE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:l}=e;return Wn(Wn({},t),{},{dataKey:n,payload:r,value:a,name:l})}function Rf(e,t){if(e)return String(e);if(typeof t=="string")return t}function LF(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var l=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return l?{x:e,y:t}:null}return r?xF({x:e,y:t},r):null}var UF=(e,t,n,r)=>{var a=t.find(d=>d&&d.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var l=a.coordinate,{radius:s}=r;return Wn(Wn(Wn({},r),Jt(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}var c=a.coordinate,{angle:p}=r;return Wn(Wn(Wn({},r),Jt(r.cx,r.cy,c,p)),{},{angle:p,radius:c})}return{x:0,y:0}},BF=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qr=e=>e.layout.width,ei=e=>e.layout.height,qF=e=>e.layout.scale,S_=e=>e.layout.margin,Kv=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Jv=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),VF="data-recharts-item-index",zF="data-recharts-item-data-key",Pf=60;function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){$F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $F(e,t,n){return(t=GF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GF(e){var t=FF(e,"string");return typeof t=="symbol"?t:t+""}function FF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HF=e=>e.brush.height,$t=J([Qr,ei,S_,HF,Kv,Jv,jM,uG],(e,t,n,r,a,l,s,c)=>{var p=l.reduce((T,C)=>{var{orientation:E}=C;if(!C.mirror&&!C.hide){var _=typeof C.width=="number"?C.width:Pf;return Mi(Mi({},T),{},{[E]:T[E]+_})}return T},{left:n.left||0,right:n.right||0}),d=a.reduce((T,C)=>{var{orientation:E}=C;return!C.mirror&&!C.hide?Mi(Mi({},T),{},{[E]:Ca(T,"".concat(E))+C.height}):T},{top:n.top||0,bottom:n.bottom||0}),h=Mi(Mi({},d),p),v=h.bottom;h.bottom+=r,h=EF(h,s,c);var x=e-h.left-h.right,S=t-h.top-h.bottom;return Mi(Mi({brushBottom:v},h),{},{width:Math.max(x,0),height:Math.max(S,0)})}),jF=J($t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),T_=J(Qr,ei,(e,t)=>({x:0,y:0,width:e,height:t})),YF=M.createContext(null),gn=()=>M.useContext(YF)!=null,Df=e=>e.brush,Of=J([Df,$t,S_],(e,t,n)=>({height:e.height,x:he(e.x)?e.x:t.left,y:he(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:he(e.width)?e.width:t.width})),Wv=()=>{var e,t=gn(),n=Se(jF),r=Se(Of),a=(e=Se(Df))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},KF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},C_=()=>{var e;return(e=Se($t))!==null&&e!==void 0?e:KF},Xv=()=>Se(Qr),Zv=()=>Se(ei),JF={top:0,right:0,bottom:0,left:0},WF=()=>{var e;return(e=Se(t=>t.layout.margin))!==null&&e!==void 0?e:JF},Fe=e=>e.layout.layoutType,If=()=>Se(Fe),XF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},E_=kn({name:"legend",initialState:XF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=jr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:tA,setLegendSettings:ZF,addLegendPayload:QF,removeLegendPayload:eH}=E_.actions,tH=E_.reducer,nH=["contextPayload"];function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$g.apply(null,arguments)}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){Qv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qv(e,t,n){return(t=rH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t){if(e==null)return{};var n,r,a=oH(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lH(e){return e.value}function sH(e){var{contextPayload:t}=e,n=aH(e,nH),r=$M(t,e.payloadUniqBy,lH),a=qo(qo({},n),{},{payload:r});return M.isValidElement(e.content)?M.cloneElement(e.content,a):typeof e.content=="function"?M.createElement(e.content,a):M.createElement(Lv,a)}function uH(e,t,n,r,a,l){var{layout:s,align:c,verticalAlign:p}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?d={left:((r||0)-l.width)/2}:d=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?h={top:((a||0)-l.height)/2}:h=p==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),qo(qo({},d),h)}function cH(e){var t=Ct();return M.useEffect(()=>{t(ZF(e))},[t,e]),null}function fH(e){var t=Ct();return M.useEffect(()=>(t(tA(e)),()=>{t(tA({width:0,height:0}))}),[t,e]),null}function dH(e){var t=dG(),n=M$(),r=WF(),{width:a,height:l,wrapperStyle:s,portal:c}=e,[p,d]=YM([t]),h=Xv(),v=Zv(),x=h-(r.left||0)-(r.right||0),S=kf.getWidthOrHeight(e.layout,l,a,x),T=c?s:qo(qo({position:"absolute",width:(S==null?void 0:S.width)||a||"auto",height:(S==null?void 0:S.height)||l||"auto"},uH(s,e,r,h,v,p)),s),C=c??n;if(C==null)return null;var E=M.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:d},M.createElement(cH,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),M.createElement(fH,{width:p.width,height:p.height}),M.createElement(sH,$g({},e,S,{margin:r,chartWidth:h,chartHeight:v,contextPayload:t})));return vM.createPortal(E,C)}class kf extends M.PureComponent{static getWidthOrHeight(t,n,r,a){return t==="vertical"&&he(n)?{height:n}:t==="horizontal"?{width:r||a}:null}render(){return M.createElement(dH,this.props)}}Qv(kf,"displayName","Legend");Qv(kf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gg.apply(null,arguments)}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){mH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=hH(e,"string");return typeof t=="symbol"?t:t+""}function hH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gH(e){return Array.isArray(e)&&Sr(e[0])&&Sr(e[1])?e.join(" ~ "):e}var vH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:l,formatter:s,itemSorter:c,wrapperClassName:p,labelClassName:d,label:h,labelFormatter:v,accessibilityLayer:x=!1}=e,S=()=>{if(l&&l.length){var D={padding:0,margin:0},k=(c?Cf(l,c):l).map((B,V)=>{if(B.type==="none")return null;var z=B.formatter||s||gH,{value:te,name:$}=B,K=te,de=$;if(z){var Ce=z(te,$,B,V,l);if(Array.isArray(Ce))[K,de]=Ce;else if(Ce!=null)K=Ce;else return null}var ve=_h({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},r);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ve},Sr(de)?M.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Sr(de)?M.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,M.createElement("span",{className:"recharts-tooltip-item-value"},K),M.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},T=_h({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),C=_h({margin:0},a),E=!st(h),_=E?h:"",R=Je("recharts-default-tooltip",p),N=Je("recharts-tooltip-label",d);E&&v&&l!==void 0&&l!==null&&(_=v(h,l));var O=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Gg({className:R,style:T},O),M.createElement("p",{className:N,style:C},M.isValidElement(_)?_:"".concat(_)),S())},ls="recharts-tooltip-wrapper",yH={visibility:"hidden"};function xH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Je(ls,{["".concat(ls,"-right")]:he(n)&&t&&he(t.x)&&n>=t.x,["".concat(ls,"-left")]:he(n)&&t&&he(t.x)&&n<t.x,["".concat(ls,"-bottom")]:he(r)&&t&&he(t.y)&&r>=t.y,["".concat(ls,"-top")]:he(r)&&t&&he(t.y)&&r<t.y})}function iA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:l,reverseDirection:s,tooltipDimension:c,viewBox:p,viewBoxDimension:d}=e;if(l&&he(l[r]))return l[r];var h=n[r]-c-(a>0?a:0),v=n[r]+a;if(t[r])return s[r]?h:v;var x=p[r];if(x==null)return 0;if(s[r]){var S=h,T=x;return S<T?Math.max(v,x):Math.max(h,x)}if(d==null)return 0;var C=v+c,E=x+d;return C>E?Math.max(h,x):Math.max(v,x)}function bH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function SH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:l,tooltipBox:s,useTranslate3d:c,viewBox:p}=e,d,h,v;return s.height>0&&s.width>0&&n?(h=iA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:s.width,viewBox:p,viewBoxDimension:p.width}),v=iA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:s.height,viewBox:p,viewBoxDimension:p.height}),d=bH({translateX:h,translateY:v,useTranslate3d:c})):d=yH,{cssProperties:d,cssClasses:xH({translateX:h,translateY:v,coordinate:n})}}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){Fg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fg(e,t,n){return(t=TH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EH extends M.PureComponent{constructor(){super(...arguments),Fg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Fg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:s,hasPayload:c,isAnimationActive:p,offset:d,position:h,reverseDirection:v,useTranslate3d:x,viewBox:S,wrapperStyle:T,lastBoundingBox:C,innerRef:E,hasPortalFromProps:_}=this.props,{cssClasses:R,cssProperties:N}=SH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:v,tooltipBox:{height:C.height,width:C.width},useTranslate3d:x,viewBox:S}),O=_?{}:dc(dc({transition:p&&t?"transform ".concat(r,"ms ").concat(a):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),D=dc(dc({},O),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},T);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:D,ref:E},l)}}var AH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qo={isSsr:AH()},A_=()=>Se(e=>e.rootProps.accessibilityLayer);function In(e){return Number.isFinite(e)}function $c(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hg.apply(null,arguments)}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){wH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wH(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sA={curveBasisClosed:j$,curveBasisOpen:Y$,curveBasis:H$,curveBumpX:P$,curveBumpY:D$,curveLinearClosed:K$,curveLinear:Sf,curveMonotoneX:J$,curveMonotoneY:W$,curveNatural:X$,curveStep:Z$,curveStepAfter:e4,curveStepBefore:Q$},mc=e=>In(e.x)&&In(e.y),ss=e=>e.x,us=e=>e.y,NH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ds(e));return(n==="curveMonotone"||n==="curveBump")&&t?sA["".concat(n).concat(t==="vertical"?"Y":"X")]:sA[n]||Sf},RH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:l=!1}=e,s=NH(t,a),c=l?n.filter(mc):n,p;if(Array.isArray(r)){var d=l?r.filter(v=>mc(v)):r,h=c.map((v,x)=>lA(lA({},v),{},{base:d[x]}));return a==="vertical"?p=lc().y(us).x1(ss).x0(v=>v.base.x):p=lc().x(ss).y1(us).y0(v=>v.base.y),p.defined(mc).curve(s),p(h)}return a==="vertical"&&he(r)?p=lc().y(us).x1(ss).x0(r):he(r)?p=lc().x(ss).y1(us).y0(r):p=EM().x(ss).y(us),p.defined(mc).curve(s),p(c)},w_=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var l=n&&n.length?RH(e):r;return M.createElement("path",Hg({},Da(e),_v(e),{className:Je("recharts-curve",t),d:l===null?void 0:l,ref:a}))},PH=["x","y","top","left","width","height","className"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function DH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=IH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t){if(e==null)return{};var n,r,a=UH(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function UH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BH=(e,t,n,r,a,l)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),qH=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:l=0,height:s=0,className:c}=e,p=LH(e,PH),d=DH({x:t,y:n,top:r,left:a,width:l,height:s},p);return!he(t)||!he(n)||!he(l)||!he(s)||!he(r)||!he(a)?null:M.createElement("path",jg({},gt(d,!0),{className:Je("recharts-cross",c),d:BH(t,n,l,s,r,a)}))};function VH(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){$H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $H(e,t,n){return(t=GH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Er(e,t){var n=zH({},e),r=t,a=Object.keys(t),l=a.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return l}var Nh={},Rh={},Ph={},fA;function HH(){return fA||(fA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(Ph)),Ph}var dA;function jH(){return dA||(dA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HH(),n=qM(),r=Vv(),a=zv(),l=Bv();function s(d,h,v){return c(d,h,void 0,void 0,void 0,void 0,v)}function c(d,h,v,x,S,T,C){const E=C(d,h,v,x,S,T);if(E!==void 0)return E;if(typeof d==typeof h)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===h;case"number":return d===h||Object.is(d,h);case"function":return d===h;case"object":return p(d,h,T,C)}return p(d,h,T,C)}function p(d,h,v,x){if(Object.is(d,h))return!0;let S=r.getTag(d),T=r.getTag(h);if(S===a.argumentsTag&&(S=a.objectTag),T===a.argumentsTag&&(T=a.objectTag),S!==T)return!1;switch(S){case a.stringTag:return d.toString()===h.toString();case a.numberTag:{const _=d.valueOf(),R=h.valueOf();return l.eq(_,R)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),h.valueOf());case a.regexpTag:return d.source===h.source&&d.flags===h.flags;case a.functionTag:return d===h}v=v??new Map;const C=v.get(d),E=v.get(h);if(C!=null&&E!=null)return C===h;v.set(d,h),v.set(h,d);try{switch(S){case a.mapTag:{if(d.size!==h.size)return!1;for(const[_,R]of d.entries())if(!h.has(_)||!c(R,h.get(_),_,d,h,v,x))return!1;return!0}case a.setTag:{if(d.size!==h.size)return!1;const _=Array.from(d.values()),R=Array.from(h.values());for(let N=0;N<_.length;N++){const O=_[N],D=R.findIndex(k=>c(O,k,void 0,d,h,v,x));if(D===-1)return!1;R.splice(D,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(h)||d.length!==h.length)return!1;for(let _=0;_<d.length;_++)if(!c(d[_],h[_],_,d,h,v,x))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==h.byteLength?!1:p(new Uint8Array(d),new Uint8Array(h),v,x);case a.dataViewTag:return d.byteLength!==h.byteLength||d.byteOffset!==h.byteOffset?!1:p(new Uint8Array(d),new Uint8Array(h),v,x);case a.errorTag:return d.name===h.name&&d.message===h.message;case a.objectTag:{if(!(p(d.constructor,h.constructor,v,x)||t.isPlainObject(d)&&t.isPlainObject(h)))return!1;const R=[...Object.keys(d),...n.getSymbols(d)],N=[...Object.keys(h),...n.getSymbols(h)];if(R.length!==N.length)return!1;for(let O=0;O<R.length;O++){const D=R[O],k=d[D];if(!Object.hasOwn(h,D))return!1;const B=h[D];if(!c(k,B,D,d,h,v,x))return!1}return!0}default:return!1}}finally{v.delete(d),v.delete(h)}}e.isEqualWith=s}(Rh)),Rh}var Dh={},mA;function YH(){return mA||(mA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Dh)),Dh}var pA;function KH(){return pA||(pA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jH(),n=YH();function r(a,l){return t.isEqualWith(a,l,n.noop)}e.isEqual=r}(Nh)),Nh}var Oh,hA;function JH(){return hA||(hA=1,Oh=KH().isEqual),Oh}var WH=JH();const XH=Cr(WH);var Gc=1e-4,M_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],__=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),gA=(e,t)=>n=>{var r=M_(e,t);return __(r,n)},ZH=(e,t)=>n=>{var r=M_(e,t),a=[...r.map((l,s)=>l*s).slice(1),0];return __(a,n)},vA=function(){for(var t,n,r,a,l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];if(s.length===1)switch(s[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var p=s[0].split("(");p[0]==="cubic-bezier"&&p[1].split(")")[0].split(",").length===4&&([t,r,n,a]=p[1].split(")")[0].split(",").map(T=>parseFloat(T)))}}else s.length===4&&([t,r,n,a]=s);var d=gA(t,n),h=gA(r,a),v=ZH(t,n),x=T=>T>1?1:T<0?0:T,S=T=>{for(var C=T>1?1:T,E=C,_=0;_<8;++_){var R=d(E)-C,N=v(E);if(Math.abs(R-C)<Gc||N<Gc)return h(E);E=x(E-R/N)}return h(E)};return S.isStepper=!1,S},QH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,l=(s,c,p)=>{var d=-(s-c)*n,h=p*r,v=p+(d-h)*a/1e3,x=p*a/1e3+s;return Math.abs(x-c)<Gc&&Math.abs(v)<Gc?[c,0]:[x,v]};return l.isStepper=!0,l.dt=a,l},N_=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vA(e);case"spring":return QH();default:if(e.split("(")[0]==="cubic-bezier")return vA(e)}return typeof e=="function"?e:null};function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){e6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e6(e,t,n){return(t=t6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t6(e){var t=n6(e,"string");return typeof t=="symbol"?t:t+""}function n6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),i6=(e,t,n)=>e.map(r=>"".concat(r6(r)," ").concat(t,"ms ").concat(n)).join(","),a6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Es=(e,t)=>Object.keys(t).reduce((n,r)=>xA(xA({},n),{},{[r]:e(r,t[r])}),{});function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){o6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o6(e,t,n){return(t=l6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l6(e){var t=s6(e,"string");return typeof t=="symbol"?t:t+""}function s6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fc=(e,t,n)=>e+(t-e)*n,Yg=e=>{var{from:t,to:n}=e;return t!==n},R_=(e,t,n)=>{var r=Es((a,l)=>{if(Yg(l)){var[s,c]=e(l.from,l.to,l.velocity);return Kt(Kt({},l),{},{from:s,velocity:c})}return l},t);return n<1?Es((a,l)=>Yg(l)?Kt(Kt({},l),{},{velocity:Fc(l.velocity,r[a].velocity,n),from:Fc(l.from,r[a].from,n)}):l,t):R_(e,r,n-1)};function u6(e,t,n,r,a,l){var s,c=r.reduce((x,S)=>Kt(Kt({},x),{},{[S]:{from:e[S],velocity:0,to:t[S]}}),{}),p=()=>Es((x,S)=>S.from,c),d=()=>!Object.values(c).filter(Yg).length,h=null,v=x=>{s||(s=x);var S=x-s,T=S/n.dt;c=R_(n,c,T),a(Kt(Kt(Kt({},e),t),p())),s=x,d()||(h=l.setTimeout(v))};return()=>(h=l.setTimeout(v),()=>{h()})}function c6(e,t,n,r,a,l,s){var c=null,p=a.reduce((v,x)=>Kt(Kt({},v),{},{[x]:[e[x],t[x]]}),{}),d,h=v=>{d||(d=v);var x=(v-d)/r,S=Es((C,E)=>Fc(...E,n(x)),p);if(l(Kt(Kt(Kt({},e),t),S)),x<1)c=s.setTimeout(h);else{var T=Es((C,E)=>Fc(...E,n(1)),p);l(Kt(Kt(Kt({},e),t),T))}};return()=>(c=s.setTimeout(h),()=>{c()})}const P_=(e,t,n,r,a,l)=>{var s=a6(e,t);return n.isStepper===!0?u6(e,t,n,s,a,l):c6(e,t,n,r,s,a,l)};function f6(e){var t,n=()=>null,r=!1,a=null,l=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[p,...d]=c;if(typeof p=="number"){a=e.setTimeout(l.bind(null,d),p);return}l(p),a=e.setTimeout(l.bind(null,d));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,a&&(a(),a=null),l(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class d6{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{cancelAnimationFrame(a)}}}function m6(){return f6(new d6)}var p6=M.createContext(m6);function D_(e,t){var n=M.useContext(p6);return M.useMemo(()=>t??n(e),[e,t,n])}var h6=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg.apply(null,arguments)}function g6(e,t){if(e==null)return{};var n,r,a=v6(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){pa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pa(e,t,n){return(t=y6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y6(e){var t=x6(e,"string");return typeof t=="symbol"?t:t+""}function x6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ey extends M.PureComponent{constructor(t,n){super(t,n),pa(this,"mounted",!1),pa(this,"manager",void 0),pa(this,"stopJSAnimation",null),pa(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:l,to:s,children:c,duration:p,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||p<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:s});return}if(l){if(typeof c=="function"){this.state={style:l};return}this.state={style:a?{[a]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:l,to:s,from:c}=this.props,{style:p}=this.state;if(r){if(!n){var d={style:a?{[a]:s}:s};this.state&&p&&(a&&p[a]!==s||!a&&p!==s)&&this.setState(d);return}if(!(XH(t.to,s)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=h||l?c:t.to;if(this.state&&p){var x={style:a?{[a]:v}:v};(a&&p[a]!==v||!a&&p!==v)&&this.setState(x)}this.runAnimation(_i(_i({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:a,easing:l,begin:s,onAnimationEnd:c,onAnimationStart:p}=t,d=P_(n,r,N_(l),a,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=d()};this.manager.start([p,s,h,a,c])}runAnimation(t){var{begin:n,duration:r,attributeName:a,to:l,easing:s,onAnimationStart:c,onAnimationEnd:p,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof d=="function"||s==="spring"){this.runJSAnimation(t);return}var h=a?{[a]:l}:l,v=i6(Object.keys(h),r,s);this.manager.start([c,n,_i(_i({},h),{},{transition:v}),r,p])}render(){var t=this.props,{children:n,begin:r,duration:a,attributeName:l,easing:s,isActive:c,from:p,to:d,canBegin:h,onAnimationEnd:v,shouldReAnimate:x,onAnimationReStart:S,animationManager:T}=t,C=g6(t,h6),E=M.Children.count(n),_=this.state.style;if(typeof n=="function")return n(_);if(!c||E===0||a<=0)return n;var R=N=>{var{style:O={},className:D}=N.props,k=M.cloneElement(N,_i(_i({},C),{},{style:_i(_i({},O),_),className:D}));return k};return E===1?R(M.Children.only(n)):M.createElement("div",null,M.Children.map(n,N=>R(N)))}}pa(ey,"displayName","Animate");pa(ey,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Hc(e){var t,n=D_((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return M.createElement(ey,Kg({},e,{animationManager:n}))}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(null,arguments)}var TA=(e,t,n,r,a)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,p=r>=0&&n>=0||r<0&&n<0?1:0,d;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],v=0,x=4;v<x;v++)h[v]=a[v]>l?l:a[v];d="M".concat(e,",").concat(t+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(p,",").concat(e+c*h[0],",").concat(t)),d+="L ".concat(e+n-c*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(p,`,
        `).concat(e+n,",").concat(t+s*h[1])),d+="L ".concat(e+n,",").concat(t+r-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(p,`,
        `).concat(e+n-c*h[2],",").concat(t+r)),d+="L ".concat(e+c*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(p,`,
        `).concat(e,",").concat(t+r-s*h[3])),d+="Z"}else if(l>0&&a===+a&&a>0){var S=Math.min(l,a);d="M ".concat(e,",").concat(t+s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(p,",").concat(e+c*S,",").concat(t,`
            L `).concat(e+n-c*S,",").concat(t,`
            A `).concat(S,",").concat(S,",0,0,").concat(p,",").concat(e+n,",").concat(t+s*S,`
            L `).concat(e+n,",").concat(t+r-s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(p,",").concat(e+n-c*S,",").concat(t+r,`
            L `).concat(e+c*S,",").concat(t+r,`
            A `).concat(S,",").concat(S,",0,0,").concat(p,",").concat(e,",").concat(t+r-s*S," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},b6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O_=e=>{var t=Er(e,b6),n=M.useRef(null),[r,a]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&a(_)}catch{}},[]);var{x:l,y:s,width:c,height:p,radius:d,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:S,isAnimationActive:T,isUpdateAnimationActive:C}=t;if(l!==+l||s!==+s||c!==+c||p!==+p||c===0||p===0)return null;var E=Je("recharts-rectangle",h);return C?M.createElement(Hc,{canBegin:r>0,from:{width:c,height:p,x:l,y:s},to:{width:c,height:p,x:l,y:s},duration:x,animationEasing:v,isActive:C},_=>{var{width:R,height:N,x:O,y:D}=_;return M.createElement(Hc,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:x,isActive:T,easing:v},M.createElement("path",jc({},gt(t,!0),{className:E,d:TA(O,D,R,N,d),ref:n})))}):M.createElement("path",jc({},gt(t,!0),{className:E,d:TA(l,s,c,p,d)}))};function I_(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:l}=e,s=Jt(t,n,r,a),c=Jt(t,n,r,l);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:a,endAngle:l}}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jg.apply(null,arguments)}var S6=(e,t)=>{var n=pn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},pc=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:l,isExternal:s,cornerRadius:c,cornerIsExternal:p}=e,d=c*(s?1:-1)+r,h=Math.asin(c/d)/zc,v=p?a:a+l*h,x=Jt(t,n,d,v),S=Jt(t,n,r,v),T=p?a-l*h:a,C=Jt(t,n,d*Math.cos(h*zc),T);return{center:x,circleTangency:S,lineTangency:C,theta:h}},k_=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:s}=e,c=S6(l,s),p=l+c,d=Jt(t,n,a,l),h=Jt(t,n,a,p),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>p),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var x=Jt(t,n,r,l),S=Jt(t,n,r,p);v+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=p),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(t,",").concat(n," Z");return v},T6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:s,cornerIsExternal:c,startAngle:p,endAngle:d}=e,h=pn(d-p),{circleTangency:v,lineTangency:x,theta:S}=pc({cx:t,cy:n,radius:a,angle:p,sign:h,cornerRadius:l,cornerIsExternal:c}),{circleTangency:T,lineTangency:C,theta:E}=pc({cx:t,cy:n,radius:a,angle:d,sign:-h,cornerRadius:l,cornerIsExternal:c}),_=c?Math.abs(p-d):Math.abs(p-d)-S-E;if(_<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):k_({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:p,endAngle:d});var R="M ".concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:O,theta:D}=pc({cx:t,cy:n,radius:r,angle:p,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),{circleTangency:k,lineTangency:B,theta:V}=pc({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),z=c?Math.abs(p-d):Math.abs(p-d)-D-V;if(z<0&&l===0)return"".concat(R,"L").concat(t,",").concat(n,"Z");R+="L".concat(B.x,",").concat(B.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else R+="L".concat(t,",").concat(n,"Z");return R},C6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L_=e=>{var t=Er(e,C6),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:p,startAngle:d,endAngle:h,className:v}=t;if(l<a||d===h)return null;var x=Je("recharts-sector",v),S=l-a,T=ur(s,S,0,!0),C;return T>0&&Math.abs(d-h)<360?C=T6({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(T,S/2),forceCornerRadius:c,cornerIsExternal:p,startAngle:d,endAngle:h}):C=k_({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:d,endAngle:h}),M.createElement("path",Jg({},gt(t,!0),{className:x,d:C}))};function E6(e,t,n){var r,a,l,s;if(e==="horizontal")r=t.x,l=r,a=n.top,s=n.top+n.height;else if(e==="vertical")a=t.y,s=a,r=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:p,innerRadius:d,outerRadius:h,angle:v}=t,x=Jt(c,p,d,v),S=Jt(c,p,h,v);r=x.x,a=x.y,l=S.x,s=S.y}else return I_(t);return[{x:r,y:a},{x:l,y:s}]}var Ih={},kh={},Lh={},CA;function A6(){return CA||(CA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(Lh)),Lh}var EA;function w6(){return EA||(EA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(kh)),kh}var AA;function M6(){return AA||(AA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HM(),n=w6();function r(a,l,s){s&&typeof s!="number"&&t.isIterateeCall(a,l,s)&&(l=s=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),s=s===void 0?a<l?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((l-a)/(s||1)),0),p=new Array(c);for(let d=0;d<c;d++)p[d]=a,a+=s;return p}e.range=r}(Ih)),Ih}var Uh,wA;function _6(){return wA||(wA=1,Uh=M6().range),Uh}var N6=_6();const U_=Cr(N6);function Pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ty(e){let t,n,r;e.length!==2?(t=Pi,n=(c,p)=>Pi(e(c),p),r=(c,p)=>e(c)-p):(t=e===Pi||e===R6?e:P6,n=e,r=e);function a(c,p,d=0,h=c.length){if(d<h){if(t(p,p)!==0)return h;do{const v=d+h>>>1;n(c[v],p)<0?d=v+1:h=v}while(d<h)}return d}function l(c,p,d=0,h=c.length){if(d<h){if(t(p,p)!==0)return h;do{const v=d+h>>>1;n(c[v],p)<=0?d=v+1:h=v}while(d<h)}return d}function s(c,p,d=0,h=c.length){const v=a(c,p,d,h-1);return v>d&&r(c[v-1],p)>-r(c[v],p)?v-1:v}return{left:a,center:s,right:l}}function P6(){return 0}function B_(e){return e===null?NaN:+e}function*D6(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const O6=ty(Pi),Is=O6.right;ty(B_).center;class MA extends Map{constructor(t,n=L6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(_A(this,t))}has(t){return super.has(_A(this,t))}set(t,n){return super.set(I6(this,t),n)}delete(t){return super.delete(k6(this,t))}}function _A({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function I6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function k6({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function L6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function U6(e=Pi){if(e===Pi)return q_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function q_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const B6=Math.sqrt(50),q6=Math.sqrt(10),V6=Math.sqrt(2);function Yc(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),s=l>=B6?10:l>=q6?5:l>=V6?2:1;let c,p,d;return a<0?(d=Math.pow(10,-a)/s,c=Math.round(e*d),p=Math.round(t*d),c/d<e&&++c,p/d>t&&--p,d=-d):(d=Math.pow(10,a)*s,c=Math.round(e/d),p=Math.round(t/d),c*d<e&&++c,p*d>t&&--p),p<c&&.5<=n&&n<2?Yc(e,t,n*2):[c,p,d]}function Wg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,l,s]=r?Yc(t,e,n):Yc(e,t,n);if(!(l>=a))return[];const c=l-a+1,p=new Array(c);if(r)if(s<0)for(let d=0;d<c;++d)p[d]=(l-d)/-s;else for(let d=0;d<c;++d)p[d]=(l-d)*s;else if(s<0)for(let d=0;d<c;++d)p[d]=(a+d)/-s;else for(let d=0;d<c;++d)p[d]=(a+d)*s;return p}function Xg(e,t,n){return t=+t,e=+e,n=+n,Yc(e,t,n)[2]}function Zg(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Xg(t,e,n):Xg(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function NA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function V_(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?q_:U6(a);r>n;){if(r-n>600){const p=r-n+1,d=t-n+1,h=Math.log(p),v=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*v*(p-v)/p)*(d-p/2<0?-1:1),S=Math.max(n,Math.floor(t-d*v/p+x)),T=Math.min(r,Math.floor(t+(p-d)*v/p+x));V_(e,t,S,T,a)}const l=e[t];let s=n,c=r;for(cs(e,n,t),a(e[r],l)>0&&cs(e,n,r);s<c;){for(cs(e,s,c),++s,--c;a(e[s],l)<0;)++s;for(;a(e[c],l)>0;)--c}a(e[n],l)===0?cs(e,n,c):(++c,cs(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function cs(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function z6(e,t,n){if(e=Float64Array.from(D6(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return RA(e);if(t>=1)return NA(e);var r,a=(r-1)*t,l=Math.floor(a),s=NA(V_(e,l).subarray(0,l+1)),c=RA(e.subarray(l+1));return s+(c-s)*(a-l)}}function $6(e,t,n=B_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,l=Math.floor(a),s=+n(e[l],l,e),c=+n(e[l+1],l+1,e);return s+(c-s)*(a-l)}}function G6(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(a);++r<a;)l[r]=e+r*n;return l}function tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ti(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qg=Symbol("implicit");function ny(){var e=new MA,t=[],n=[],r=Qg;function a(l){let s=e.get(l);if(s===void 0){if(r!==Qg)return r;e.set(l,s=t.push(l)-1)}return n[s%n.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new MA;for(const s of l)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return ny(t,n).unknown(r)},tr.apply(a,arguments),a}function ry(){var e=ny().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,l,s,c=!1,p=0,d=0,h=.5;delete e.unknown;function v(){var x=t().length,S=a<r,T=S?a:r,C=S?r:a;l=(C-T)/Math.max(1,x-p+d*2),c&&(l=Math.floor(l)),T+=(C-T-l*(x-p))*h,s=l*(1-p),c&&(T=Math.round(T),s=Math.round(s));var E=G6(x).map(function(_){return T+l*_});return n(S?E.reverse():E)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,v()):[r,a]},e.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,c=!0,v()},e.bandwidth=function(){return s},e.step=function(){return l},e.round=function(x){return arguments.length?(c=!!x,v()):c},e.padding=function(x){return arguments.length?(p=Math.min(1,d=+x),v()):p},e.paddingInner=function(x){return arguments.length?(p=Math.min(1,x),v()):p},e.paddingOuter=function(x){return arguments.length?(d=+x,v()):d},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),v()):h},e.copy=function(){return ry(t(),[r,a]).round(c).paddingInner(p).paddingOuter(d).align(h)},tr.apply(v(),arguments)}function z_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return z_(t())},e}function F6(){return z_(ry.apply(null,arguments).paddingInner(1))}function iy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ks(){}var As=.7,Kc=1/As,ko="\\s*([+-]?\\d+)\\s*",ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H6=/^#([0-9a-f]{3,8})$/,j6=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),Y6=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),K6=new RegExp(`^rgba\\(${ko},${ko},${ko},${ws}\\)$`),J6=new RegExp(`^rgba\\(${br},${br},${br},${ws}\\)$`),W6=new RegExp(`^hsl\\(${ws},${br},${br}\\)$`),X6=new RegExp(`^hsla\\(${ws},${br},${br},${ws}\\)$`),PA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iy(ks,Ms,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DA,formatHex:DA,formatHex8:Z6,formatHsl:Q6,formatRgb:OA,toString:OA});function DA(){return this.rgb().formatHex()}function Z6(){return this.rgb().formatHex8()}function Q6(){return G_(this).formatHsl()}function OA(){return this.rgb().formatRgb()}function Ms(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IA(t):n===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?hc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?hc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=j6.exec(e))?new hn(t[1],t[2],t[3],1):(t=Y6.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=K6.exec(e))?hc(t[1],t[2],t[3],t[4]):(t=J6.exec(e))?hc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=W6.exec(e))?UA(t[1],t[2]/100,t[3]/100,1):(t=X6.exec(e))?UA(t[1],t[2]/100,t[3]/100,t[4]):PA.hasOwnProperty(e)?IA(PA[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function IA(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function hc(e,t,n,r){return r<=0&&(e=t=n=NaN),new hn(e,t,n,r)}function e5(e){return e instanceof ks||(e=Ms(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function ev(e,t,n,r){return arguments.length===1?e5(e):new hn(e,t,n,r??1)}function hn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}iy(hn,ev,$_(ks,{brighter(e){return e=e==null?Kc:Math.pow(Kc,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?As:Math.pow(As,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(ba(this.r),ba(this.g),ba(this.b),Jc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kA,formatHex:kA,formatHex8:t5,formatRgb:LA,toString:LA}));function kA(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}`}function t5(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}${ha((isNaN(this.opacity)?1:this.opacity)*255)}`}function LA(){const e=Jc(this.opacity);return`${e===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${e===1?")":`, ${e})`}`}function Jc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ha(e){return e=ba(e),(e<16?"0":"")+e.toString(16)}function UA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sr(e,t,n,r)}function G_(e){if(e instanceof sr)return new sr(e.h,e.s,e.l,e.opacity);if(e instanceof ks||(e=Ms(e)),!e)return new sr;if(e instanceof sr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),l=Math.max(t,n,r),s=NaN,c=l-a,p=(l+a)/2;return c?(t===l?s=(n-r)/c+(n<r)*6:n===l?s=(r-t)/c+2:s=(t-n)/c+4,c/=p<.5?l+a:2-l-a,s*=60):c=p>0&&p<1?0:s,new sr(s,c,p,e.opacity)}function n5(e,t,n,r){return arguments.length===1?G_(e):new sr(e,t,n,r??1)}function sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}iy(sr,n5,$_(ks,{brighter(e){return e=e==null?Kc:Math.pow(Kc,e),new sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?As:Math.pow(As,e),new sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new hn(Bh(e>=240?e-240:e+120,a,r),Bh(e,a,r),Bh(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new sr(BA(this.h),gc(this.s),gc(this.l),Jc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jc(this.opacity);return`${e===1?"hsl(":"hsla("}${BA(this.h)}, ${gc(this.s)*100}%, ${gc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BA(e){return e=(e||0)%360,e<0?e+360:e}function gc(e){return Math.max(0,Math.min(1,e||0))}function Bh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ay=e=>()=>e;function r5(e,t){return function(n){return e+n*t}}function i5(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function a5(e){return(e=+e)==1?F_:function(t,n){return n-t?i5(t,n,e):ay(isNaN(t)?n:t)}}function F_(e,t){var n=t-e;return n?r5(e,n):ay(isNaN(e)?t:e)}const qA=function e(t){var n=a5(t);function r(a,l){var s=n((a=ev(a)).r,(l=ev(l)).r),c=n(a.g,l.g),p=n(a.b,l.b),d=F_(a.opacity,l.opacity);return function(h){return a.r=s(h),a.g=c(h),a.b=p(h),a.opacity=d(h),a+""}}return r.gamma=e,r}(1);function o5(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=e[a]*(1-l)+t[a]*l;return r}}function l5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function s5(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),l=new Array(n),s;for(s=0;s<r;++s)a[s]=el(e[s],t[s]);for(;s<n;++s)l[s]=t[s];return function(c){for(s=0;s<r;++s)l[s]=a[s](c);return l}}function u5(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function c5(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=el(e[a],t[a]):r[a]=t[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var tv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qh=new RegExp(tv.source,"g");function f5(e){return function(){return e}}function d5(e){return function(t){return e(t)+""}}function m5(e,t){var n=tv.lastIndex=qh.lastIndex=0,r,a,l,s=-1,c=[],p=[];for(e=e+"",t=t+"";(r=tv.exec(e))&&(a=qh.exec(t));)(l=a.index)>n&&(l=t.slice(n,l),c[s]?c[s]+=l:c[++s]=l),(r=r[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,p.push({i:s,x:Wc(r,a)})),n=qh.lastIndex;return n<t.length&&(l=t.slice(n),c[s]?c[s]+=l:c[++s]=l),c.length<2?p[0]?d5(p[0].x):f5(t):(t=p.length,function(d){for(var h=0,v;h<t;++h)c[(v=p[h]).i]=v.x(d);return c.join("")})}function el(e,t){var n=typeof t,r;return t==null||n==="boolean"?ay(t):(n==="number"?Wc:n==="string"?(r=Ms(t))?(t=r,qA):m5:t instanceof Ms?qA:t instanceof Date?u5:l5(t)?o5:Array.isArray(t)?s5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?c5:Wc)(e,t)}function oy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function p5(e,t){t===void 0&&(t=e,e=el);for(var n=0,r=t.length-1,a=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(a,a=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return l[c](s-c)}}function h5(e){return function(){return e}}function Xc(e){return+e}var VA=[0,1];function on(e){return e}function nv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:h5(isNaN(t)?NaN:.5)}function g5(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function v5(e,t,n){var r=e[0],a=e[1],l=t[0],s=t[1];return a<r?(r=nv(a,r),l=n(s,l)):(r=nv(r,a),l=n(l,s)),function(c){return l(r(c))}}function y5(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),l=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=nv(e[s],e[s+1]),l[s]=n(t[s],t[s+1]);return function(c){var p=Is(e,c,1,r)-1;return l[p](a[p](c))}}function Ls(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lf(){var e=VA,t=VA,n=el,r,a,l,s=on,c,p,d;function h(){var x=Math.min(e.length,t.length);return s!==on&&(s=g5(e[0],e[x-1])),c=x>2?y5:v5,p=d=null,v}function v(x){return x==null||isNaN(x=+x)?l:(p||(p=c(e.map(r),t,n)))(r(s(x)))}return v.invert=function(x){return s(a((d||(d=c(t,e.map(r),Wc)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,Xc),h()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),n=oy,h()},v.clamp=function(x){return arguments.length?(s=x?!0:on,h()):s!==on},v.interpolate=function(x){return arguments.length?(n=x,h()):n},v.unknown=function(x){return arguments.length?(l=x,v):l},function(x,S){return r=x,a=S,h()}}function ly(){return Lf()(on,on)}function x5(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vo(e){return e=Zc(Math.abs(e)),e?e[1]:NaN}function b5(e,t){return function(n,r){for(var a=n.length,l=[],s=0,c=e[0],p=0;a>0&&c>0&&(p+c+1>r&&(c=Math.max(1,r-p)),l.push(n.substring(a-=c,a+c)),!((p+=c+1)>r));)c=e[s=(s+1)%e.length];return l.reverse().join(t)}}function S5(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var T5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _s(e){if(!(t=T5.exec(e)))throw new Error("invalid format: "+e);var t;return new sy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_s.prototype=sy.prototype;function sy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C5(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var H_;function E5(e,t){var n=Zc(e,t);if(!n)return e+"";var r=n[0],a=n[1],l=a-(H_=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return l===s?r:l>s?r+new Array(l-s+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Zc(e,Math.max(0,t+l-1))[0]}function zA(e,t){var n=Zc(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const $A={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:x5,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zA(e*100,t),r:zA,s:E5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GA(e){return e}var FA=Array.prototype.map,HA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function A5(e){var t=e.grouping===void 0||e.thousands===void 0?GA:b5(FA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?GA:S5(FA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function d(v){v=_s(v);var x=v.fill,S=v.align,T=v.sign,C=v.symbol,E=v.zero,_=v.width,R=v.comma,N=v.precision,O=v.trim,D=v.type;D==="n"?(R=!0,D="g"):$A[D]||(N===void 0&&(N=12),O=!0,D="g"),(E||x==="0"&&S==="=")&&(E=!0,x="0",S="=");var k=C==="$"?n:C==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",B=C==="$"?r:/[%p]/.test(D)?s:"",V=$A[D],z=/[defgprs%]/.test(D);N=N===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function te($){var K=k,de=B,Ce,ve,F;if(D==="c")de=V($)+de,$="";else{$=+$;var ne=$<0||1/$<0;if($=isNaN($)?p:V(Math.abs($),N),O&&($=C5($)),ne&&+$==0&&T!=="+"&&(ne=!1),K=(ne?T==="("?T:c:T==="-"||T==="("?"":T)+K,de=(D==="s"?HA[8+H_/3]:"")+de+(ne&&T==="("?")":""),z){for(Ce=-1,ve=$.length;++Ce<ve;)if(F=$.charCodeAt(Ce),48>F||F>57){de=(F===46?a+$.slice(Ce+1):$.slice(Ce))+de,$=$.slice(0,Ce);break}}}R&&!E&&($=t($,1/0));var fe=K.length+$.length+de.length,Te=fe<_?new Array(_-fe+1).join(x):"";switch(R&&E&&($=t(Te+$,Te.length?_-de.length:1/0),Te=""),S){case"<":$=K+$+de+Te;break;case"=":$=K+Te+$+de;break;case"^":$=Te.slice(0,fe=Te.length>>1)+K+$+de+Te.slice(fe);break;default:$=Te+K+$+de;break}return l($)}return te.toString=function(){return v+""},te}function h(v,x){var S=d((v=_s(v),v.type="f",v)),T=Math.max(-8,Math.min(8,Math.floor(Vo(x)/3)))*3,C=Math.pow(10,-T),E=HA[8+T/3];return function(_){return S(C*_)+E}}return{format:d,formatPrefix:h}}var vc,uy,j_;w5({thousands:",",grouping:[3],currency:["$",""]});function w5(e){return vc=A5(e),uy=vc.format,j_=vc.formatPrefix,vc}function M5(e){return Math.max(0,-Vo(Math.abs(e)))}function _5(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vo(t)/3)))*3-Vo(Math.abs(e)))}function N5(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vo(t)-Vo(e))+1}function Y_(e,t,n,r){var a=Zg(e,t,n),l;switch(r=_s(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=_5(a,s))&&(r.precision=l),j_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=N5(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=M5(a))&&(r.precision=l-(r.type==="%")*2);break}}return uy(r)}function Li(e){var t=e.domain;return e.ticks=function(n){var r=t();return Wg(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Y_(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,l=r.length-1,s=r[a],c=r[l],p,d,h=10;for(c<s&&(d=s,s=c,c=d,d=a,a=l,l=d);h-- >0;){if(d=Xg(s,c,n),d===p)return r[a]=s,r[l]=c,t(r);if(d>0)s=Math.floor(s/d)*d,c=Math.ceil(c/d)*d;else if(d<0)s=Math.ceil(s*d)/d,c=Math.floor(c*d)/d;else break;p=d}return e},e}function K_(){var e=ly();return e.copy=function(){return Ls(e,K_())},tr.apply(e,arguments),Li(e)}function J_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Xc),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return J_(e).unknown(t)},e=arguments.length?Array.from(e,Xc):[0,1],Li(n)}function W_(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],l=e[r],s;return l<a&&(s=n,n=r,r=s,s=a,a=l,l=s),e[n]=t.floor(a),e[r]=t.ceil(l),e}function jA(e){return Math.log(e)}function YA(e){return Math.exp(e)}function R5(e){return-Math.log(-e)}function P5(e){return-Math.exp(-e)}function D5(e){return isFinite(e)?+("1e"+e):e<0?0:e}function O5(e){return e===10?D5:e===Math.E?Math.exp:t=>Math.pow(e,t)}function I5(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KA(e){return(t,n)=>-e(-t,n)}function cy(e){const t=e(jA,YA),n=t.domain;let r=10,a,l;function s(){return a=I5(r),l=O5(r),n()[0]<0?(a=KA(a),l=KA(l),e(R5,P5)):e(jA,YA),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const p=n();let d=p[0],h=p[p.length-1];const v=h<d;v&&([d,h]=[h,d]);let x=a(d),S=a(h),T,C;const E=c==null?10:+c;let _=[];if(!(r%1)&&S-x<E){if(x=Math.floor(x),S=Math.ceil(S),d>0){for(;x<=S;++x)for(T=1;T<r;++T)if(C=x<0?T/l(-x):T*l(x),!(C<d)){if(C>h)break;_.push(C)}}else for(;x<=S;++x)for(T=r-1;T>=1;--T)if(C=x>0?T/l(-x):T*l(x),!(C<d)){if(C>h)break;_.push(C)}_.length*2<E&&(_=Wg(d,h,E))}else _=Wg(x,S,Math.min(S-x,E)).map(l);return v?_.reverse():_},t.tickFormat=(c,p)=>{if(c==null&&(c=10),p==null&&(p=r===10?"s":","),typeof p!="function"&&(!(r%1)&&(p=_s(p)).precision==null&&(p.trim=!0),p=uy(p)),c===1/0)return p;const d=Math.max(1,r*c/t.ticks().length);return h=>{let v=h/l(Math.round(a(h)));return v*r<r-.5&&(v*=r),v<=d?p(h):""}},t.nice=()=>n(W_(n(),{floor:c=>l(Math.floor(a(c))),ceil:c=>l(Math.ceil(a(c)))})),t}function X_(){const e=cy(Lf()).domain([1,10]);return e.copy=()=>Ls(e,X_()).base(e.base()),tr.apply(e,arguments),e}function JA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function WA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fy(e){var t=1,n=e(JA(t),WA(t));return n.constant=function(r){return arguments.length?e(JA(t=+r),WA(t)):t},Li(n)}function Z_(){var e=fy(Lf());return e.copy=function(){return Ls(e,Z_()).constant(e.constant())},tr.apply(e,arguments)}function XA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function k5(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function L5(e){return e<0?-e*e:e*e}function dy(e){var t=e(on,on),n=1;function r(){return n===1?e(on,on):n===.5?e(k5,L5):e(XA(n),XA(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Li(t)}function my(){var e=dy(Lf());return e.copy=function(){return Ls(e,my()).exponent(e.exponent())},tr.apply(e,arguments),e}function U5(){return my.apply(null,arguments).exponent(.5)}function ZA(e){return Math.sign(e)*e*e}function B5(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Q_(){var e=ly(),t=[0,1],n=!1,r;function a(l){var s=B5(e(l));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(l){return e.invert(ZA(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,Xc)).map(ZA)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return Q_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},tr.apply(a,arguments),Li(a)}function eN(){var e=[],t=[],n=[],r;function a(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=$6(e,s/c);return l}function l(s){return s==null||isNaN(s=+s)?r:t[Is(n,s)]}return l.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},l.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Pi),a()},l.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},l.unknown=function(s){return arguments.length?(r=s,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return eN().domain(e).range(t).unknown(r)},tr.apply(l,arguments)}function tN(){var e=0,t=1,n=1,r=[.5],a=[0,1],l;function s(p){return p!=null&&p<=p?a[Is(r,p,0,n)]:l}function c(){var p=-1;for(r=new Array(n);++p<n;)r[p]=((p+1)*t-(p-n)*e)/(n+1);return s}return s.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,c()):[e,t]},s.range=function(p){return arguments.length?(n=(a=Array.from(p)).length-1,c()):a.slice()},s.invertExtent=function(p){var d=a.indexOf(p);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(p){return arguments.length&&(l=p),s},s.thresholds=function(){return r.slice()},s.copy=function(){return tN().domain([e,t]).range(a).unknown(l)},tr.apply(Li(s),arguments)}function nN(){var e=[.5],t=[0,1],n,r=1;function a(l){return l!=null&&l<=l?t[Is(e,l,0,r)]:n}return a.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var s=t.indexOf(l);return[e[s-1],e[s]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return nN().domain(e).range(t).unknown(n)},tr.apply(a,arguments)}const Vh=new Date,zh=new Date;function Nt(e,t,n,r){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const s=a(l),c=a.ceil(l);return l-s<c-l?s:c},a.offset=(l,s)=>(t(l=new Date(+l),s==null?1:Math.floor(s)),l),a.range=(l,s,c)=>{const p=[];if(l=a.ceil(l),c=c==null?1:Math.floor(c),!(l<s)||!(c>0))return p;let d;do p.push(d=new Date(+l)),t(l,c),e(l);while(d<l&&l<s);return p},a.filter=l=>Nt(s=>{if(s>=s)for(;e(s),!l(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!l(s););else for(;--c>=0;)for(;t(s,1),!l(s););}),n&&(a.count=(l,s)=>(Vh.setTime(+l),zh.setTime(+s),e(Vh),e(zh),Math.floor(n(Vh,zh))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?s=>r(s)%l===0:s=>a.count(0,s)%l===0):a)),a}const Qc=Nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Qc);Qc.range;const Gr=1e3,Xn=Gr*60,Fr=Xn*60,Jr=Fr*24,py=Jr*7,QA=Jr*30,$h=Jr*365,ga=Nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCSeconds());ga.range;const hy=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gr)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getMinutes());hy.range;const gy=Nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getUTCMinutes());gy.range;const vy=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gr-e.getMinutes()*Xn)},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getHours());vy.range;const yy=Nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getUTCHours());yy.range;const Us=Nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/Jr,e=>e.getDate()-1);Us.range;const Uf=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jr,e=>e.getUTCDate()-1);Uf.range;const rN=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jr,e=>Math.floor(e/Jr));rN.range;function Oa(e){return Nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/py)}const Bf=Oa(0),ef=Oa(1),q5=Oa(2),V5=Oa(3),zo=Oa(4),z5=Oa(5),$5=Oa(6);Bf.range;ef.range;q5.range;V5.range;zo.range;z5.range;$5.range;function Ia(e){return Nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/py)}const qf=Ia(0),tf=Ia(1),G5=Ia(2),F5=Ia(3),$o=Ia(4),H5=Ia(5),j5=Ia(6);qf.range;tf.range;G5.range;F5.range;$o.range;H5.range;j5.range;const xy=Nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xy.range;const by=Nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());by.range;const Wr=Nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Wr.range;const Xr=Nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xr.range;function iN(e,t,n,r,a,l){const s=[[ga,1,Gr],[ga,5,5*Gr],[ga,15,15*Gr],[ga,30,30*Gr],[l,1,Xn],[l,5,5*Xn],[l,15,15*Xn],[l,30,30*Xn],[a,1,Fr],[a,3,3*Fr],[a,6,6*Fr],[a,12,12*Fr],[r,1,Jr],[r,2,2*Jr],[n,1,py],[t,1,QA],[t,3,3*QA],[e,1,$h]];function c(d,h,v){const x=h<d;x&&([d,h]=[h,d]);const S=v&&typeof v.range=="function"?v:p(d,h,v),T=S?S.range(d,+h+1):[];return x?T.reverse():T}function p(d,h,v){const x=Math.abs(h-d)/v,S=ty(([,,E])=>E).right(s,x);if(S===s.length)return e.every(Zg(d/$h,h/$h,v));if(S===0)return Qc.every(Math.max(Zg(d,h,v),1));const[T,C]=s[x/s[S-1][2]<s[S][2]/x?S-1:S];return T.every(C)}return[c,p]}const[Y5,K5]=iN(Xr,by,qf,rN,yy,gy),[J5,W5]=iN(Wr,xy,Bf,Us,vy,hy);function Gh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fs(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function X5(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,l=e.days,s=e.shortDays,c=e.months,p=e.shortMonths,d=ds(a),h=ms(a),v=ds(l),x=ms(l),S=ds(s),T=ms(s),C=ds(c),E=ms(c),_=ds(p),R=ms(p),N={a:ne,A:fe,b:Te,B:L,c:null,d:aw,e:aw,f:b8,g:R8,G:D8,H:v8,I:y8,j:x8,L:aN,m:S8,M:T8,p:W,q:Q,Q:sw,s:uw,S:C8,u:E8,U:A8,V:w8,w:M8,W:_8,x:null,X:null,y:N8,Y:P8,Z:O8,"%":lw},O={a:oe,A:ye,b:_e,B:we,c:null,d:ow,e:ow,f:U8,g:Y8,G:J8,H:I8,I:k8,j:L8,L:lN,m:B8,M:q8,p:At,q:We,Q:sw,s:uw,S:V8,u:z8,U:$8,V:G8,w:F8,W:H8,x:null,X:null,y:j8,Y:K8,Z:W8,"%":lw},D={a:te,A:$,b:K,B:de,c:Ce,d:rw,e:rw,f:m8,g:nw,G:tw,H:iw,I:iw,j:u8,L:d8,m:s8,M:c8,p:z,q:l8,Q:h8,s:g8,S:f8,u:n8,U:r8,V:i8,w:t8,W:a8,x:ve,X:F,y:nw,Y:tw,Z:o8,"%":p8};N.x=k(n,N),N.X=k(r,N),N.c=k(t,N),O.x=k(n,O),O.X=k(r,O),O.c=k(t,O);function k(se,Re){return function(Pe){var re=[],ut=-1,Ve=0,Dt=se.length,Ot,xt,zi;for(Pe instanceof Date||(Pe=new Date(+Pe));++ut<Dt;)se.charCodeAt(ut)===37&&(re.push(se.slice(Ve,ut)),(xt=ew[Ot=se.charAt(++ut)])!=null?Ot=se.charAt(++ut):xt=Ot==="e"?" ":"0",(zi=Re[Ot])&&(Ot=zi(Pe,xt)),re.push(Ot),Ve=ut+1);return re.push(se.slice(Ve,ut)),re.join("")}}function B(se,Re){return function(Pe){var re=fs(1900,void 0,1),ut=V(re,se,Pe+="",0),Ve,Dt;if(ut!=Pe.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Re&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ve=Fh(fs(re.y,0,1)),Dt=Ve.getUTCDay(),Ve=Dt>4||Dt===0?tf.ceil(Ve):tf(Ve),Ve=Uf.offset(Ve,(re.V-1)*7),re.y=Ve.getUTCFullYear(),re.m=Ve.getUTCMonth(),re.d=Ve.getUTCDate()+(re.w+6)%7):(Ve=Gh(fs(re.y,0,1)),Dt=Ve.getDay(),Ve=Dt>4||Dt===0?ef.ceil(Ve):ef(Ve),Ve=Us.offset(Ve,(re.V-1)*7),re.y=Ve.getFullYear(),re.m=Ve.getMonth(),re.d=Ve.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Dt="Z"in re?Fh(fs(re.y,0,1)).getUTCDay():Gh(fs(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Dt+5)%7:re.w+re.U*7-(Dt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Fh(re)):Gh(re)}}function V(se,Re,Pe,re){for(var ut=0,Ve=Re.length,Dt=Pe.length,Ot,xt;ut<Ve;){if(re>=Dt)return-1;if(Ot=Re.charCodeAt(ut++),Ot===37){if(Ot=Re.charAt(ut++),xt=D[Ot in ew?Re.charAt(ut++):Ot],!xt||(re=xt(se,Pe,re))<0)return-1}else if(Ot!=Pe.charCodeAt(re++))return-1}return re}function z(se,Re,Pe){var re=d.exec(Re.slice(Pe));return re?(se.p=h.get(re[0].toLowerCase()),Pe+re[0].length):-1}function te(se,Re,Pe){var re=S.exec(Re.slice(Pe));return re?(se.w=T.get(re[0].toLowerCase()),Pe+re[0].length):-1}function $(se,Re,Pe){var re=v.exec(Re.slice(Pe));return re?(se.w=x.get(re[0].toLowerCase()),Pe+re[0].length):-1}function K(se,Re,Pe){var re=_.exec(Re.slice(Pe));return re?(se.m=R.get(re[0].toLowerCase()),Pe+re[0].length):-1}function de(se,Re,Pe){var re=C.exec(Re.slice(Pe));return re?(se.m=E.get(re[0].toLowerCase()),Pe+re[0].length):-1}function Ce(se,Re,Pe){return V(se,t,Re,Pe)}function ve(se,Re,Pe){return V(se,n,Re,Pe)}function F(se,Re,Pe){return V(se,r,Re,Pe)}function ne(se){return s[se.getDay()]}function fe(se){return l[se.getDay()]}function Te(se){return p[se.getMonth()]}function L(se){return c[se.getMonth()]}function W(se){return a[+(se.getHours()>=12)]}function Q(se){return 1+~~(se.getMonth()/3)}function oe(se){return s[se.getUTCDay()]}function ye(se){return l[se.getUTCDay()]}function _e(se){return p[se.getUTCMonth()]}function we(se){return c[se.getUTCMonth()]}function At(se){return a[+(se.getUTCHours()>=12)]}function We(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Re=k(se+="",N);return Re.toString=function(){return se},Re},parse:function(se){var Re=B(se+="",!1);return Re.toString=function(){return se},Re},utcFormat:function(se){var Re=k(se+="",O);return Re.toString=function(){return se},Re},utcParse:function(se){var Re=B(se+="",!0);return Re.toString=function(){return se},Re}}}var ew={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,Z5=/^%/,Q5=/[\\^$*+?|[\]().{}]/g;function $e(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(t)+a:a)}function e8(e){return e.replace(Q5,"\\$&")}function ds(e){return new RegExp("^(?:"+e.map(e8).join("|")+")","i")}function ms(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function t8(e,t,n){var r=Gt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function n8(e,t,n){var r=Gt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function r8(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function i8(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function a8(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function tw(e,t,n){var r=Gt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function nw(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function o8(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function l8(e,t,n){var r=Gt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function s8(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rw(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function u8(e,t,n){var r=Gt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function iw(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function c8(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function f8(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function d8(e,t,n){var r=Gt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function m8(e,t,n){var r=Gt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function p8(e,t,n){var r=Z5.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function h8(e,t,n){var r=Gt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function g8(e,t,n){var r=Gt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function aw(e,t){return $e(e.getDate(),t,2)}function v8(e,t){return $e(e.getHours(),t,2)}function y8(e,t){return $e(e.getHours()%12||12,t,2)}function x8(e,t){return $e(1+Us.count(Wr(e),e),t,3)}function aN(e,t){return $e(e.getMilliseconds(),t,3)}function b8(e,t){return aN(e,t)+"000"}function S8(e,t){return $e(e.getMonth()+1,t,2)}function T8(e,t){return $e(e.getMinutes(),t,2)}function C8(e,t){return $e(e.getSeconds(),t,2)}function E8(e){var t=e.getDay();return t===0?7:t}function A8(e,t){return $e(Bf.count(Wr(e)-1,e),t,2)}function oN(e){var t=e.getDay();return t>=4||t===0?zo(e):zo.ceil(e)}function w8(e,t){return e=oN(e),$e(zo.count(Wr(e),e)+(Wr(e).getDay()===4),t,2)}function M8(e){return e.getDay()}function _8(e,t){return $e(ef.count(Wr(e)-1,e),t,2)}function N8(e,t){return $e(e.getFullYear()%100,t,2)}function R8(e,t){return e=oN(e),$e(e.getFullYear()%100,t,2)}function P8(e,t){return $e(e.getFullYear()%1e4,t,4)}function D8(e,t){var n=e.getDay();return e=n>=4||n===0?zo(e):zo.ceil(e),$e(e.getFullYear()%1e4,t,4)}function O8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$e(t/60|0,"0",2)+$e(t%60,"0",2)}function ow(e,t){return $e(e.getUTCDate(),t,2)}function I8(e,t){return $e(e.getUTCHours(),t,2)}function k8(e,t){return $e(e.getUTCHours()%12||12,t,2)}function L8(e,t){return $e(1+Uf.count(Xr(e),e),t,3)}function lN(e,t){return $e(e.getUTCMilliseconds(),t,3)}function U8(e,t){return lN(e,t)+"000"}function B8(e,t){return $e(e.getUTCMonth()+1,t,2)}function q8(e,t){return $e(e.getUTCMinutes(),t,2)}function V8(e,t){return $e(e.getUTCSeconds(),t,2)}function z8(e){var t=e.getUTCDay();return t===0?7:t}function $8(e,t){return $e(qf.count(Xr(e)-1,e),t,2)}function sN(e){var t=e.getUTCDay();return t>=4||t===0?$o(e):$o.ceil(e)}function G8(e,t){return e=sN(e),$e($o.count(Xr(e),e)+(Xr(e).getUTCDay()===4),t,2)}function F8(e){return e.getUTCDay()}function H8(e,t){return $e(tf.count(Xr(e)-1,e),t,2)}function j8(e,t){return $e(e.getUTCFullYear()%100,t,2)}function Y8(e,t){return e=sN(e),$e(e.getUTCFullYear()%100,t,2)}function K8(e,t){return $e(e.getUTCFullYear()%1e4,t,4)}function J8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?$o(e):$o.ceil(e),$e(e.getUTCFullYear()%1e4,t,4)}function W8(){return"+0000"}function lw(){return"%"}function sw(e){return+e}function uw(e){return Math.floor(+e/1e3)}var Mo,uN,cN;X8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function X8(e){return Mo=X5(e),uN=Mo.format,Mo.parse,cN=Mo.utcFormat,Mo.utcParse,Mo}function Z8(e){return new Date(e)}function Q8(e){return e instanceof Date?+e:+new Date(+e)}function Sy(e,t,n,r,a,l,s,c,p,d){var h=ly(),v=h.invert,x=h.domain,S=d(".%L"),T=d(":%S"),C=d("%I:%M"),E=d("%I %p"),_=d("%a %d"),R=d("%b %d"),N=d("%B"),O=d("%Y");function D(k){return(p(k)<k?S:c(k)<k?T:s(k)<k?C:l(k)<k?E:r(k)<k?a(k)<k?_:R:n(k)<k?N:O)(k)}return h.invert=function(k){return new Date(v(k))},h.domain=function(k){return arguments.length?x(Array.from(k,Q8)):x().map(Z8)},h.ticks=function(k){var B=x();return e(B[0],B[B.length-1],k??10)},h.tickFormat=function(k,B){return B==null?D:d(B)},h.nice=function(k){var B=x();return(!k||typeof k.range!="function")&&(k=t(B[0],B[B.length-1],k??10)),k?x(W_(B,k)):h},h.copy=function(){return Ls(h,Sy(e,t,n,r,a,l,s,c,p,d))},h}function ej(){return tr.apply(Sy(J5,W5,Wr,xy,Bf,Us,vy,hy,ga,uN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tj(){return tr.apply(Sy(Y5,K5,Xr,by,qf,Uf,yy,gy,ga,cN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vf(){var e=0,t=1,n,r,a,l,s=on,c=!1,p;function d(v){return v==null||isNaN(v=+v)?p:s(a===0?.5:(v=(l(v)-n)*a,c?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([e,t]=v,n=l(e=+e),r=l(t=+t),a=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(v){return arguments.length?(c=!!v,d):c},d.interpolator=function(v){return arguments.length?(s=v,d):s};function h(v){return function(x){var S,T;return arguments.length?([S,T]=x,s=v(S,T),d):[s(0),s(1)]}}return d.range=h(el),d.rangeRound=h(oy),d.unknown=function(v){return arguments.length?(p=v,d):p},function(v){return l=v,n=v(e),r=v(t),a=n===r?0:1/(r-n),d}}function Ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fN(){var e=Li(Vf()(on));return e.copy=function(){return Ui(e,fN())},ti.apply(e,arguments)}function dN(){var e=cy(Vf()).domain([1,10]);return e.copy=function(){return Ui(e,dN()).base(e.base())},ti.apply(e,arguments)}function mN(){var e=fy(Vf());return e.copy=function(){return Ui(e,mN()).constant(e.constant())},ti.apply(e,arguments)}function Ty(){var e=dy(Vf());return e.copy=function(){return Ui(e,Ty()).exponent(e.exponent())},ti.apply(e,arguments)}function nj(){return Ty.apply(null,arguments).exponent(.5)}function pN(){var e=[],t=on;function n(r){if(r!=null&&!isNaN(r=+r))return t((Is(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Pi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>z6(e,l/r))},n.copy=function(){return pN(t).domain(e)},ti.apply(n,arguments)}function zf(){var e=0,t=.5,n=1,r=1,a,l,s,c,p,d=on,h,v=!1,x;function S(C){return isNaN(C=+C)?x:(C=.5+((C=+h(C))-l)*(r*C<r*l?c:p),d(v?Math.max(0,Math.min(1,C)):C))}S.domain=function(C){return arguments.length?([e,t,n]=C,a=h(e=+e),l=h(t=+t),s=h(n=+n),c=a===l?0:.5/(l-a),p=l===s?0:.5/(s-l),r=l<a?-1:1,S):[e,t,n]},S.clamp=function(C){return arguments.length?(v=!!C,S):v},S.interpolator=function(C){return arguments.length?(d=C,S):d};function T(C){return function(E){var _,R,N;return arguments.length?([_,R,N]=E,d=p5(C,[_,R,N]),S):[d(0),d(.5),d(1)]}}return S.range=T(el),S.rangeRound=T(oy),S.unknown=function(C){return arguments.length?(x=C,S):x},function(C){return h=C,a=C(e),l=C(t),s=C(n),c=a===l?0:.5/(l-a),p=l===s?0:.5/(s-l),r=l<a?-1:1,S}}function hN(){var e=Li(zf()(on));return e.copy=function(){return Ui(e,hN())},ti.apply(e,arguments)}function gN(){var e=cy(zf()).domain([.1,1,10]);return e.copy=function(){return Ui(e,gN()).base(e.base())},ti.apply(e,arguments)}function vN(){var e=fy(zf());return e.copy=function(){return Ui(e,vN()).constant(e.constant())},ti.apply(e,arguments)}function Cy(){var e=dy(zf());return e.copy=function(){return Ui(e,Cy()).exponent(e.exponent())},ti.apply(e,arguments)}function rj(){return Cy.apply(null,arguments).exponent(.5)}const gs=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ry,scaleDiverging:hN,scaleDivergingLog:gN,scaleDivergingPow:Cy,scaleDivergingSqrt:rj,scaleDivergingSymlog:vN,scaleIdentity:J_,scaleImplicit:Qg,scaleLinear:K_,scaleLog:X_,scaleOrdinal:ny,scalePoint:F6,scalePow:my,scaleQuantile:eN,scaleQuantize:tN,scaleRadial:Q_,scaleSequential:fN,scaleSequentialLog:dN,scaleSequentialPow:Ty,scaleSequentialQuantile:pN,scaleSequentialSqrt:nj,scaleSequentialSymlog:mN,scaleSqrt:U5,scaleSymlog:Z_,scaleThreshold:nN,scaleTime:ej,scaleUtc:tj,tickFormat:Y_},Symbol.toStringTag,{value:"Module"}));var Bi=e=>e.chartData,ij=J([Bi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$f=(e,t,n,r)=>r?ij(e):Bi(e);function Go(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(In(t)&&In(n))return!0}return!1}function cw(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function aj(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,l;if(In(n))a=n;else if(typeof n=="function")return;if(In(r))l=r;else if(typeof r=="function")return;var s=[a,l];if(Go(s))return s}}function oj(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Go(r))return cw(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,l]=e,s,c;if(a==="auto")t!=null&&(s=Math.min(...t));else if(he(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&XE.test(a)){var p=XE.exec(a);if(p==null||t==null)s=void 0;else{var d=+p[1];s=t[0]-d}}else s=t==null?void 0:t[0];if(l==="auto")t!=null&&(c=Math.max(...t));else if(he(l))c=l;else if(typeof l=="function")try{t!=null&&(c=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&ZE.test(l)){var h=ZE.exec(l);if(h==null||t==null)c=void 0;else{var v=+h[1];c=t[1]+v}}else c=t==null?void 0:t[1];var x=[s,c];if(Go(x))return t==null?x:cw(x,t,n)}}}var tl=1e9,lj={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ay,ft=!0,er="[DecimalError] ",Sa=er+"Invalid argument: ",Ey=er+"Exponent out of range: ",nl=Math.floor,fa=Math.pow,sj=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn,Vt=1e7,lt=7,yN=9007199254740991,nf=nl(yN/lt),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*lt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return Yr(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return nt(Yr(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return Tt(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,a=r.precision,l=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Nn))throw Error(er+"NaN");if(n.s<1)throw Error(er+(n.s?"NaN":"-Infinity"));return n.eq(Nn)?new r(0):(ft=!1,t=Yr(Ns(n,l),Ns(e,l),l),ft=!0,nt(t,a))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SN(t,e):xN(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(er+"NaN");return n.s?(ft=!1,t=Yr(n,e,0,1).times(e),ft=!0,n.minus(t)):nt(new r(n),a)};me.naturalExponential=me.exp=function(){return bN(this)};me.naturalLogarithm=me.ln=function(){return Ns(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xN(t,e):SN(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Sa+e);if(t=Tt(a)+1,r=a.d.length-1,n=r*lt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,a,l,s,c=this,p=c.constructor;if(c.s<1){if(!c.s)return new p(0);throw Error(er+"NaN")}for(e=Tt(c),ft=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=xr(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=nl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new p(t)):r=new p(a.toString()),n=p.precision,a=s=n+3;;)if(l=r,r=l.plus(Yr(c,l,s+2)).times(.5),xr(l.d).slice(0,s)===(t=xr(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(nt(l,n+1,0),l.times(l).eq(c)){r=l;break}}else if(t!="9999")break;s+=4}return ft=!0,nt(r,n)};me.times=me.mul=function(e){var t,n,r,a,l,s,c,p,d,h=this,v=h.constructor,x=h.d,S=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,n=h.e+e.e,p=x.length,d=S.length,p<d&&(l=x,x=S,S=l,s=p,p=d,d=s),l=[],s=p+d,r=s;r--;)l.push(0);for(r=d;--r>=0;){for(t=0,a=p+r;a>r;)c=l[a]+S[r]*x[a-r-1]+t,l[a--]=c%Vt|0,t=c/Vt|0;l[a]=(l[a]+t)%Vt|0}for(;!l[--s];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,ft?nt(e,v.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Tr(e,0,tl),t===void 0?t=r.rounding:Tr(t,0,8),nt(n,e+Tt(n)+1,t))};me.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=wa(r,!0):(Tr(e,0,tl),t===void 0?t=a.rounding:Tr(t,0,8),r=nt(new a(r),e+1,t),n=wa(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?wa(a):(Tr(e,0,tl),t===void 0?t=l.rounding:Tr(t,0,8),r=nt(new l(a),e+Tt(a)+1,t),n=wa(r.abs(),!1,e+Tt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return nt(new t(e),Tt(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,a,l,s,c=this,p=c.constructor,d=12,h=+(e=new p(e));if(!e.s)return new p(Nn);if(c=new p(c),!c.s){if(e.s<1)throw Error(er+"Infinity");return c}if(c.eq(Nn))return c;if(r=p.precision,e.eq(Nn))return nt(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,l=c.s,s){if((n=h<0?-h:h)<=yN){for(a=new p(Nn),t=Math.ceil(r/lt+4),ft=!1;n%2&&(a=a.times(c),dw(a.d,t)),n=nl(n/2),n!==0;)c=c.times(c),dw(c.d,t);return ft=!0,e.s<0?new p(Nn).div(a):nt(a,r)}}else if(l<0)throw Error(er+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,ft=!1,a=e.times(Ns(c,r+d)),ft=!0,a=bN(a),a.s=l,a};me.toPrecision=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?(n=Tt(a),r=wa(a,n<=l.toExpNeg||n>=l.toExpPos)):(Tr(e,1,tl),t===void 0?t=l.rounding:Tr(t,0,8),a=nt(new l(a),e,t),n=Tt(a),r=wa(a,e<=n||n<=l.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Tr(e,1,tl),t===void 0?t=r.rounding:Tr(t,0,8)),nt(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tt(e),n=e.constructor;return wa(e,t<=n.toExpNeg||t>=n.toExpPos)};function xN(e,t){var n,r,a,l,s,c,p,d,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ft?nt(t,v):t;if(p=e.d,d=t.d,s=e.e,a=t.e,p=p.slice(),l=s-a,l){for(l<0?(r=p,l=-l,c=d.length):(r=d,a=s,c=p.length),s=Math.ceil(v/lt),c=s>c?s+1:c+1,l>c&&(l=c,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(c=p.length,l=d.length,c-l<0&&(l=c,r=d,d=p,p=r),n=0;l;)n=(p[--l]=p[l]+d[l]+n)/Vt|0,p[l]%=Vt;for(n&&(p.unshift(n),++a),c=p.length;p[--c]==0;)p.pop();return t.d=p,t.e=a,ft?nt(t,v):t}function Tr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Sa+e)}function xr(e){var t,n,r,a=e.length-1,l="",s=e[0];if(a>0){for(l+=s,t=1;t<a;t++)r=e[t]+"",n=lt-r.length,n&&(l+=Ni(n)),l+=r;s=e[t],r=s+"",n=lt-r.length,n&&(l+=Ni(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return l+s}var Yr=function(){function e(r,a){var l,s=0,c=r.length;for(r=r.slice();c--;)l=r[c]*a+s,r[c]=l%Vt|0,s=l/Vt|0;return s&&r.unshift(s),r}function t(r,a,l,s){var c,p;if(l!=s)p=l>s?1:-1;else for(c=p=0;c<l;c++)if(r[c]!=a[c]){p=r[c]>a[c]?1:-1;break}return p}function n(r,a,l){for(var s=0;l--;)r[l]-=s,s=r[l]<a[l]?1:0,r[l]=s*Vt+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,s){var c,p,d,h,v,x,S,T,C,E,_,R,N,O,D,k,B,V,z=r.constructor,te=r.s==a.s?1:-1,$=r.d,K=a.d;if(!r.s)return new z(r);if(!a.s)throw Error(er+"Division by zero");for(p=r.e-a.e,B=K.length,D=$.length,S=new z(te),T=S.d=[],d=0;K[d]==($[d]||0);)++d;if(K[d]>($[d]||0)&&--p,l==null?R=l=z.precision:s?R=l+(Tt(r)-Tt(a))+1:R=l,R<0)return new z(0);if(R=R/lt+2|0,d=0,B==1)for(h=0,K=K[0],R++;(d<D||h)&&R--;d++)N=h*Vt+($[d]||0),T[d]=N/K|0,h=N%K|0;else{for(h=Vt/(K[0]+1)|0,h>1&&(K=e(K,h),$=e($,h),B=K.length,D=$.length),O=B,C=$.slice(0,B),E=C.length;E<B;)C[E++]=0;V=K.slice(),V.unshift(0),k=K[0],K[1]>=Vt/2&&++k;do h=0,c=t(K,C,B,E),c<0?(_=C[0],B!=E&&(_=_*Vt+(C[1]||0)),h=_/k|0,h>1?(h>=Vt&&(h=Vt-1),v=e(K,h),x=v.length,E=C.length,c=t(v,C,x,E),c==1&&(h--,n(v,B<x?V:K,x))):(h==0&&(c=h=1),v=K.slice()),x=v.length,x<E&&v.unshift(0),n(C,v,E),c==-1&&(E=C.length,c=t(K,C,B,E),c<1&&(h++,n(C,B<E?V:K,E))),E=C.length):c===0&&(h++,C=[0]),T[d++]=h,c&&C[0]?C[E++]=$[O]||0:(C=[$[O]],E=1);while((O++<D||C[0]!==void 0)&&R--)}return T[0]||T.shift(),S.e=p,nt(S,s?l+Tt(S)+1:l)}}();function bN(e,t){var n,r,a,l,s,c,p=0,d=0,h=e.constructor,v=h.precision;if(Tt(e)>16)throw Error(Ey+Tt(e));if(!e.s)return new h(Nn);for(ft=!1,c=v,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log(fa(2,d))/Math.LN10*2+5|0,c+=r,n=a=l=new h(Nn),h.precision=c;;){if(a=nt(a.times(e),c),n=n.times(++p),s=l.plus(Yr(a,n,c)),xr(s.d).slice(0,c)===xr(l.d).slice(0,c)){for(;d--;)l=nt(l.times(l),c);return h.precision=v,t==null?(ft=!0,nt(l,v)):l}l=s}}function Tt(e){for(var t=e.e*lt,n=e.d[0];n>=10;n/=10)t++;return t}function Hh(e,t,n){if(t>e.LN10.sd())throw ft=!0,n&&(e.precision=n),Error(er+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Ni(e){for(var t="";e--;)t+="0";return t}function Ns(e,t){var n,r,a,l,s,c,p,d,h,v=1,x=10,S=e,T=S.d,C=S.constructor,E=C.precision;if(S.s<1)throw Error(er+(S.s?"NaN":"-Infinity"));if(S.eq(Nn))return new C(0);if(t==null?(ft=!1,d=E):d=t,S.eq(10))return t==null&&(ft=!0),Hh(C,d);if(d+=x,C.precision=d,n=xr(T),r=n.charAt(0),l=Tt(S),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)S=S.times(e),n=xr(S.d),r=n.charAt(0),v++;l=Tt(S),r>1?(S=new C("0."+n),l++):S=new C(r+"."+n.slice(1))}else return p=Hh(C,d+2,E).times(l+""),S=Ns(new C(r+"."+n.slice(1)),d-x).plus(p),C.precision=E,t==null?(ft=!0,nt(S,E)):S;for(c=s=S=Yr(S.minus(Nn),S.plus(Nn),d),h=nt(S.times(S),d),a=3;;){if(s=nt(s.times(h),d),p=c.plus(Yr(s,new C(a),d)),xr(p.d).slice(0,d)===xr(c.d).slice(0,d))return c=c.times(2),l!==0&&(c=c.plus(Hh(C,d+2,E).times(l+""))),c=Yr(c,new C(v),d),C.precision=E,t==null?(ft=!0,nt(c,E)):c;c=p,a+=2}}function fw(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=nl(n/lt),e.d=[],r=(n+1)%lt,n<0&&(r+=lt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=lt;r<a;)e.d.push(+t.slice(r,r+=lt));t=t.slice(r),r=lt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),ft&&(e.e>nf||e.e<-nf))throw Error(Ey+n)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,n){var r,a,l,s,c,p,d,h,v=e.d;for(s=1,l=v[0];l>=10;l/=10)s++;if(r=t-s,r<0)r+=lt,a=t,d=v[h=0];else{if(h=Math.ceil((r+1)/lt),l=v.length,h>=l)return e;for(d=l=v[h],s=1;l>=10;l/=10)s++;r%=lt,a=r-lt+s}if(n!==void 0&&(l=fa(10,s-a-1),c=d/l%10|0,p=t<0||v[h+1]!==void 0||d%l,p=n<4?(c||p)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||p||n==6&&(r>0?a>0?d/fa(10,s-a):0:v[h-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return p?(l=Tt(e),v.length=1,t=t-l-1,v[0]=fa(10,(lt-t%lt)%lt),e.e=nl(-t/lt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=h,l=1,h--):(v.length=h+1,l=fa(10,lt-r),v[h]=a>0?(d/fa(10,s-a)%fa(10,a)|0)*l:0),p)for(;;)if(h==0){(v[0]+=l)==Vt&&(v[0]=1,++e.e);break}else{if(v[h]+=l,v[h]!=Vt)break;v[h--]=0,l=1}for(r=v.length;v[--r]===0;)v.pop();if(ft&&(e.e>nf||e.e<-nf))throw Error(Ey+Tt(e));return e}function SN(e,t){var n,r,a,l,s,c,p,d,h,v,x=e.constructor,S=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ft?nt(t,S):t;if(p=e.d,v=t.d,r=t.e,d=e.e,p=p.slice(),s=d-r,s){for(h=s<0,h?(n=p,s=-s,c=v.length):(n=v,r=d,c=p.length),a=Math.max(Math.ceil(S/lt),c)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=p.length,c=v.length,h=a<c,h&&(c=a),a=0;a<c;a++)if(p[a]!=v[a]){h=p[a]<v[a];break}s=0}for(h&&(n=p,p=v,v=n,t.s=-t.s),c=p.length,a=v.length-c;a>0;--a)p[c++]=0;for(a=v.length;a>s;){if(p[--a]<v[a]){for(l=a;l&&p[--l]===0;)p[l]=Vt-1;--p[l],p[a]+=Vt}p[a]-=v[a]}for(;p[--c]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(t.d=p,t.e=r,ft?nt(t,S):t):new x(0)}function wa(e,t,n){var r,a=Tt(e),l=xr(e.d),s=l.length;return t?(n&&(r=n-s)>0?l=l.charAt(0)+"."+l.slice(1)+Ni(r):s>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Ni(-a-1)+l,n&&(r=n-s)>0&&(l+=Ni(r))):a>=s?(l+=Ni(a+1-s),n&&(r=n-a-1)>0&&(l=l+"."+Ni(r))):((r=a+1)<s&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(l+="."),l+=Ni(r))),e.s<0?"-"+l:l}function dw(e,t){if(e.length>t)return e.length=t,!0}function TN(e){var t,n,r;function a(l){var s=this;if(!(s instanceof a))return new a(l);if(s.constructor=a,l instanceof a){s.s=l.s,s.e=l.e,s.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Sa+l);if(l>0)s.s=1;else if(l<0)l=-l,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(l===~~l&&l<1e7){s.e=0,s.d=[l];return}return fw(s,l.toString())}else if(typeof l!="string")throw Error(Sa+l);if(l.charCodeAt(0)===45?(l=l.slice(1),s.s=-1):s.s=1,sj.test(l))fw(s,l);else throw Error(Sa+l)}if(a.prototype=me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=TN,a.config=a.set=uj,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function uj(e){if(!e||typeof e!="object")throw Error(er+"Object expected");var t,n,r,a=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(nl(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Sa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Sa+n+": "+r);return this}var Ay=TN(lj);Nn=new Ay(1);const Ke=Ay;var cj=e=>e,CN={},EN=e=>e===CN,mw=e=>function t(){return arguments.length===0||arguments.length===1&&EN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},AN=(e,t)=>e===1?t:mw(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=r.filter(s=>s!==CN).length;return l>=e?t(...r):AN(e-l,mw(function(){for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];var d=r.map(h=>EN(h)?c.shift():h);return t(...d,...c)}))}),Gf=e=>AN(e.length,e),rv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fj=Gf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),dj=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return cj;var a=n.reverse(),l=a[0],s=a.slice(1);return function(){return s.reduce((c,p)=>p(c),l(...arguments))}},iv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),wN=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t&&a.every((s,c)=>{var p;return s===((p=t)===null||p===void 0?void 0:p[c])})||(t=a,n=e(...a)),n}};function MN(e){var t;return e===0?t=1:t=Math.floor(new Ke(e).abs().log(10).toNumber())+1,t}function _N(e,t,n){for(var r=new Ke(e),a=0,l=[];r.lt(t)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}Gf((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});Gf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Gf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var NN=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},RN=(e,t,n)=>{if(e.lte(0))return new Ke(0);var r=MN(e.toNumber()),a=new Ke(10).pow(r),l=e.div(a),s=r!==1?.05:.1,c=new Ke(Math.ceil(l.div(s).toNumber())).add(n).mul(s),p=c.mul(a);return t?new Ke(p.toNumber()):new Ke(Math.ceil(p.toNumber()))},mj=(e,t,n)=>{var r=new Ke(1),a=new Ke(e);if(!a.isint()&&n){var l=Math.abs(e);l<1?(r=new Ke(10).pow(MN(e)-1),a=new Ke(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new Ke(Math.floor(e)))}else e===0?a=new Ke(Math.floor((t-1)/2)):n||(a=new Ke(Math.floor(e)));var s=Math.floor((t-1)/2),c=dj(fj(p=>a.add(new Ke(p-s).mul(r)).toNumber()),rv);return c(0,t)},PN=function(t,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var s=RN(new Ke(n).sub(t).div(r-1),a,l),c;t<=0&&n>=0?c=new Ke(0):(c=new Ke(t).add(n).div(2),c=c.sub(new Ke(c).mod(s)));var p=Math.ceil(c.sub(t).div(s).toNumber()),d=Math.ceil(new Ke(n).sub(c).div(s).toNumber()),h=p+d+1;return h>r?PN(t,n,r,a,l+1):(h<r&&(d=n>0?d+(r-h):d,p=n>0?p:p+(r-h)),{step:s,tickMin:c.sub(new Ke(p).mul(s)),tickMax:c.add(new Ke(d).mul(s))})};function pj(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[s,c]=NN([t,n]);if(s===-1/0||c===1/0){var p=c===1/0?[s,...rv(0,r-1).map(()=>1/0)]:[...rv(0,r-1).map(()=>-1/0),c];return t>n?iv(p):p}if(s===c)return mj(s,r,a);var{step:d,tickMin:h,tickMax:v}=PN(s,c,l,a,0),x=_N(h,v.add(new Ke(.1).mul(d)),d);return t>n?iv(x):x}function hj(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,s]=NN([n,r]);if(l===-1/0||s===1/0)return[n,r];if(l===s)return[l];var c=Math.max(t,2),p=RN(new Ke(s).sub(l).div(c-1),a,0),d=[..._N(new Ke(l),new Ke(s),p),s];return a===!1&&(d=d.map(h=>Math.round(h))),n>r?iv(d):d}var gj=wN(pj),vj=wN(hj),DN=e=>e.rootProps.maxBarSize,yj=e=>e.rootProps.barGap,ON=e=>e.rootProps.barCategoryGap,xj=e=>e.rootProps.barSize,Ff=e=>e.rootProps.stackOffset,wy=e=>e.options.chartName,My=e=>e.rootProps.syncId,IN=e=>e.rootProps.syncMethod,_y=e=>e.options.eventEmitter,zr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bj={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zr.angleAxisId,includeHidden:!1,name:void 0,reversed:zr.reversed,scale:zr.scale,tick:zr.tick,tickCount:void 0,ticks:void 0,type:zr.type,unit:void 0},Sj={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mn.scale,tick:Mn.tick,tickCount:Mn.tickCount,ticks:void 0,type:Mn.type,unit:void 0},Tj={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Cj={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mn.scale,tick:Mn.tick,tickCount:Mn.tickCount,ticks:void 0,type:"category",unit:void 0},Ny=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Tj:bj,Ry=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Cj:Sj,jf=e=>e.polarOptions,Py=J([Qr,ei,$t],pF),kN=J([jf,Py],(e,t)=>{if(e!=null)return ur(e.innerRadius,t,0)}),LN=J([jf,Py],(e,t)=>{if(e!=null)return ur(e.outerRadius,t,t*.8)}),Ej=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},UN=J([jf],Ej);J([Ny,UN],Hf);var BN=J([Py,kN,LN],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});J([Ry,BN],Hf);var qN=J([Fe,jf,kN,LN,Qr,ei],(e,t,n,r,a,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:p,endAngle:d}=t;return{cx:ur(s,a,a/2),cy:ur(c,l,l/2),innerRadius:n,outerRadius:r,startAngle:p,endAngle:d,clockWise:!1}}}),Et=(e,t)=>t,Yf=(e,t,n)=>n;function Dy(e){return e==null?void 0:e.id}var Rt=e=>{var t=Fe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rl=e=>e.tooltip.settings.axisId,Pt=e=>{var t=Rt(e),n=rl(e);return Bs(e,t,n)};function VN(e,t,n){var{chartData:r=[]}=t,a=n==null?void 0:n.dataKey,l=new Map;return e.forEach(s=>{var c,p=(c=s.data)!==null&&c!==void 0?c:r;if(!(p==null||p.length===0)){var d=Dy(s);p.forEach((h,v)=>{var x=a==null?v:String(zt(h,a,null)),S=zt(h,s.dataKey,0),T;l.has(x)?T=l.get(x):T={},Object.assign(T,{[d]:S}),l.set(x,T)})}}),Array.from(l.values())}function Kf(e){return e.stackId!=null&&e.dataKey!=null}function pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(n),!0).forEach(function(r){Aj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aj(e,t,n){return(t=wj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wj(e){var t=Mj(e,"string");return typeof t=="symbol"?t:t+""}function Mj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av=[0,"auto"],An={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ni=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??An},wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:av,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pf},qi=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??wn},_j={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Oy=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??_j},vn=(e,t,n)=>{switch(t){case"xAxis":return ni(e,n);case"yAxis":return qi(e,n);case"zAxis":return Oy(e,n);case"angleAxis":return Ny(e,n);case"radiusAxis":return Ry(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Nj=(e,t,n)=>{switch(t){case"xAxis":return ni(e,n);case"yAxis":return qi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Bs=(e,t,n)=>{switch(t){case"xAxis":return ni(e,n);case"yAxis":return qi(e,n);case"angleAxis":return Ny(e,n);case"radiusAxis":return Ry(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zN=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $N(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Jf=e=>e.graphicalItems.cartesianItems,Rj=J([Et,Yf],$N),GN=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),qs=J([Jf,vn,Rj],GN),FN=J([qs],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Kf)),HN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jN=J([qs],HN),YN=e=>e.map(t=>t.data).filter(Boolean).flat(1),Pj=J([qs],YN),KN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Iy=J([Pj,$f],KN),JN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:zt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:zt(a,r)}))):e.map(r=>({value:r})),Wf=J([Iy,vn,qs],JN);function WN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ka(e){return e.filter(t=>Sr(t)||t instanceof Date).map(Number).filter(t=>Pn(t)===!1)}function Dj(e,t,n){return!n||typeof t!="number"||Pn(t)?[]:n.length?ka(n.flatMap(r=>{var a=zt(e,r.dataKey),l,s;if(Array.isArray(a)?[l,s]=a:l=s=a,!(!In(l)||!In(s)))return[t-l,t+s]})):[]}var Oj=J([FN,$f,Pt],VN),XN=(e,t,n)=>{var r={},a=t.reduce((l,s)=>(s.stackId==null||(l[s.stackId]==null&&(l[s.stackId]=[]),l[s.stackId].push(s)),l),r);return Object.fromEntries(Object.entries(a).map(l=>{var[s,c]=l,p=c.map(Dy);return[s,{stackedData:RF(e,p,n),graphicalItems:c}]}))},ov=J([Oj,FN,Ff],XN),ZN=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(n!=="zAxis"){var l=kF(e,r,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Ij=J([ov,Bi,Et],ZN),QN=(e,t,n,r,a)=>n.length>0?e.flatMap(l=>n.flatMap(s=>{var c,p,d=(c=r[s.id])===null||c===void 0?void 0:c.filter(v=>WN(a,v)),h=zt(l,(p=t.dataKey)!==null&&p!==void 0?p:s.dataKey);return{value:h,errorDomain:Dj(l,h,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:zt(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),Xf=e=>e.errorBars,eR=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>WN(n,r));J([jN,Xf,Et],eR);var kj=J([Iy,vn,jN,Xf,Et],QN);function Lj(e){var{value:t}=e;if(Sr(t)||t instanceof Date)return t}var hw=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ka(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Uj=(e,t,n)=>{var r=e.map(Lj).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&dM(r))?U_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ky=e=>{var t;if(e==null||!("domain"in e))return av;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ka(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:av},af=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),s=Math.min(...l),c=Math.max(...l);return[s,c]}},tR=e=>e.referenceElements.dots,il=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Bj=J([tR,Et,Yf],il),nR=e=>e.referenceElements.areas,qj=J([nR,Et,Yf],il),rR=e=>e.referenceElements.lines,Vj=J([rR,Et,Yf],il),iR=(e,t)=>{var n=ka(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zj=J(Bj,Et,iR),aR=(e,t)=>{var n=ka(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$j=J([qj,Et],aR),oR=(e,t)=>{var n=ka(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gj=J(Vj,Et,oR),Fj=J(zj,Gj,$j,(e,t,n)=>af(e,n,t)),Hj=J([vn],ky),lR=(e,t,n,r,a,l,s)=>{var c=aj(t,e.allowDataOverflow);if(c!=null)return c;var p=l==="vertical"&&s==="xAxis"||l==="horizontal"&&s==="yAxis",d=p?af(n,a,hw(r)):af(a,hw(r));return oj(t,d,e.allowDataOverflow)},jj=J([vn,Hj,Ij,kj,Fj,Fe,Et],lR),Yj=[0,1],sR=(e,t,n,r,a,l,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:p}=e,d=ki(t,l);return d&&c==null?U_(0,n.length):p==="category"?Uj(r,e,d):a==="expand"?Yj:s}},Ly=J([vn,Fe,Iy,Wf,Ff,Et,jj],sR),uR=(e,t,n,r,a)=>{if(e!=null){var{scale:l,type:s}=e;if(l==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof l=="string"){var c="scale".concat(Ds(l));return c in gs?c:"point"}}},Vs=J([vn,Fe,zN,wy,Et],uR);function Kj(e){if(e!=null){if(e in gs)return gs[e]();var t="scale".concat(Ds(e));if(t in gs)return gs[t]()}}function Uy(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=Kj(t);if(a!=null){var l=a.domain(n).range(r);return AF(l),l}}}var cR=(e,t,n)=>{var r=ky(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Go(e))return gj(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Go(e))return vj(e,t.tickCount,t.allowDecimals)}},By=J([Ly,Bs,Vs],cR),fR=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Go(t)&&Array.isArray(n)&&n.length>0){var a=t[0],l=n[0],s=t[1],c=n[n.length-1];return[Math.min(a,l),Math.max(s,c)]}return t},Jj=J([vn,Ly,By,Et],fR),Wj=J(Wf,vn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ka(e.map(c=>c.value))).sort((c,p)=>c-p);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var s=r[l+1]-r[l];n=Math.min(n,s)}return n/a}}),dR=J(Wj,Fe,ON,$t,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!In(e))return 0;var l=t==="vertical"?r.height:r.width;if(a==="gap")return e*l/2;if(a==="no-gap"){var s=ur(n,e*l),c=e*l/2;return c-s-(c-s)/l*s}return 0}),Xj=(e,t)=>{var n=ni(e,t);return n==null||typeof n.padding!="string"?0:dR(e,"xAxis",t,n.padding)},Zj=(e,t)=>{var n=qi(e,t);return n==null||typeof n.padding!="string"?0:dR(e,"yAxis",t,n.padding)},Qj=J(ni,Xj,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),eY=J(qi,Zj,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),tY=J([$t,Qj,Of,Df,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),nY=J([$t,Fe,eY,Of,Df,(e,t,n)=>n],(e,t,n,r,a,l)=>{var{padding:s}=a;return l?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),zs=(e,t,n,r)=>{var a;switch(t){case"xAxis":return tY(e,n,r);case"yAxis":return nY(e,n,r);case"zAxis":return(a=Oy(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return UN(e);case"radiusAxis":return BN(e,n);default:return}},mR=J([vn,zs],Hf),al=J([vn,Vs,Jj,mR],Uy);J([qs,Xf,Et],eR);function pR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Zf=(e,t)=>t,Qf=(e,t,n)=>n,rY=J(Kv,Zf,Qf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pR)),iY=J(Jv,Zf,Qf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pR)),hR=(e,t)=>({width:e.width,height:t.height}),aY=(e,t)=>{var n=typeof t.width=="number"?t.width:Pf;return{width:n,height:e.height}},gR=J($t,ni,hR),oY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},lY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},sY=J(ei,$t,rY,Zf,Qf,(e,t,n,r,a)=>{var l={},s;return n.forEach(c=>{var p=hR(t,c);s==null&&(s=oY(t,r,e));var d=r==="top"&&!a||r==="bottom"&&a;l[c.id]=s-Number(d)*p.height,s+=(d?-1:1)*p.height}),l}),uY=J(Qr,$t,iY,Zf,Qf,(e,t,n,r,a)=>{var l={},s;return n.forEach(c=>{var p=aY(t,c);s==null&&(s=lY(t,r,e));var d=r==="left"&&!a||r==="right"&&a;l[c.id]=s-Number(d)*p.width,s+=(d?-1:1)*p.width}),l}),cY=(e,t)=>{var n=$t(e),r=ni(e,t);if(r!=null){var a=sY(e,r.orientation,r.mirror),l=a[t];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},fY=(e,t)=>{var n=$t(e),r=qi(e,t);if(r!=null){var a=uY(e,r.orientation,r.mirror),l=a[t];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},vR=J($t,qi,(e,t)=>{var n=typeof t.width=="number"?t.width:Pf;return{width:n,height:e.height}}),gw=(e,t,n)=>{switch(t){case"xAxis":return gR(e,n).width;case"yAxis":return vR(e,n).height;default:return}},yR=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:s}=n,c=ki(e,r),p=t.map(d=>d.value);if(s&&c&&l==="category"&&a&&dM(p))return p}},qy=J([Fe,Wf,vn,Et],yR),xR=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,s=ki(e,r);if(s&&(a==="number"||l!=="auto"))return t.map(c=>c.value)}},Vy=J([Fe,Wf,Bs,Et],xR),vw=J([Fe,Nj,Vs,al,qy,Vy,zs,By,Et],(e,t,n,r,a,l,s,c,p)=>{if(t==null)return null;var d=ki(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:l,duplicateDomain:a,isCategorical:d,niceTicks:c,range:s,realScaleType:n,scale:r}}),dY=(e,t,n,r,a,l,s,c,p)=>{if(!(t==null||r==null)){var d=ki(e,p),{type:h,ticks:v,tickCount:x}=t,S=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/S:0;T=p==="angleAxis"&&l!=null&&l.length>=2?pn(l[0]-l[1])*2*T:T;var C=v||a;if(C){var E=C.map((_,R)=>{var N=s?s.indexOf(_):_;return{index:R,coordinate:r(N)+T,value:_,offset:T}});return E.filter(_=>!Pn(_.coordinate))}return d&&c?c.map((_,R)=>({coordinate:r(_)+T,value:_,index:R,offset:T})):r.ticks?r.ticks(x).map(_=>({coordinate:r(_)+T,value:_,offset:T})):r.domain().map((_,R)=>({coordinate:r(_)+T,value:s?s[_]:_,index:R,offset:T}))}},bR=J([Fe,Bs,Vs,al,By,zs,qy,Vy,Et],dY),mY=(e,t,n,r,a,l,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=ki(e,s),{tickCount:p}=t,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?pn(r[0]-r[1])*2*d:d,c&&l?l.map((h,v)=>({coordinate:n(h)+d,value:h,index:v,offset:d})):n.ticks?n.ticks(p).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,v)=>({coordinate:n(h)+d,value:a?a[h]:h,index:v,offset:d}))}},Oi=J([Fe,Bs,al,zs,qy,Vy,Et],mY),Ii=J(vn,al,(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})}),pY=J([vn,Vs,Ly,mR],Uy);J((e,t,n)=>Oy(e,n),pY,(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})});var hY=J([Fe,Kv,Jv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),SR=e=>e.options.defaultTooltipEventType,TR=e=>e.options.validateTooltipEventTypes;function CR(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function zy(e,t){var n=SR(e),r=TR(e);return CR(t,n,r)}function gY(e){return Se(t=>zy(t,e))}var ER=(e,t)=>{var n,r=Number(t);if(!(Pn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},vY=e=>e.tooltip.settings,Ri={active:!1,index:null,dataKey:void 0,coordinate:void 0},yY={itemInteraction:{click:Ri,hover:Ri},axisInteraction:{click:Ri,hover:Ri},keyboardInteraction:Ri,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AR=kn({name:"tooltip",initialState:yY,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=jr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:xY,removeTooltipEntrySettings:bY,setTooltipSettingsState:SY,setActiveMouseOverItemIndex:wR,mouseLeaveItem:TY,mouseLeaveChart:MR,setActiveClickItemIndex:CY,setMouseOverAxisIndex:_R,setMouseClickAxisIndex:EY,setSyncInteraction:lv,setKeyboardInteraction:sv}=AR.actions,AY=AR.reducer;function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(n),!0).forEach(function(r){wY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wY(e,t,n){return(t=MY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function RY(e){return e.index!=null}var NR=(e,t,n,r)=>{if(t==null)return Ri;var a=NY(e,t,n);if(a==null)return Ri;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(RY(a)){if(l)return yc(yc({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return yc(yc({},Ri),{},{coordinate:a.coordinate})},$y=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!In(r))return n;var a=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(a,Math.min(r,l)))},RR=(e,t,n,r,a,l,s,c)=>{if(!(l==null||c==null)){var p=s[0],d=p==null?void 0:c(p.positions,l);if(d!=null)return d;var h=a==null?void 0:a[Number(l)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},PR=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var s;return((s=l.settings)===null||s===void 0?void 0:s.dataKey)===a})},$s=e=>e.options.tooltipPayloadSearcher,ol=e=>e.tooltip;function xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(n),!0).forEach(function(r){PY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PY(e,t,n){return(t=DY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IY(e,t){return e??t}var DR=(e,t,n,r,a,l,s)=>{if(!(t==null||l==null)){var{chartData:c,computedData:p,dataStartIndex:d,dataEndIndex:h}=n,v=[];return e.reduce((x,S)=>{var T,{dataDefinedOnItem:C,settings:E}=S,_=IY(C,c),R=Array.isArray(_)?y_(_,d,h):_,N=(T=E==null?void 0:E.dataKey)!==null&&T!==void 0?T:r==null?void 0:r.dataKey,O=E==null?void 0:E.nameKey,D;if(r!=null&&r.dataKey&&Array.isArray(R)&&!Array.isArray(R[0])&&s==="axis"?D=mM(R,r.dataKey,a):D=l(R,t,p,O),Array.isArray(D))D.forEach(B=>{var V=bw(bw({},E),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});x.push(QE({tooltipEntrySettings:V,dataKey:B.dataKey,payload:B.payload,value:zt(B.payload,B.dataKey),name:B.name}))});else{var k;x.push(QE({tooltipEntrySettings:E,dataKey:N,payload:D,value:zt(D,N),name:(k=zt(D,O))!==null&&k!==void 0?k:E==null?void 0:E.name}))}return x},v)}},Gy=J([Pt,Fe,zN,wy,Rt],uR),kY=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),LY=J([Rt,rl],$N),Gs=J([kY,Pt,LY],GN),UY=J([Gs],e=>e.filter(Kf)),BY=J([Gs],YN),ll=J([BY,Bi],KN),qY=J([UY,Bi,Pt],VN),Fy=J([ll,Pt,Gs],JN),VY=J([Pt],ky),zY=J([Gs],e=>e.filter(Kf)),$Y=J([qY,zY,Ff],XN),GY=J([$Y,Bi,Rt],ZN),FY=J([Gs],HN),HY=J([ll,Pt,FY,Xf,Rt],QN),jY=J([tR,Rt,rl],il),YY=J([jY,Rt],iR),KY=J([nR,Rt,rl],il),JY=J([KY,Rt],aR),WY=J([rR,Rt,rl],il),XY=J([WY,Rt],oR),ZY=J([YY,XY,JY],af),QY=J([Pt,VY,GY,HY,ZY,Fe,Rt],lR),OR=J([Pt,Fe,ll,Fy,Ff,Rt,QY],sR),eK=J([OR,Pt,Gy],cR),tK=J([Pt,OR,eK,Rt],fR),IR=e=>{var t=Rt(e),n=rl(e),r=!1;return zs(e,t,n,r)},kR=J([Pt,IR],Hf),LR=J([Pt,Gy,tK,kR],Uy),nK=J([Fe,Fy,Pt,Rt],yR),rK=J([Fe,Fy,Pt,Rt],xR),iK=(e,t,n,r,a,l,s,c)=>{if(t){var{type:p}=t,d=ki(e,c);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=p==="category"&&r.bandwidth?r.bandwidth()/h:0;return v=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?pn(a[0]-a[1])*2*v:v,d&&s?s.map((x,S)=>({coordinate:r(x)+v,value:x,index:S,offset:v})):r.domain().map((x,S)=>({coordinate:r(x)+v,value:l?l[x]:x,index:S,offset:v}))}}},ri=J([Fe,Pt,Gy,LR,IR,nK,rK,Rt],iK),Hy=J([SR,TR,vY],(e,t,n)=>CR(n.shared,e,t)),UR=e=>e.tooltip.settings.trigger,jy=e=>e.tooltip.settings.defaultIndex,ed=J([ol,Hy,UR,jy],NR),Ma=J([ed,ll],$y),BR=J([ri,Ma],ER),qR=J([ed],e=>{if(e)return e.dataKey}),VR=J([ol,Hy,UR,jy],PR),aK=J([Qr,ei,Fe,$t,ri,jy,VR,$s],RR),oK=J([ed,aK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lK=J([ed],e=>e.active),sK=J([VR,Ma,Bi,Pt,BR,$s,Hy],DR),uK=J([sK],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(n),!0).forEach(function(r){cK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cK(e,t,n){return(t=fK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mK=()=>Se(Pt),pK=()=>{var e=mK(),t=Se(ri),n=Se(LR);return Cs(Tw(Tw({},e),{},{scale:n}),t)},hK=()=>Se(wy),Yy=(e,t)=>t,zR=(e,t,n)=>n,Ky=(e,t,n,r)=>r,gK=J(ri,e=>Cf(e,t=>t.coordinate)),Jy=J([ol,Yy,zR,Ky],NR),$R=J([Jy,ll],$y),vK=(e,t,n)=>{if(t!=null){var r=ol(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},GR=J([ol,Yy,zR,Ky],PR),of=J([Qr,ei,Fe,$t,ri,Ky,GR,$s],RR),yK=J([Jy,of],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),FR=J(ri,$R,ER),xK=J([GR,$R,Bi,Pt,FR,$s,Yy],DR),bK=J([Jy],e=>({isActive:e.active,activeIndex:e.index})),SK=(e,t,n,r,a,l,s,c)=>{if(!(!e||!t||!r||!a||!l)){var p=LF(e.chartX,e.chartY,t,n,c);if(p){var d=BF(p,t),h=CF(d,s,l,r,a),v=UF(t,l,h,p);return{activeIndex:String(h),activeCoordinate:v}}}};function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(null,arguments)}function Cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(n),!0).forEach(function(r){TK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TK(e,t,n){return(t=CK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AK(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:l,layout:s,cursor:c,tooltipEventType:p,chartName:d}=e,h=t,v=n,x=r;if(!c||!h||d!=="ScatterChart"&&p!=="axis")return null;var S,T;if(d==="ScatterChart")S=h,T=qH;else if(d==="BarChart")S=VH(s,h,a,l),T=O_;else if(s==="radial"){var{cx:C,cy:E,radius:_,startAngle:R,endAngle:N}=I_(h);S={cx:C,cy:E,startAngle:R,endAngle:N,innerRadius:_,outerRadius:_},T=L_}else S={points:E6(s,h,a)},T=w_;var O=typeof c=="object"&&"className"in c?c.className:void 0,D=xc(xc(xc(xc({stroke:"#ccc",pointerEvents:"none"},a),S),gt(c,!1)),{},{payload:v,payloadIndex:x,className:Je("recharts-tooltip-cursor",O)});return M.isValidElement(c)?M.cloneElement(c,D):M.createElement(T,D)}function wK(e){var t=pK(),n=C_(),r=If(),a=hK();return M.createElement(AK,uv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var HR=M.createContext(null),MK=()=>M.useContext(HR),jh={exports:{}},Ew;function _K(){return Ew||(Ew=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(p,d,h){this.fn=p,this.context=d,this.once=h||!1}function l(p,d,h,v,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var S=new a(h,v||p,x),T=n?n+d:d;return p._events[T]?p._events[T].fn?p._events[T]=[p._events[T],S]:p._events[T].push(S):(p._events[T]=S,p._eventsCount++),p}function s(p,d){--p._eventsCount===0?p._events=new r:delete p._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,v;if(this._eventsCount===0)return d;for(v in h=this._events)t.call(h,v)&&d.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=n?n+d:d,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,S=v.length,T=new Array(S);x<S;x++)T[x]=v[x].fn;return T},c.prototype.listenerCount=function(d){var h=n?n+d:d,v=this._events[h];return v?v.fn?1:v.length:0},c.prototype.emit=function(d,h,v,x,S,T){var C=n?n+d:d;if(!this._events[C])return!1;var E=this._events[C],_=arguments.length,R,N;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),_){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,v),!0;case 4:return E.fn.call(E.context,h,v,x),!0;case 5:return E.fn.call(E.context,h,v,x,S),!0;case 6:return E.fn.call(E.context,h,v,x,S,T),!0}for(N=1,R=new Array(_-1);N<_;N++)R[N-1]=arguments[N];E.fn.apply(E.context,R)}else{var O=E.length,D;for(N=0;N<O;N++)switch(E[N].once&&this.removeListener(d,E[N].fn,void 0,!0),_){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,h);break;case 3:E[N].fn.call(E[N].context,h,v);break;case 4:E[N].fn.call(E[N].context,h,v,x);break;default:if(!R)for(D=1,R=new Array(_-1);D<_;D++)R[D-1]=arguments[D];E[N].fn.apply(E[N].context,R)}}return!0},c.prototype.on=function(d,h,v){return l(this,d,h,v,!1)},c.prototype.once=function(d,h,v){return l(this,d,h,v,!0)},c.prototype.removeListener=function(d,h,v,x){var S=n?n+d:d;if(!this._events[S])return this;if(!h)return s(this,S),this;var T=this._events[S];if(T.fn)T.fn===h&&(!x||T.once)&&(!v||T.context===v)&&s(this,S);else{for(var C=0,E=[],_=T.length;C<_;C++)(T[C].fn!==h||x&&!T[C].once||v&&T[C].context!==v)&&E.push(T[C]);E.length?this._events[S]=E.length===1?E[0]:E:s(this,S)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}(jh)),jh.exports}var NK=_K();const RK=Cr(NK);var Rs=new RK,cv="recharts.syncEvent.tooltip",Aw="recharts.syncEvent.brush";function jR(e,t){if(t){var n=Number.parseInt(t,10);if(!Pn(n))return e==null?void 0:e[n]}}var PK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},YR=kn({name:"options",initialState:PK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),DK=YR.reducer,{createEventEmitter:OK}=YR.actions;function IK(e){return e.tooltip.syncInteraction}var kK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KR=kn({name:"chartData",initialState:kK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:ww,setDataStartEndIndexes:LK,setComputedData:JZ}=KR.actions,UK=KR.reducer,JR=()=>{};function BK(){var e=Se(My),t=Se(_y),n=Ct(),r=Se(IN),a=Se(ri),l=If(),s=Wv(),c=Se(p=>p.rootProps.className);M.useEffect(()=>{if(e==null)return JR;var p=(d,h,v)=>{if(t!==v&&e===d){if(r==="index"){n(h);return}if(a!=null){var x;if(typeof r=="function"){var S={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=r(a,S);x=a[T]}else r==="value"&&(x=a.find(k=>String(k.value)===h.payload.label));var{coordinate:C}=h.payload;if(x==null||h.payload.active===!1||C==null||s==null){n(lv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:_}=C,R=Math.min(E,s.x+s.width),N=Math.min(_,s.y+s.height),O={x:l==="horizontal"?x.coordinate:R,y:l==="horizontal"?N:x.coordinate},D=lv({active:h.payload.active,coordinate:O,dataKey:h.payload.dataKey,index:String(x.index),label:h.payload.label});n(D)}}};return Rs.on(cv,p),()=>{Rs.off(cv,p)}},[c,n,t,e,r,a,l,s])}function qK(){var e=Se(My),t=Se(_y),n=Ct();M.useEffect(()=>{if(e==null)return JR;var r=(a,l,s)=>{t!==s&&e===a&&n(LK(l))};return Rs.on(Aw,r),()=>{Rs.off(Aw,r)}},[n,t,e])}function VK(){var e=Ct();M.useEffect(()=>{e(OK())},[e]),BK(),qK()}function zK(e,t,n,r,a,l){var s=Se(x=>vK(x,e,t)),c=Se(_y),p=Se(My),d=Se(IN),h=Se(IK),v=h==null?void 0:h.active;M.useEffect(()=>{if(!v&&p!=null&&c!=null){var x=lv({active:l,coordinate:n,dataKey:s,index:a,label:typeof r=="number"?String(r):r});Rs.emit(cv,p,x,c)}},[v,n,s,a,r,c,p,d,l])}function Mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(n),!0).forEach(function(r){$K(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $K(e,t,n){return(t=GK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HK(e){return e.dataKey}function jK(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(vH,t)}var Nw=[],YK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Qo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lf(e){var t=Er(e,YK),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:l,content:s,filterNull:c,isAnimationActive:p,offset:d,payloadUniqBy:h,position:v,reverseDirection:x,useTranslate3d:S,wrapperStyle:T,cursor:C,shared:E,trigger:_,defaultIndex:R,portal:N,axisId:O}=t,D=Ct(),k=typeof R=="number"?String(R):R;M.useEffect(()=>{D(SY({shared:E,trigger:_,axisId:O,active:n,defaultIndex:k}))},[D,E,_,O,n,k]);var B=Wv(),V=A_(),z=gY(E),{activeIndex:te,isActive:$}=Se(_e=>bK(_e,z,_,k)),K=Se(_e=>xK(_e,z,_,k)),de=Se(_e=>FR(_e,z,_,k)),Ce=Se(_e=>yK(_e,z,_,k)),ve=K,F=MK(),ne=n??$,[fe,Te]=YM([ve,ne]),L=z==="axis"?de:void 0;zK(z,_,Ce,L,te,ne);var W=N??F;if(W==null)return null;var Q=ve??Nw;ne||(Q=Nw),c&&Q.length&&(Q=$M(ve.filter(_e=>_e.value!=null&&(_e.hide!==!0||t.includeHidden)),h,HK));var oe=Q.length>0,ye=M.createElement(EH,{allowEscapeViewBox:r,animationDuration:a,animationEasing:l,isAnimationActive:p,active:ne,coordinate:Ce,hasPayload:oe,offset:d,position:v,reverseDirection:x,useTranslate3d:S,viewBox:B,wrapperStyle:T,lastBoundingBox:fe,innerRef:Te,hasPortalFromProps:!!N},jK(s,_w(_w({},t),{},{payload:Q,label:L,active:ne,coordinate:Ce,accessibilityLayer:V})));return M.createElement(M.Fragment,null,vM.createPortal(ye,W),ne&&M.createElement(wK,{cursor:C,tooltipEventType:z,coordinate:Ce,payload:ve,index:te}))}var Yh={},Kh={},Jh={},Rw;function KK(){return Rw||(Rw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:l}={}){let s,c=null;const p=l!=null&&l.includes("leading"),d=l==null||l.includes("trailing"),h=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},v=()=>{d&&h(),C()};let x=null;const S=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,v()},r)},T=()=>{x!==null&&(clearTimeout(x),x=null)},C=()=>{T(),s=void 0,c=null},E=()=>{h()},_=function(...R){if(a!=null&&a.aborted)return;s=this,c=R;const N=x==null;S(),p&&N&&h()};return _.schedule=S,_.cancel=C,_.flush=E,a==null||a.addEventListener("abort",C,{once:!0}),_}e.debounce=t}(Jh)),Jh}var Pw;function JK(){return Pw||(Pw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KK();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:s=!1,trailing:c=!0,maxWait:p}=l,d=Array(2);s&&(d[0]="leading"),c&&(d[1]="trailing");let h,v=null;const x=t.debounce(function(...C){h=r.apply(this,C),v=null},a,{edges:d}),S=function(...C){return p!=null&&(v===null&&(v=Date.now()),Date.now()-v>=p)?(h=r.apply(this,C),v=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,C),h)},T=()=>(x.flush(),h);return S.cancel=x.cancel,S.flush=T,S}e.debounce=n}(Kh)),Kh}var Dw;function WK(){return Dw||(Dw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JK();function n(r,a=0,l={}){const{leading:s=!0,trailing:c=!0}=l;return t.debounce(r,a,{leading:s,maxWait:a,trailing:c})}e.throttle=n}(Yh)),Yh}var Wh,Ow;function XK(){return Ow||(Ow=1,Wh=WK().throttle),Wh}var ZK=XK();const QK=Cr(ZK);var ys=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l]};function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(n),!0).forEach(function(r){e7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e7(e,t,n){return(t=t7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sf=M.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:l="100%",minWidth:s=0,minHeight:c,maxHeight:p,children:d,debounce:h=0,id:v,className:x,onResize:S,style:T={}}=e,C=M.useRef(null),E=M.useRef();E.current=S,M.useImperativeHandle(t,()=>C.current);var[_,R]=M.useState({containerWidth:r.width,containerHeight:r.height}),N=M.useCallback((D,k)=>{R(B=>{var V=Math.round(D),z=Math.round(k);return B.containerWidth===V&&B.containerHeight===z?B:{containerWidth:V,containerHeight:z}})},[]);M.useEffect(()=>{var D=z=>{var te,{width:$,height:K}=z[0].contentRect;N($,K),(te=E.current)===null||te===void 0||te.call(E,$,K)};h>0&&(D=QK(D,h,{trailing:!0,leading:!1}));var k=new ResizeObserver(D),{width:B,height:V}=C.current.getBoundingClientRect();return N(B,V),k.observe(C.current),()=>{k.disconnect()}},[N,h]);var O=M.useMemo(()=>{var{containerWidth:D,containerHeight:k}=_;if(D<0||k<0)return null;ys(ma(a)||ma(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ys(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ma(a)?D:a,V=ma(l)?k:l;return n&&n>0&&(B?V=B/n:V&&(B=V*n),p&&V>p&&(V=p)),ys(B>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,V,a,l,s,c,n),M.Children.map(d,z=>M.cloneElement(z,{width:B,height:V,style:Xh({width:B,height:V},z.props.style)}))},[n,d,l,p,c,s,_,a]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Je("recharts-responsive-container",x),style:Xh(Xh({},T),{},{width:a,height:l,minWidth:s,minHeight:c,maxHeight:p}),ref:C},M.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),td=e=>null;td.displayName="Cell";function r7(e,t,n){return(t=i7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class o7{constructor(t){r7(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=u7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f7={cacheSize:2e3,enableCache:!0},WR=l7({},f7),Lw=new o7(WR.cacheSize),d7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Uw="recharts_measurement_span";function m7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",l=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(s,"|").concat(c)}var Bw=(e,t)=>{try{var n=document.getElementById(Uw);n||(n=document.createElement("span"),n.setAttribute("id",Uw),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,d7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},xs=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qo.isSsr)return{width:0,height:0};if(!WR.enableCache)return Bw(t,n);var r=m7(t,n),a=Lw.get(r);if(a)return a;var l=Bw(t,n);return Lw.set(r,l),l},qw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,h7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},g7=Object.keys(XR),No="NaN";function v7(e,t){return e*XR[t]}class mn{static parse(t){var n,[,r,a]=(n=h7.exec(t))!==null&&n!==void 0?n:[];return new mn(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Pn(t)&&(this.unit=""),n!==""&&!p7.test(n)&&(this.num=NaN,this.unit=""),g7.includes(n)&&(this.num=v7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pn(this.num)}}function ZR(e){if(e.includes(No))return No;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,l]=(n=qw.exec(t))!==null&&n!==void 0?n:[],s=mn.parse(r??""),c=mn.parse(l??""),p=a==="*"?s.multiply(c):s.divide(c);if(p.isNaN())return No;t=t.replace(qw,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,v,x]=(d=Vw.exec(t))!==null&&d!==void 0?d:[],S=mn.parse(h??""),T=mn.parse(x??""),C=v==="+"?S.add(T):S.subtract(T);if(C.isNaN())return No;t=t.replace(Vw,C.toString())}return t}var zw=/\(([^()]*)\)/;function y7(e){for(var t=e,n;(n=zw.exec(t))!=null;){var[,r]=n;t=t.replace(zw,ZR(r))}return t}function x7(e){var t=e.replace(/\s+/g,"");return t=y7(t),t=ZR(t),t}function b7(e){try{return x7(e)}catch{return No}}function Zh(e){var t=b7(e.slice(5,-1));return t===No?"":t}var S7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],T7=["dx","dy","angle","className","breakAll"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(null,arguments)}function $w(e,t){if(e==null)return{};var n,r,a=C7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function C7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QR=/[ \f\n\r\t\v\u2028\u2029]+/,eP=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];st(t)||(n?a=t.toString().split(""):a=t.toString().split(QR));var l=a.map(c=>({word:c,width:xs(c,r).width})),s=n?0:xs("",r).width;return{wordsWithComputedWidth:l,spaceWidth:s}}catch{return null}},E7=(e,t,n,r,a)=>{var{maxLines:l,children:s,style:c,breakAll:p}=e,d=he(l),h=s,v=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce((K,de)=>{var{word:Ce,width:ve}=de,F=K[K.length-1];if(F&&(r==null||a||F.width+ve+n<Number(r)))F.words.push(Ce),F.width+=ve+n;else{var ne={words:[Ce],width:ve};K.push(ne)}return K},[])},x=v(t),S=te=>te.reduce(($,K)=>$.width>K.width?$:K);if(!d||a)return x;var T=x.length>l||S(x).width>Number(r);if(!T)return x;for(var C="",E=te=>{var $=h.slice(0,te),K=eP({breakAll:p,style:c,children:$+C}).wordsWithComputedWidth,de=v(K),Ce=de.length>l||S(de).width>Number(r);return[Ce,de]},_=0,R=h.length-1,N=0,O;_<=R&&N<=h.length-1;){var D=Math.floor((_+R)/2),k=D-1,[B,V]=E(k),[z]=E(D);if(!B&&!z&&(_=D+1),B&&z&&(R=D-1),!B&&z){O=V;break}N++}return O||x},Gw=e=>{var t=st(e)?[]:e.toString().split(QR);return[{words:t}]},A7=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:s}=e;if((t||n)&&!Qo.isSsr){var c,p,d=eP({breakAll:l,children:r,style:a});if(d){var{wordsWithComputedWidth:h,spaceWidth:v}=d;c=h,p=v}else return Gw(r);return E7({breakAll:l,children:r,maxLines:s,style:a},c,p,t,n)}return Gw(r)},Fw="#808080",Wy=M.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:l="0.71em",scaleToFit:s=!1,textAnchor:c="start",verticalAnchor:p="end",fill:d=Fw}=e,h=$w(e,S7),v=M.useMemo(()=>A7({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:x,dy:S,angle:T,className:C,breakAll:E}=h,_=$w(h,T7);if(!Sr(n)||!Sr(r))return null;var R=n+(he(x)?x:0),N=r+(he(S)?S:0),O;switch(p){case"start":O=Zh("calc(".concat(l,")"));break;case"middle":O=Zh("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:O=Zh("calc(".concat(v.length-1," * -").concat(a,")"));break}var D=[];if(s){var k=v[0].width,{width:B}=h;D.push("scale(".concat(he(B)?B/k:1,")"))}return T&&D.push("rotate(".concat(T,", ").concat(R,", ").concat(N,")")),D.length&&(_.transform=D.join(" ")),M.createElement("text",fv({},gt(_,!0),{ref:t,x:R,y:N,className:Je("recharts-text",C),textAnchor:c,fill:d.includes("url")?Fw:d}),v.map((V,z)=>{var te=V.words.join(E?"":" ");return M.createElement("tspan",{x:R,dy:z===0?O:a,key:"".concat(te,"-").concat(z)},te)}))});Wy.displayName="Text";var w7=["offset"],M7=["labelRef"];function Hw(e,t){if(e==null)return{};var n,r,a=_7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){N7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N7(e,t,n){return(t=R7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r.apply(null,arguments)}var D7=e=>{var{value:t,formatter:n}=e,r=st(e.children)?t:e.children;return typeof n=="function"?n(r):r},Xy=e=>e!=null&&typeof e=="function",O7=(e,t)=>{var n=pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},I7=(e,t,n,r)=>{var{position:a,offset:l,className:s}=e,{cx:c,cy:p,innerRadius:d,outerRadius:h,startAngle:v,endAngle:x,clockWise:S}=r,T=(d+h)/2,C=O7(v,x),E=C>=0?1:-1,_,R;a==="insideStart"?(_=v+E*l,R=S):a==="insideEnd"?(_=x-E*l,R=!S):a==="end"&&(_=x+E*l,R=S),R=C<=0?R:!R;var N=Jt(c,p,T,_),O=Jt(c,p,T,_+(R?1:-1)*359),D="M".concat(N.x,",").concat(N.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(R?0:1,`,
    `).concat(O.x,",").concat(O.y),k=st(e.id)?bs("recharts-radial-line-"):e.id;return M.createElement("text",$r({},n,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:k,d:D})),M.createElement("textPath",{xlinkHref:"#".concat(k)},t))},k7=(e,t,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:s,startAngle:c,endAngle:p}=e,d=(c+p)/2;if(n==="outside"){var{x:h,y:v}=Jt(r,a,s+t,d);return{x:h,y:v,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+s)/2,{x:S,y:T}=Jt(r,a,x,d);return{x:S,y:T,textAnchor:"middle",verticalAnchor:"middle"}},L7=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:l,y:s,width:c,height:p}=t,d=p>=0?1:-1,h=d*r,v=d>0?"end":"start",x=d>0?"start":"end",S=c>=0?1:-1,T=S*r,C=S>0?"end":"start",E=S>0?"start":"end";if(a==="top"){var _={x:l+c/2,y:s-d*r,textAnchor:"middle",verticalAnchor:v};return ht(ht({},_),n?{height:Math.max(s-n.y,0),width:c}:{})}if(a==="bottom"){var R={x:l+c/2,y:s+p+h,textAnchor:"middle",verticalAnchor:x};return ht(ht({},R),n?{height:Math.max(n.y+n.height-(s+p),0),width:c}:{})}if(a==="left"){var N={x:l-T,y:s+p/2,textAnchor:C,verticalAnchor:"middle"};return ht(ht({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(a==="right"){var O={x:l+c+T,y:s+p/2,textAnchor:E,verticalAnchor:"middle"};return ht(ht({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var D=n?{width:c,height:p}:{};return a==="insideLeft"?ht({x:l+T,y:s+p/2,textAnchor:E,verticalAnchor:"middle"},D):a==="insideRight"?ht({x:l+c-T,y:s+p/2,textAnchor:C,verticalAnchor:"middle"},D):a==="insideTop"?ht({x:l+c/2,y:s+h,textAnchor:"middle",verticalAnchor:x},D):a==="insideBottom"?ht({x:l+c/2,y:s+p-h,textAnchor:"middle",verticalAnchor:v},D):a==="insideTopLeft"?ht({x:l+T,y:s+h,textAnchor:E,verticalAnchor:x},D):a==="insideTopRight"?ht({x:l+c-T,y:s+h,textAnchor:C,verticalAnchor:x},D):a==="insideBottomLeft"?ht({x:l+T,y:s+p-h,textAnchor:E,verticalAnchor:v},D):a==="insideBottomRight"?ht({x:l+c-T,y:s+p-h,textAnchor:C,verticalAnchor:v},D):a&&typeof a=="object"&&(he(a.x)||ma(a.x))&&(he(a.y)||ma(a.y))?ht({x:l+ur(a.x,c),y:s+ur(a.y,p),textAnchor:"end",verticalAnchor:"end"},D):ht({x:l+c/2,y:s+p/2,textAnchor:"middle",verticalAnchor:"middle"},D)},U7=e=>"cx"in e&&he(e.cx);function _n(e){var{offset:t=5}=e,n=Hw(e,w7),r=ht({offset:t},n),{viewBox:a,position:l,value:s,children:c,content:p,className:d="",textBreakAll:h,labelRef:v}=r,x=Se(qN),S=Wv(),T=l==="center"?S:x??S,C=a||T;if(!C||st(s)&&st(c)&&!M.isValidElement(p)&&typeof p!="function")return null;var E=ht(ht({},r),{},{viewBox:C});if(M.isValidElement(p)){var{labelRef:_}=E,R=Hw(E,M7);return M.cloneElement(p,R)}var N;if(typeof p=="function"){if(N=M.createElement(p,E),M.isValidElement(N))return N}else N=D7(r);var O=U7(C),D=gt(r,!0);if(O&&(l==="insideStart"||l==="insideEnd"||l==="end"))return I7(r,N,D,C);var k=O?k7(C,r.offset,r.position):L7(r,C);return M.createElement(Wy,$r({ref:v,className:Je("recharts-label",d)},D,k,{breakAll:h}),N)}_n.displayName="Label";var tP=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:l,r:s,radius:c,innerRadius:p,outerRadius:d,x:h,y:v,top:x,left:S,width:T,height:C,clockWise:E,labelViewBox:_}=e;if(_)return _;if(he(T)&&he(C)){if(he(h)&&he(v))return{x:h,y:v,width:T,height:C};if(he(x)&&he(S))return{x,y:S,width:T,height:C}}if(he(h)&&he(v))return{x:h,y:v,width:0,height:0};if(he(t)&&he(n))return{cx:t,cy:n,startAngle:a||r||0,endAngle:l||r||0,innerRadius:p||0,outerRadius:d||c||s||0,clockWise:E};if(e.viewBox)return e.viewBox},B7=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?M.createElement(_n,$r({key:"label-implicit"},r)):Sr(e)?M.createElement(_n,$r({key:"label-implicit",value:e},r)):M.isValidElement(e)?e.type===_n?M.cloneElement(e,ht({key:"label-implicit"},r)):M.createElement(_n,$r({key:"label-implicit",content:e},r)):Xy(e)?M.createElement(_n,$r({key:"label-implicit",content:e},r)):e&&typeof e=="object"?M.createElement(_n,$r({},e,{key:"label-implicit"},r)):null},q7=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:a,labelRef:l}=t,s=tP(t),c=Nv(a,_n).map((d,h)=>M.cloneElement(d,{viewBox:n||s,key:"label-".concat(h)}));if(!r)return c;var p=B7(t.label,n||s,l);return[p,...c]};_n.parseViewBox=tP;_n.renderCallByParent=q7;var Qh={},eg={},Yw;function V7(){return Yw||(Yw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(eg)),eg}var tg={},Kw;function z7(){return Kw||(Kw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(tg)),tg}var Jw;function $7(){return Jw||(Jw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7(),n=z7(),r=Uv();function a(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=a}(Qh)),Qh}var ng,Ww;function G7(){return Ww||(Ww=1,ng=$7().last),ng}var F7=G7();const H7=Cr(F7);var j7=["valueAccessor"],Y7=["data","dataKey","clockWise","id","textBreakAll"];function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uf.apply(null,arguments)}function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(r){K7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K7(e,t,n){return(t=J7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=W7(e,"string");return typeof t=="symbol"?t:t+""}function W7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qw(e,t){if(e==null)return{};var n,r,a=X7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function X7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Z7=e=>Array.isArray(e.value)?H7(e.value):e.value;function Di(e){var{valueAccessor:t=Z7}=e,n=Qw(e,j7),{data:r,dataKey:a,clockWise:l,id:s,textBreakAll:c}=n,p=Qw(n,Y7);return!r||!r.length?null:M.createElement(cr,{className:"recharts-label-list"},r.map((d,h)=>{var v=st(a)?t(d,h):zt(d&&d.payload,a),x=st(s)?{}:{id:"".concat(s,"-").concat(h)};return M.createElement(_n,uf({},gt(d,!0),p,x,{parentViewBox:d.parentViewBox,value:v,textBreakAll:c,viewBox:_n.parseViewBox(st(l)?d:Zw(Zw({},d),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Di.displayName="LabelList";function Q7(e,t){return e?e===!0?M.createElement(Di,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Xy(e)?M.createElement(Di,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?M.createElement(Di,uf({data:t},e,{key:"labelList-implicit"})):null:null}function e9(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,a=Nv(r,Di).map((s,c)=>M.cloneElement(s,{data:t,key:"labelList-".concat(c)}));if(!n)return a;var l=Q7(e.label,t);return[l,...a]}Di.renderCallByParent=e9;function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(null,arguments)}var nP=e=>{var{cx:t,cy:n,r,className:a}=e,l=Je("recharts-dot",a);return t===+t&&n===+n&&r===+r?M.createElement("circle",dv({},Da(e),_v(e),{className:l,cx:t,cy:n,r})):null},t9={radiusAxis:{},angleAxis:{}},rP=kn({name:"polarAxis",initialState:t9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:WZ,removeRadiusAxis:XZ,addAngleAxis:ZZ,removeAngleAxis:QZ}=rP.actions,n9=rP.reducer,rg={},e1;function r9(){return e1||(e1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(rg)),rg}var ig,t1;function i9(){return t1||(t1=1,ig=r9().isPlainObject),ig}var a9=i9();const o9=Cr(a9);function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(null,arguments)}var n1=(e,t,n,r,a)=>{var l=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-l/2,",").concat(t+a),s+="L ".concat(e+n-l/2-r,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},l9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s9=e=>{var t=Er(e,l9),n=M.useRef(),[r,a]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&a(E)}catch{}},[]);var{x:l,y:s,upperWidth:c,lowerWidth:p,height:d,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:S,isUpdateAnimationActive:T}=t;if(l!==+l||s!==+s||c!==+c||p!==+p||d!==+d||c===0&&p===0||d===0)return null;var C=Je("recharts-trapezoid",h);return T?M.createElement(Hc,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:s},to:{upperWidth:c,lowerWidth:p,height:d,x:l,y:s},duration:x,animationEasing:v,isActive:T},E=>{var{upperWidth:_,lowerWidth:R,height:N,x:O,y:D}=E;return M.createElement(Hc,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:x,easing:v},M.createElement("path",cf({},gt(t,!0),{className:C,d:n1(O,D,_,R,N),ref:n})))}):M.createElement("g",null,M.createElement("path",cf({},gt(t,!0),{className:C,d:n1(l,s,c,p,d)})))},u9=["option","shapeType","propTransformer","activeClassName","isActive"];function c9(e,t){if(e==null)return{};var n,r,a=f9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function r1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(n),!0).forEach(function(r){d9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d9(e,t,n){return(t=m9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=p9(e,"string");return typeof t=="symbol"?t:t+""}function p9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h9(e,t){return ff(ff({},t),e)}function g9(e,t){return e==="symbols"}function i1(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return M.createElement(O_,n);case"trapezoid":return M.createElement(s9,n);case"sector":return M.createElement(L_,n);case"symbols":if(g9(t))return M.createElement(Iv,n);break;default:return null}}function v9(e){return M.isValidElement(e)?e.props:e}function y9(e){var{option:t,shapeType:n,propTransformer:r=h9,activeClassName:a="recharts-active-shape",isActive:l}=e,s=c9(e,u9),c;if(M.isValidElement(t))c=M.cloneElement(t,ff(ff({},s),v9(t)));else if(typeof t=="function")c=t(s);else if(o9(t)&&typeof t!="boolean"){var p=r(t,s);c=M.createElement(i1,{shapeType:n,elementProps:p})}else{var d=s;c=M.createElement(i1,{shapeType:n,elementProps:d})}return l?M.createElement(cr,{className:a},c):c}var iP=(e,t)=>{var n=Ct();return(r,a)=>l=>{e==null||e(r,a,l),n(wR({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},aP=e=>{var t=Ct();return(n,r)=>a=>{e==null||e(n,r,a),t(TY())}},oP=(e,t)=>{var n=Ct();return(r,a)=>l=>{e==null||e(r,a,l),n(CY({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function lP(e){var{fn:t,args:n}=e,r=Ct(),a=gn();return M.useEffect(()=>{if(!a){var l=t(n);return r(xY(l)),()=>{r(bY(l))}}},[t,n,r,a]),null}var x9=()=>{};function sP(e){var{legendPayload:t}=e,n=Ct(),r=gn();return M.useEffect(()=>r?x9:(n(QF(t)),()=>{n(eH(t))}),[n,r,t]),null}function uP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=M.useRef(bs(t)),r=M.useRef(e);return r.current!==e&&(n.current=bs(t),r.current=e),n.current}var ag,b9=()=>{var[e]=M.useState(()=>bs("uid-"));return e},S9=(ag=fI.useId)!==null&&ag!==void 0?ag:b9;function T9(e,t){var n=S9();return t||(e?"".concat(e,"-").concat(n):n)}var C9=M.createContext(void 0),cP=e=>{var{id:t,type:n,children:r}=e,a=T9("recharts-".concat(n),t);return M.createElement(C9.Provider,{value:a},r(a))},E9={cartesianItems:[],polarItems:[]},fP=kn({name:"graphicalItems",initialState:E9,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=jr(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=jr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=jr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:A9,replaceCartesianGraphicalItem:w9,removeCartesianGraphicalItem:M9,addPolarGraphicalItem:eQ,removePolarGraphicalItem:tQ}=fP.actions,_9=fP.reducer;function dP(e){var t=Ct(),n=M.useRef(null);return M.useEffect(()=>{n.current===null?t(A9(e)):n.current!==e&&t(w9({prev:n.current,next:e})),n.current=e},[t,e]),M.useEffect(()=>()=>{n.current&&(t(M9(n.current)),n.current=null)},[t]),null}function N9(){}var R9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},a1={t:0},og={t:1};function mP(e){var t=Er(e,R9),{isActive:n,canBegin:r,duration:a,easing:l,begin:s,onAnimationEnd:c,onAnimationStart:p,children:d}=t,h=D_("JavascriptAnimate",t.animationManager),[v,x]=M.useState(n?a1:og),S=M.useRef(null);return M.useEffect(()=>{n||x(og)},[n]),M.useEffect(()=>{if(!n||!r)return N9;var T=P_(a1,og,N_(l),a,x,h.getTimeoutController()),C=()=>{S.current=T()};return h.start([p,s,C,a,c]),()=>{h.stop(),S.current&&S.current(),c()}},[n,r,a,l,s,p,c,h]),d(v.t)}var P9=J([$t],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),D9=J([P9,Qr,ei],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Zy=()=>Se(D9),O9=()=>Se(uK);function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(n),!0).forEach(function(r){I9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I9(e,t,n){return(t=k9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U9=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:l}=e;if(a===!1||t.x==null||t.y==null)return null;var s=l1(l1({index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},gt(a,!1)),_v(a)),c;return M.isValidElement(a)?c=M.cloneElement(a,s):typeof a=="function"?c=a(s):c=M.createElement(nP,s),M.createElement(cr,{className:"recharts-active-dot"},c)};function B9(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,l=Se(Ma),s=O9();if(t==null||s==null)return null;var c=t.find(p=>s.includes(p.payload));return st(c)?null:U9({point:c,childIndex:Number(l),mainColor:n,dataKey:a,activeDot:r})}var q9="Invariant failed";function V9(e,t){throw new Error(q9)}var z9=["x","y"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(null,arguments)}function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(r){$9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $9(e,t,n){return(t=G9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H9(e,t){if(e==null)return{};var n,r,a=j9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Y9(e,t){var{x:n,y:r}=e,a=H9(e,z9),l="".concat(n),s=parseInt(l,10),c="".concat(r),p=parseInt(c,10),d="".concat(t.height||a.height),h=parseInt(d,10),v="".concat(t.width||a.width),x=parseInt(v,10);return ps(ps(ps(ps(ps({},t),a),s?{x:s}:{}),p?{y:p}:{}),{},{height:h,width:x,name:t.name,radius:t.radius})}function pP(e){return M.createElement(y9,mv({shapeType:"rectangle",propTransformer:Y9,activeClassName:"recharts-active-bar"},e))}var K9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(he(t))return t;var l=he(r)||st(r);return l?t(r,a):(l||V9(),n)}},J9={},hP=kn({name:"errorBars",initialState:J9,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:nQ,removeErrorBar:rQ}=hP.actions,W9=hP.reducer,X9=["children"];function Z9(e,t){if(e==null)return{};var n,r,a=Q9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Q9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tJ=M.createContext(eJ);function gP(e){var{children:t}=e,n=Z9(e,X9);return M.createElement(tJ.Provider,{value:n},t)}function Qy(e,t){var n,r,a=Se(d=>ni(d,e)),l=Se(d=>qi(d,t)),s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:An.allowDataOverflow,c=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:wn.allowDataOverflow,p=s||c;return{needClip:p,needClipX:s,needClipY:c}}function vP(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=Zy(),{needClipX:l,needClipY:s,needClip:c}=Qy(t,n);if(!c)return null;var{x:p,y:d,width:h,height:v}=a;return M.createElement("clipPath",{id:"clipPath-".concat(r)},M.createElement("rect",{x:l?p:p-h/2,y:s?d:d-v/2,width:l?h:h*2,height:s?v:v*2}))}var nJ=["onMouseEnter","onMouseLeave","onClick"],rJ=["value","background","tooltipPosition"],iJ=["id"],aJ=["onMouseEnter","onClick","onMouseLeave"];function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(null,arguments)}function u1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(n),!0).forEach(function(r){oJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oJ(e,t,n){return(t=lJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(e,t){if(e==null)return{};var n,r,a=uJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cJ=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:Rf(n,t),payload:e}]};function fJ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:l,hide:s,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Rf(l,t),hide:s,type:e.tooltipType,color:e.fill,unit:c}}}function dJ(e){var t=Se(Ma),{data:n,dataKey:r,background:a,allOtherBarProps:l}=e,{onMouseEnter:s,onMouseLeave:c,onClick:p}=l,d=df(l,nJ),h=iP(s,r),v=aP(c),x=oP(p,r);if(!a||n==null)return null;var S=gt(a,!1);return M.createElement(M.Fragment,null,n.map((T,C)=>{var{value:E,background:_,tooltipPosition:R}=T,N=df(T,rJ);if(!_)return null;var O=h(T,C),D=v(T,C),k=x(T,C),B=en(en(en(en(en({option:a,isActive:String(C)===t},N),{},{fill:"#eee"},_),S),xf(d,T,C)),{},{onMouseEnter:O,onMouseLeave:D,onClick:k,dataKey:r,index:C,className:"recharts-bar-background-rectangle"});return M.createElement(pP,Fo({key:"background-bar-".concat(C)},B))}))}function yP(e){var{data:t,props:n,showLabels:r}=e,a=Da(n),{id:l}=a,s=df(a,iJ),{shape:c,dataKey:p,activeBar:d}=n,h=Se(Ma),v=Se(qR),{onMouseEnter:x,onClick:S,onMouseLeave:T}=n,C=df(n,aJ),E=iP(x,p),_=aP(T),R=oP(S,p);return t?M.createElement(M.Fragment,null,t.map((N,O)=>{var D=d&&String(O)===h&&(v==null||p===v),k=D?d:c,B=en(en(en({},s),N),{},{isActive:D,option:k,index:O,dataKey:p});return M.createElement(cr,Fo({className:"recharts-bar-rectangle"},xf(C,N,O),{onMouseEnter:E(N,O),onMouseLeave:_(N,O),onClick:R(N,O),key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(O)}),M.createElement(pP,B))}),r&&Di.renderCallByParent(n,t)):null}function mJ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:l,animationBegin:s,animationDuration:c,animationEasing:p,onAnimationEnd:d,onAnimationStart:h}=t,v=n.current,x=uP(t,"recharts-bar-"),[S,T]=M.useState(!1),C=M.useCallback(()=>{typeof d=="function"&&d(),T(!1)},[d]),E=M.useCallback(()=>{typeof h=="function"&&h(),T(!0)},[h]);return M.createElement(mP,{begin:s,duration:c,isActive:l,easing:p,onAnimationEnd:C,onAnimationStart:E,key:x},_=>{var R=_===1?r:r==null?void 0:r.map((N,O)=>{var D=v&&v[O];if(D)return en(en({},N),{},{x:ar(D.x,N.x,_),y:ar(D.y,N.y,_),width:ar(D.width,N.width,_),height:ar(D.height,N.height,_)});if(a==="horizontal"){var k=ar(0,N.height,_);return en(en({},N),{},{y:N.y+N.height-k,height:k})}var B=ar(0,N.width,_);return en(en({},N),{},{width:B})});return _>0&&(n.current=R??null),R==null?null:M.createElement(cr,null,M.createElement(yP,{props:t,data:R,showLabels:!S}))})}function pJ(e){var{data:t,isAnimationActive:n}=e,r=M.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?M.createElement(mJ,{previousRectanglesRef:r,props:e}):M.createElement(yP,{props:e,data:t,showLabels:!0})}var xP=0,hJ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:zt(e,t)}};class gJ extends M.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:l,yAxisId:s,needClip:c,background:p,id:d}=this.props;if(t)return null;var h=Je("recharts-bar",a),v=d;return M.createElement(cr,{className:h,id:d},c&&M.createElement("defs",null,M.createElement(vP,{clipPathId:v,xAxisId:l,yAxisId:s})),M.createElement(cr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(v,")"):void 0},M.createElement(dJ,{data:n,dataKey:r,background:p,allOtherBarProps:this.props}),M.createElement(pJ,this.props)),this.props.children)}}var vJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Qo.isSsr,legendType:"rect",minPointSize:xP,xAxisId:0,yAxisId:0};function yJ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:s,animationBegin:c,animationDuration:p,animationEasing:d,isAnimationActive:h}=e,{needClip:v}=Qy(t,n),x=If(),S=gn(),T=Nv(e.children,td),C=Se(R=>HJ(R,t,n,S,e.id,T));if(x!=="vertical"&&x!=="horizontal")return null;var E,_=C==null?void 0:C[0];return _==null||_.height==null||_.width==null?E=0:E=x==="vertical"?_.height/2:_.width/2,M.createElement(gP,{xAxisId:t,yAxisId:n,data:C,dataPointFormatter:hJ,errorBarOffset:E},M.createElement(gJ,Fo({},e,{layout:x,needClip:v,data:C,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:s,animationBegin:c,animationDuration:p,animationEasing:d,isAnimationActive:h})))}function xJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:l,xAxis:s,yAxis:c,xAxisTicks:p,yAxisTicks:d,stackedData:h,displayedData:v,offset:x,cells:S}=e,T=t==="horizontal"?c:s,C=h?T.scale.domain():null,E=DF({numericAxis:T});return v.map((_,R)=>{var N,O,D,k,B,V;h?N=wF(h[R],C):(N=zt(_,n),Array.isArray(N)||(N=[E,N]));var z=K9(r,xP)(N[1],R);if(t==="horizontal"){var te,[$,K]=[c.scale(N[0]),c.scale(N[1])];O=WE({axis:s,ticks:p,bandSize:l,offset:a.offset,entry:_,index:R}),D=(te=K??$)!==null&&te!==void 0?te:void 0,k=a.size;var de=$-K;if(B=Pn(de)?0:de,V={x:O,y:x.top,width:k,height:x.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var Ce=pn(B||z)*(Math.abs(z)-Math.abs(B));D-=Ce,B+=Ce}}else{var[ve,F]=[s.scale(N[0]),s.scale(N[1])];if(O=ve,D=WE({axis:c,ticks:d,bandSize:l,offset:a.offset,entry:_,index:R}),k=F-ve,B=a.size,V={x:x.left,y:D,width:x.width,height:B},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var ne=pn(k||z)*(Math.abs(z)-Math.abs(k));k+=ne}}if(O==null||D==null||k==null||B==null)return null;var fe=en(en({},_),{},{x:O,y:D,width:k,height:B,value:h?N:N[1],payload:_,background:V,tooltipPosition:{x:O+k/2,y:D+B/2}},S&&S[R]&&S[R].props);return fe}).filter(Boolean)}function e0(e){var t=Er(e,vJ),n=gn();return M.createElement(cP,{id:t.id,type:"bar"},r=>M.createElement(M.Fragment,null,M.createElement(sP,{legendPayload:cJ(t)}),M.createElement(lP,{fn:fJ,args:t}),M.createElement(dP,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:PF(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),M.createElement(yJ,Fo({},t,{id:r}))))}e0.displayName="Bar";function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CJ=(e,t)=>t,EJ=(e,t,n)=>n,AJ=(e,t,n,r)=>r,wJ=(e,t,n,r,a)=>a,Fs=J([Jf,wJ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),MJ=J([Fs],e=>e==null?void 0:e.maxBarSize),_J=(e,t,n,r,a,l)=>l,f1=(e,t,n)=>{var r=n??e;if(!st(r))return ur(r,t,0)},NJ=J([Fe,Jf,CJ,EJ,AJ],(e,t,n,r,a)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===a).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),RJ=(e,t,n,r)=>{var a=Fe(e);return a==="horizontal"?ov(e,"yAxis",n,r):ov(e,"xAxis",t,r)},PJ=(e,t,n)=>{var r=Fe(e);return r==="horizontal"?gw(e,"xAxis",t):gw(e,"yAxis",n)},DJ=(e,t,n)=>{var r={},a=e.filter(Kf),l=e.filter(d=>d.stackId==null),s=a.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),c=Object.entries(s).map(d=>{var[h,v]=d,x=v.map(T=>T.dataKey),S=f1(t,n,v[0].barSize);return{stackId:h,dataKeys:x,barSize:S}}),p=l.map(d=>{var h=[d.dataKey].filter(x=>x!=null),v=f1(t,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:v}});return[...c,...p]},OJ=J([NJ,xj,PJ],DJ),IJ=(e,t,n,r,a)=>{var l,s,c=Fs(e,t,n,r,a);if(c!=null){var p=Fe(e),d=DN(e),{maxBarSize:h}=c,v=st(h)?d:h,x,S;return p==="horizontal"?(x=Ii(e,"xAxis",t,r),S=Oi(e,"xAxis",t,r)):(x=Ii(e,"yAxis",n,r),S=Oi(e,"yAxis",n,r)),(l=(s=Cs(x,S,!0))!==null&&s!==void 0?s:v)!==null&&l!==void 0?l:0}},bP=(e,t,n,r)=>{var a=Fe(e),l,s;return a==="horizontal"?(l=Ii(e,"xAxis",t,r),s=Oi(e,"xAxis",t,r)):(l=Ii(e,"yAxis",n,r),s=Oi(e,"yAxis",n,r)),Cs(l,s)};function kJ(e,t,n,r,a){var l=r.length;if(!(l<1)){var s=ur(e,n,0,!0),c,p=[];if(In(r[0].barSize)){var d=!1,h=n/l,v=r.reduce((_,R)=>_+(R.barSize||0),0);v+=(l-1)*s,v>=n&&(v-=(l-1)*s,s=0),v>=n&&h>0&&(d=!0,h*=.9,v=l*h);var x=(n-v)/2>>0,S={offset:x-s,size:0};c=r.reduce((_,R)=>{var N,O={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:S.offset+S.size+s,size:d?h:(N=R.barSize)!==null&&N!==void 0?N:0}},D=[..._,O];return S=D[D.length-1].position,D},p)}else{var T=ur(t,n,0,!0);n-2*T-(l-1)*s<=0&&(s=0);var C=(n-2*T-(l-1)*s)/l;C>1&&(C>>=0);var E=In(a)?Math.min(C,a):C;c=r.reduce((_,R,N)=>[..._,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:T+(C+s)*N+(C-E)/2,size:E}}],p)}return c}}var LJ=(e,t,n,r,a,l,s)=>{var c=st(s)?t:s,p=kJ(n,r,a!==l?a:l,e,c);return a!==l&&p!=null&&(p=p.map(d=>bc(bc({},d),{},{position:bc(bc({},d.position),{},{offset:d.position.offset-a/2})}))),p},UJ=J([OJ,DN,yj,ON,IJ,bP,MJ],LJ),BJ=(e,t,n,r)=>Ii(e,"xAxis",t,r),qJ=(e,t,n,r)=>Ii(e,"yAxis",n,r),VJ=(e,t,n,r)=>Oi(e,"xAxis",t,r),zJ=(e,t,n,r)=>Oi(e,"yAxis",n,r),$J=J([UJ,Fs],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),GJ=(e,t)=>{var n=Dy(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:l}=a;if(l)return l.find(s=>s.key===n)}}}},FJ=J([RJ,Fs],GJ),HJ=J([$t,BJ,qJ,VJ,zJ,$J,Fe,$f,bP,FJ,Fs,_J],(e,t,n,r,a,l,s,c,p,d,h,v)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:T}=c;if(!(h==null||l==null||s!=="horizontal"&&s!=="vertical"||t==null||n==null||r==null||a==null||p==null)){var{data:C}=h,E;if(C!=null&&C.length>0?E=C:E=x==null?void 0:x.slice(S,T+1),E!=null)return xJ({layout:s,barSettings:h,pos:l,bandSize:p,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:d,displayedData:E,offset:e,cells:v})}}),jJ=e=>{var{chartData:t}=e,n=Ct(),r=gn();return M.useEffect(()=>r?()=>{}:(n(ww(t)),()=>{n(ww(void 0))}),[t,n,r]),null},d1={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SP=kn({name:"brush",initialState:d1,reducers:{setBrushSettings(e,t){return t.payload==null?d1:t.payload}}}),{setBrushSettings:iQ}=SP.actions,YJ=SP.reducer;function KJ(e,t,n){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class t0{static create(t){return new t0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}KJ(t0,"EPS",1e-4);function XJ(e){return(e%180+180)%180}var ZJ=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=XJ(a),s=l*Math.PI/180,c=Math.atan(r/n),p=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(p)},QJ={dots:[],areas:[],lines:[]},TP=kn({name:"referenceElements",initialState:QJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=jr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=jr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=jr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:aQ,removeDot:oQ,addArea:lQ,removeArea:sQ,addLine:uQ,removeLine:cQ}=TP.actions,eW=TP.reducer,tW=M.createContext(void 0),nW=e=>{var{children:t}=e,[n]=M.useState("".concat(bs("recharts"),"-clip")),r=Zy();if(r==null)return null;var{x:a,y:l,width:s,height:c}=r;return M.createElement(tW.Provider,{value:n},M.createElement("defs",null,M.createElement("clipPath",{id:n},M.createElement("rect",{x:a,y:l,height:c,width:s}))),t)};function lg(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function CP(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function rW(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ZJ(r,n)}function iW(e,t,n){var r=n==="width",{x:a,y:l,width:s,height:c}=e;return t===1?{start:r?a:l,end:r?a+s:l+c}:{start:r?a+s:l+c,end:r?a:l}}function mf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-a)<=0}function aW(e,t){return CP(e,t+1)}function oW(e,t,n,r,a){for(var l=(r||[]).slice(),{start:s,end:c}=t,p=0,d=1,h=s,v=function(){var T=r==null?void 0:r[p];if(T===void 0)return{v:CP(r,d)};var C=p,E,_=()=>(E===void 0&&(E=n(T,C)),E),R=T.coordinate,N=p===0||mf(e,R,_,h,c);N||(p=0,h=s,d+=1),N&&(h=R+e*(_()/2+a),p+=d)},x;d<=l.length;)if(x=v(),x)return x.v;return[]}function m1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(n),!0).forEach(function(r){lW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lW(e,t,n){return(t=sW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cW(e,t,n,r,a){for(var l=(r||[]).slice(),s=l.length,{start:c}=t,{end:p}=t,d=function(x){var S=l[x],T,C=()=>(T===void 0&&(T=n(S,x)),T);if(x===s-1){var E=e*(S.coordinate+e*C()/2-p);l[x]=S=Qt(Qt({},S),{},{tickCoord:E>0?S.coordinate-E*e:S.coordinate})}else l[x]=S=Qt(Qt({},S),{},{tickCoord:S.coordinate});var _=mf(e,S.tickCoord,C,c,p);_&&(p=S.tickCoord-e*(C()/2+a),l[x]=Qt(Qt({},S),{},{isShow:!0}))},h=s-1;h>=0;h--)d(h);return l}function fW(e,t,n,r,a,l){var s=(r||[]).slice(),c=s.length,{start:p,end:d}=t;if(l){var h=r[c-1],v=n(h,c-1),x=e*(h.coordinate+e*v/2-d);s[c-1]=h=Qt(Qt({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate});var S=mf(e,h.tickCoord,()=>v,p,d);S&&(d=h.tickCoord-e*(v/2+a),s[c-1]=Qt(Qt({},h),{},{isShow:!0}))}for(var T=l?c-1:c,C=function(R){var N=s[R],O,D=()=>(O===void 0&&(O=n(N,R)),O);if(R===0){var k=e*(N.coordinate-e*D()/2-p);s[R]=N=Qt(Qt({},N),{},{tickCoord:k<0?N.coordinate-k*e:N.coordinate})}else s[R]=N=Qt(Qt({},N),{},{tickCoord:N.coordinate});var B=mf(e,N.tickCoord,D,p,d);B&&(p=N.tickCoord+e*(D()/2+a),s[R]=Qt(Qt({},N),{},{isShow:!0}))},E=0;E<T;E++)C(E);return s}function n0(e,t,n){var{tick:r,ticks:a,viewBox:l,minTickGap:s,orientation:c,interval:p,tickFormatter:d,unit:h,angle:v}=e;if(!a||!a.length||!r)return[];if(he(p)||Qo.isSsr){var x;return(x=aW(a,he(p)?p:0))!==null&&x!==void 0?x:[]}var S=[],T=c==="top"||c==="bottom"?"width":"height",C=h&&T==="width"?xs(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(N,O)=>{var D=typeof d=="function"?d(N.value,O):N.value;return T==="width"?rW(xs(D,{fontSize:t,letterSpacing:n}),C,v):xs(D,{fontSize:t,letterSpacing:n})[T]},_=a.length>=2?pn(a[1].coordinate-a[0].coordinate):1,R=iW(l,_,T);return p==="equidistantPreserveStart"?oW(_,R,E,a,s):(p==="preserveStart"||p==="preserveStartEnd"?S=fW(_,R,E,a,s,p==="preserveStartEnd"):S=cW(_,R,E,a,s),S.filter(N=>N.isShow))}var dW=["viewBox"],mW=["viewBox"];function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(null,arguments)}function p1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(n),!0).forEach(function(r){r0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h1(e,t){if(e==null)return{};var n,r,a=pW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function r0(e,t,n){return(t=hW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vi extends M.Component{constructor(t){super(t),this.tickRefs=M.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,a=h1(t,dW),l=this.props,{viewBox:s}=l,c=h1(l,mW);return!lg(r,s)||!lg(a,c)||!lg(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:a,height:l,orientation:s,tickSize:c,mirror:p,tickMargin:d}=this.props,h,v,x,S,T,C,E=p?-1:1,_=t.tickSize||c,R=he(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=v=t.coordinate,S=r+ +!p*l,x=S-E*_,C=x-E*d,T=R;break;case"left":x=S=t.coordinate,v=n+ +!p*a,h=v-E*_,T=h-E*d,C=R;break;case"right":x=S=t.coordinate,v=n+ +p*a,h=v+E*_,T=h+E*d,C=R;break;default:h=v=t.coordinate,S=r+ +p*l,x=S+E*_,C=x+E*d,T=R;break}return{line:{x1:h,y1:x,x2:v,y2:S},tick:{x:T,y:C}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:a,orientation:l,mirror:s,axisLine:c}=this.props,p=_t(_t(_t({},gt(this.props,!1)),gt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!s||l==="bottom"&&s);p=_t(_t({},p),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var h=+(l==="left"&&!s||l==="right"&&s);p=_t(_t({},p),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+a})}return M.createElement("line",Ro({},p,{className:Je("recharts-cartesian-axis-line",Ca(c,"className"))}))}static renderTickItem(t,n,r){var a,l=Je(n.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(t))a=M.cloneElement(t,_t(_t({},n),{},{className:l}));else if(typeof t=="function")a=t(_t(_t({},n),{},{className:l}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Je(s,t.className)),a=M.createElement(Wy,Ro({},n,{className:s}),r)}return a}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:l,tick:s,tickFormatter:c,unit:p,padding:d}=this.props,h=n0(_t(_t({},this.props),{},{ticks:r}),t,n),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),S=Da(this.props),T=gt(s,!1),C=_t(_t({},S),{},{fill:"none"},gt(a,!1)),E=h.map((_,R)=>{var{line:N,tick:O}=this.getTickLineCoord(_),D=_t(_t(_t(_t({textAnchor:v,verticalAnchor:x},S),{},{stroke:"none",fill:l},T),O),{},{index:R,payload:_,visibleTicksCount:h.length,tickFormatter:c,padding:d});return M.createElement(cr,Ro({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},xf(this.props,_,R)),a&&M.createElement("line",Ro({},C,N,{className:Je("recharts-cartesian-axis-tick-line",Ca(a,"className"))})),s&&Vi.renderTickItem(s,D,"".concat(typeof c=="function"?c(_.value,R):_.value).concat(p||"")))});return E.length>0?M.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:t,width:n,height:r,className:a,hide:l}=this.props;if(l)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:M.createElement(cr,{className:Je("recharts-cartesian-axis",a),ref:c=>{if(c){var p=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(p);var d=p[0];if(d){var h=window.getComputedStyle(d).fontSize,v=window.getComputedStyle(d).letterSpacing;(h!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),_n.renderCallByParent(this.props))}}r0(Vi,"displayName","CartesianAxis");r0(Vi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vW=["x1","y1","x2","y2","key"],yW=["offset"],xW=["xAxisId","yAxisId"],bW=["xAxisId","yAxisId"];function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){SW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SW(e,t,n){return(t=TW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(null,arguments)}function pf(e,t){if(e==null)return{};var n,r,a=EW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function EW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:l,height:s,ry:c}=e;return M.createElement("rect",{x:r,y:a,ry:c,width:l,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EP(e,t){var n;if(M.isValidElement(e))n=M.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:a,x2:l,y2:s,key:c}=t,p=pf(t,vW),d=Da(p),{offset:h}=d,v=pf(d,yW);n=M.createElement("line",va({},v,{x1:r,y1:a,x2:l,y2:s,fill:"none",key:c}))}return n}function wW(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:s}=e,c=pf(e,xW),p=a.map((d,h)=>{var v=tn(tn({},c),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return EP(r,v)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function MW(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:s}=e,c=pf(e,bW),p=a.map((d,h)=>{var v=tn(tn({},c),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return EP(r,v)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function _W(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:l,height:s,horizontalPoints:c,horizontal:p=!0}=e;if(!p||!t||!t.length)return null;var d=c.map(v=>Math.round(v+a-a)).sort((v,x)=>v-x);a!==d[0]&&d.unshift(0);var h=d.map((v,x)=>{var S=!d[x+1],T=S?a+s-v:d[x+1]-v;if(T<=0)return null;var C=x%t.length;return M.createElement("rect",{key:"react-".concat(x),y:v,x:r,height:T,width:l,stroke:"none",fill:t[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function NW(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:l,width:s,height:c,verticalPoints:p}=e;if(!t||!n||!n.length)return null;var d=p.map(v=>Math.round(v+a-a)).sort((v,x)=>v-x);a!==d[0]&&d.unshift(0);var h=d.map((v,x)=>{var S=!d[x+1],T=S?a+s-v:d[x+1]-v;if(T<=0)return null;var C=x%n.length;return M.createElement("rect",{key:"react-".concat(x),x:v,y:l,width:T,height:c,stroke:"none",fill:n[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var RW=(e,t)=>{var{xAxis:n,width:r,height:a,offset:l}=e;return x_(n0(tn(tn(tn({},Vi.defaultProps),n),{},{ticks:b_(n),viewBox:{x:0,y:0,width:r,height:a}})),l.left,l.left+l.width,t)},PW=(e,t)=>{var{yAxis:n,width:r,height:a,offset:l}=e;return x_(n0(tn(tn(tn({},Vi.defaultProps),n),{},{ticks:b_(n),viewBox:{x:0,y:0,width:r,height:a}})),l.top,l.top+l.height,t)},DW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function pv(e){var t=Xv(),n=Zv(),r=C_(),a=tn(tn({},Er(e,DW)),{},{x:he(e.x)?e.x:r.left,y:he(e.y)?e.y:r.top,width:he(e.width)?e.width:r.width,height:he(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:s,x:c,y:p,width:d,height:h,syncWithTicks:v,horizontalValues:x,verticalValues:S}=a,T=gn(),C=Se(z=>vw(z,"xAxis",l,T)),E=Se(z=>vw(z,"yAxis",s,T));if(!he(d)||d<=0||!he(h)||h<=0||!he(c)||c!==+c||!he(p)||p!==+p)return null;var _=a.verticalCoordinatesGenerator||RW,R=a.horizontalCoordinatesGenerator||PW,{horizontalPoints:N,verticalPoints:O}=a;if((!N||!N.length)&&typeof R=="function"){var D=x&&x.length,k=R({yAxis:E?tn(tn({},E),{},{ticks:D?x:E.ticks}):void 0,width:t,height:n,offset:r},D?!0:v);ys(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(N=k)}if((!O||!O.length)&&typeof _=="function"){var B=S&&S.length,V=_({xAxis:C?tn(tn({},C),{},{ticks:B?S:C.ticks}):void 0,width:t,height:n,offset:r},B?!0:v);ys(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(O=V)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(AW,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),M.createElement(_W,va({},a,{horizontalPoints:N})),M.createElement(NW,va({},a,{verticalPoints:O})),M.createElement(wW,va({},a,{offset:r,horizontalPoints:N,xAxis:C,yAxis:E})),M.createElement(MW,va({},a,{offset:r,verticalPoints:O,xAxis:C,yAxis:E})))}pv.displayName="CartesianGrid";var AP=(e,t,n,r)=>Ii(e,"xAxis",t,r),wP=(e,t,n,r)=>Oi(e,"xAxis",t,r),MP=(e,t,n,r)=>Ii(e,"yAxis",n,r),_P=(e,t,n,r)=>Oi(e,"yAxis",n,r),OW=J([Fe,AP,MP,wP,_P],(e,t,n,r,a)=>ki(e,"xAxis")?Cs(t,r,!1):Cs(n,a,!1)),IW=(e,t,n,r,a)=>a;function kW(e){return e.type==="line"}var LW=J([Jf,IW],(e,t)=>e.filter(kW).find(n=>n.id===t)),UW=J([Fe,AP,MP,wP,_P,LW,OW,$f],(e,t,n,r,a,l,s,c)=>{var{chartData:p,dataStartIndex:d,dataEndIndex:h}=c;if(!(l==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||s==null)){var{dataKey:v,data:x}=l,S;if(x!=null&&x.length>0?S=x:S=p==null?void 0:p.slice(d,h+1),S!=null)return iX({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:v,bandSize:s,displayedData:S})}}),BW=["id"],qW=["type","layout","connectNulls","needClip"],VW=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function v1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(n),!0).forEach(function(r){zW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zW(e,t,n){return(t=$W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i0(e,t){if(e==null)return{};var n,r,a=FW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function FW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(null,arguments)}var HW=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:Rf(n,t),payload:e}]};function jW(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:l,name:s,hide:c,unit:p}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:Rf(s,t),hide:c,type:e.tooltipType,color:e.stroke,unit:p}}}var NP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function YW(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var KW=(e,t,n)=>{var r=n.reduce((v,x)=>v+x);if(!r)return NP(t,e);for(var a=Math.floor(e/r),l=e%r,s=t-e,c=[],p=0,d=0;p<n.length;d+=n[p],++p)if(d+n[p]>l){c=[...n.slice(0,p),l-d];break}var h=c.length%2===0?[0,s]:[s];return[...YW(n,a),...c,...h].map(v=>"".concat(v,"px")).join(", ")};function JW(e,t){var n;if(M.isValidElement(e))n=M.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Je("recharts-line-dot",typeof e!="boolean"?e.className:"");n=M.createElement(nP,_a({},t,{className:r}))}return n}function WW(e,t){return e==null?!1:t?!0:e.length===1}function XW(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:l,needClip:s}=r;if(!WW(n,a))return null;var{id:c}=r,p=i0(r,BW),d=gM(a),h=Da(p),v=gt(a,!0),x=n.map((T,C)=>{var E=or(or(or({key:"dot-".concat(C),r:3},h),v),{},{index:C,cx:T.x,cy:T.y,dataKey:l,value:T.value,payload:T.payload,points:n});return JW(a,E)}),S={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return M.createElement(cr,_a({className:"recharts-line-dots",key:"dots"},S),x)}function hv(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:l,showLabels:s}=e,{type:c,layout:p,connectNulls:d,needClip:h}=l,v=i0(l,qW),x=or(or({},gt(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:p,connectNulls:d,strokeDasharray:a??l.strokeDasharray});return M.createElement(M.Fragment,null,(r==null?void 0:r.length)>1&&M.createElement(w_,_a({},x,{pathRef:n})),M.createElement(XW,{points:r,clipPathId:t,props:l}),s&&Di.renderCallByParent(l,r))}function ZW(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function QW(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:l}=e,{points:s,strokeDasharray:c,isAnimationActive:p,animationBegin:d,animationDuration:h,animationEasing:v,animateNewValues:x,width:S,height:T,onAnimationEnd:C,onAnimationStart:E}=n,_=a.current,R=uP(n,"recharts-line-"),[N,O]=M.useState(!1),D=M.useCallback(()=>{typeof C=="function"&&C(),O(!1)},[C]),k=M.useCallback(()=>{typeof E=="function"&&E(),O(!0)},[E]),B=ZW(r.current),V=l.current;return M.createElement(mP,{begin:d,duration:h,isActive:p,easing:v,onAnimationEnd:D,onAnimationStart:k,key:R},z=>{var te=ar(V,B+V,z),$=Math.min(te,B),K;if(c){var de="".concat(c).split(/[,\s]+/gim).map(F=>parseFloat(F));K=KW($,B,de)}else K=NP(B,$);if(_){var Ce=_.length/s.length,ve=z===1?s:s.map((F,ne)=>{var fe=Math.floor(ne*Ce);if(_[fe]){var Te=_[fe];return or(or({},F),{},{x:ar(Te.x,F.x,z),y:ar(Te.y,F.y,z)})}return x?or(or({},F),{},{x:ar(S*2,F.x,z),y:ar(T/2,F.y,z)}):or(or({},F),{},{x:F.x,y:F.y})});return a.current=ve,M.createElement(hv,{props:n,points:ve,clipPathId:t,pathRef:r,showLabels:!N,strokeDasharray:K})}return z>0&&B>0&&(a.current=s,l.current=$),M.createElement(hv,{props:n,points:s,clipPathId:t,pathRef:r,showLabels:!N,strokeDasharray:K})})}function eX(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:a}=n,l=M.useRef(null),s=M.useRef(0),c=M.useRef(null),p=l.current;return a&&r&&r.length&&p!==r?M.createElement(QW,{props:n,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:s,pathRef:c}):M.createElement(hv,{props:n,points:r,clipPathId:t,pathRef:c,showLabels:!0})}var tX=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:zt(e.payload,t)});class nX extends M.Component{render(){var t,{hide:n,dot:r,points:a,className:l,xAxisId:s,yAxisId:c,top:p,left:d,width:h,height:v,id:x,needClip:S}=this.props;if(n)return null;var T=Je("recharts-line",l),C=x,{r:E=3,strokeWidth:_=2}=(t=gt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=gM(r),N=E*2+_;return M.createElement(M.Fragment,null,M.createElement(cr,{className:T},S&&M.createElement("defs",null,M.createElement(vP,{clipPathId:C,xAxisId:s,yAxisId:c}),!R&&M.createElement("clipPath",{id:"clipPath-dots-".concat(C)},M.createElement("rect",{x:d-N/2,y:p-N/2,width:h+N,height:v+N}))),M.createElement(eX,{props:this.props,clipPathId:C}),M.createElement(gP,{xAxisId:s,yAxisId:c,data:a,dataPointFormatter:tX,errorBarOffset:0},this.props.children)),M.createElement(B9,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var RP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Qo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function rX(e){var t=Er(e,RP),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:s,connectNulls:c,dot:p,hide:d,isAnimationActive:h,label:v,legendType:x,xAxisId:S,yAxisId:T,id:C}=t,E=i0(t,VW),{needClip:_}=Qy(S,T),R=Zy(),N=If(),O=gn(),D=Se(te=>UW(te,S,T,O,C));if(N!=="horizontal"&&N!=="vertical"||D==null||R==null)return null;var{height:k,width:B,x:V,y:z}=R;return M.createElement(nX,_a({},E,{id:C,connectNulls:c,dot:p,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:s,isAnimationActive:h,hide:d,label:v,legendType:x,xAxisId:S,yAxisId:T,points:D,layout:N,height:k,width:B,left:V,top:z,needClip:_}))}function iX(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,dataKey:s,bandSize:c,displayedData:p}=e;return p.map((d,h)=>{var v=zt(d,s);if(t==="horizontal"){var x=JE({axis:n,ticks:a,bandSize:c,entry:d,index:h}),S=st(v)?null:r.scale(v);return{x,y:S,value:v,payload:d}}var T=st(v)?null:n.scale(v),C=JE({axis:r,ticks:l,bandSize:c,entry:d,index:h});return T==null||C==null?null:{x:T,y:C,value:v,payload:d}}).filter(Boolean)}function a0(e){var t=Er(e,RP),n=gn();return M.createElement(cP,{id:t.id,type:"line"},r=>M.createElement(M.Fragment,null,M.createElement(sP,{legendPayload:HW(t)}),M.createElement(lP,{fn:jW,args:t}),M.createElement(dP,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),M.createElement(rX,_a({},t,{id:r}))))}a0.displayName="Line";function y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(n),!0).forEach(function(r){aX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aX(e,t,n){return(t=oX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sX={xAxis:{},yAxis:{},zAxis:{}},PP=kn({name:"cartesianAxis",initialState:sX,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=x1(x1({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:uX,removeXAxis:cX,addYAxis:fX,removeYAxis:dX,addZAxis:fQ,removeZAxis:dQ,updateYAxisWidth:mX}=PP.actions,pX=PP.reducer,hX=["children"],gX=["dangerouslySetInnerHTML","ticks"];function DP(e,t,n){return(t=vX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(null,arguments)}function OP(e,t){if(e==null)return{};var n,r,a=xX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bX(e){var t=Ct(),n=M.useMemo(()=>{var{children:l}=e,s=OP(e,hX);return s},[e]),r=Se(l=>ni(l,n.id)),a=n===r;return M.useEffect(()=>(t(uX(n)),()=>{t(cX(n))}),[n,t]),a?e.children:null}var SX=e=>{var{xAxisId:t,className:n}=e,r=Se(T_),a=gn(),l="xAxis",s=Se(S=>al(S,l,t,a)),c=Se(S=>bR(S,l,t,a)),p=Se(S=>gR(S,t)),d=Se(S=>cY(S,t));if(p==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:v}=e,x=OP(e,gX);return M.createElement(Vi,gv({},x,{scale:s,x:d.x,y:d.y,width:p.width,height:p.height,className:Je("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:c}))},TX=e=>{var t,n,r,a,l;return M.createElement(bX,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},M.createElement(SX,e))};class Ho extends M.Component{render(){return M.createElement(TX,this.props)}}DP(Ho,"displayName","XAxis");DP(Ho,"defaultProps",{allowDataOverflow:An.allowDataOverflow,allowDecimals:An.allowDecimals,allowDuplicatedCategory:An.allowDuplicatedCategory,height:An.height,hide:!1,mirror:An.mirror,orientation:An.orientation,padding:An.padding,reversed:An.reversed,scale:An.scale,tickCount:An.tickCount,type:An.type,xAxisId:0});var CX=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:l=0}=e,s=0;if(t){t.forEach(h=>{if(h){var v=h.getBoundingClientRect();v.width>s&&(s=v.width)}});var c=n?n.getBoundingClientRect().width:0,p=a+l,d=s+p+c+(n?r:0);return Math.round(d)}return 0},EX=["dangerouslySetInnerHTML","ticks"];function IP(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=wX(e,"string");return typeof t=="symbol"?t:t+""}function wX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}function MX(e,t){if(e==null)return{};var n,r,a=_X(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _X(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NX(e){var t=Ct();return M.useEffect(()=>(t(fX(e)),()=>{t(dX(e))}),[e,t]),null}var RX=e=>{var t,{yAxisId:n,className:r,width:a,label:l}=e,s=M.useRef(null),c=M.useRef(null),p=Se(T_),d=gn(),h=Ct(),v="yAxis",x=Se(N=>al(N,v,n,d)),S=Se(N=>vR(N,n)),T=Se(N=>fY(N,n)),C=Se(N=>bR(N,v,n,d));if(M.useLayoutEffect(()=>{var N;if(!(a!=="auto"||!S||Xy(l)||M.isValidElement(l))){var O=s.current,D=O==null||(N=O.tickRefs)===null||N===void 0?void 0:N.current,{tickSize:k,tickMargin:B}=O.props,V=CX({ticks:D,label:c.current,labelGapWithTick:5,tickSize:k,tickMargin:B});Math.round(S.width)!==Math.round(V)&&h(mX({id:n,width:V}))}},[s,s==null||(t=s.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,S==null?void 0:S.width,S,h,l,n,a]),S==null||T==null)return null;var{dangerouslySetInnerHTML:E,ticks:_}=e,R=MX(e,EX);return M.createElement(Vi,vv({},R,{ref:s,labelRef:c,scale:x,x:T.x,y:T.y,width:S.width,height:S.height,className:Je("recharts-".concat(v," ").concat(v),r),viewBox:p,ticks:C}))},PX=e=>{var t,n,r,a,l;return M.createElement(M.Fragment,null,M.createElement(NX,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),M.createElement(RX,e))},DX={allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,hide:!1,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tickCount:wn.tickCount,type:wn.type,width:wn.width,yAxisId:0};class jo extends M.Component{render(){return M.createElement(PX,this.props)}}IP(jo,"displayName","YAxis");IP(jo,"defaultProps",DX);var sg={exports:{}},ug={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function OX(){if(b1)return ug;b1=1;var e=Yo();function t(p,d){return p===d&&(p!==0||1/p===1/d)||p!==p&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,s=e.useMemo,c=e.useDebugValue;return ug.useSyncExternalStoreWithSelector=function(p,d,h,v,x){var S=a(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=s(function(){function E(D){if(!_){if(_=!0,R=D,D=v(D),x!==void 0&&T.hasValue){var k=T.value;if(x(k,D))return N=k}return N=D}if(k=N,n(R,D))return k;var B=v(D);return x!==void 0&&x(k,B)?(R=D,k):(R=D,N=B)}var _=!1,R,N,O=h===void 0?null:h;return[function(){return E(d())},O===null?void 0:function(){return E(O())}]},[d,h,v,x]);var C=r(p,S[0],S[1]);return l(function(){T.hasValue=!0,T.value=C},[C]),c(C),C},ug}var S1;function IX(){return S1||(S1=1,sg.exports=OX()),sg.exports}IX();function kX(e){e()}function LX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){kX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var T1={notify(){},get:()=>[]};function UX(e,t){let n,r=T1,a=0,l=!1;function s(C){h();const E=r.subscribe(C);let _=!1;return()=>{_||(_=!0,E(),v())}}function c(){r.notify()}function p(){T.onStateChange&&T.onStateChange()}function d(){return l}function h(){a++,n||(n=e.subscribe(p),r=LX())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=T1)}function x(){l||(l=!0,h())}function S(){l&&(l=!1,v())}const T={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:p,isSubscribed:d,trySubscribe:x,tryUnsubscribe:S,getListeners:()=>r};return T}var BX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qX=BX(),VX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zX=VX(),$X=()=>qX||zX?M.useLayoutEffect:M.useEffect,GX=$X(),cg=Symbol.for("react-redux-context"),fg=typeof globalThis<"u"?globalThis:{};function FX(){if(!M.createContext)return{};const e=fg[cg]??(fg[cg]=new Map);let t=e.get(M.createContext);return t||(t=M.createContext(null),e.set(M.createContext,t)),t}var HX=FX();function jX(e){const{children:t,context:n,serverState:r,store:a}=e,l=M.useMemo(()=>{const p=UX(a);return{store:a,subscription:p,getServerState:r?()=>r:void 0}},[a,r]),s=M.useMemo(()=>a.getState(),[a]);GX(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),s!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,s]);const c=n||HX;return M.createElement(c.Provider,{value:l},t)}var YX=jX,KX=(e,t)=>t,o0=J([KX,Fe,qN,Rt,kR,ri,gK,$t],SK),l0=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},kP=Qn("mouseClick"),LP=Os();LP.startListening({actionCreator:kP,effect:(e,t)=>{var n=e.payload,r=o0(t.getState(),l0(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(EY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yv=Qn("mouseMove"),UP=Os();UP.startListening({actionCreator:yv,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=zy(r,r.tooltip.settings.shared),l=o0(r,l0(n));a==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(_R({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(MR()))}});function JX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var C1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BP=kn({name:"rootProps",initialState:C1,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:C1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),WX=BP.reducer,{updateOptions:XX}=BP.actions,qP=kn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:mQ}=qP.actions,ZX=qP.reducer,VP=Qn("keyDown"),zP=Qn("focus"),s0=Os();s0.startListening({actionCreator:VP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var s=Number($y(a,ll(n))),c=ri(n);if(l==="Enter"){var p=of(n,"axis","hover",String(a.index));t.dispatch(sv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:p}));return}var d=hY(n),h=d==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,x=s+v*h;if(!(c==null||x>=c.length||x<0)){var S=of(n,"axis","hover",String(x));t.dispatch(sv({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}});s0.startListening({actionCreator:zP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",s=of(n,"axis","hover",String(l));t.dispatch(sv({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:s}))}}}});var Kn=Qn("externalEvent"),$P=Os();$P.startListening({actionCreator:Kn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:oK(n),activeDataKey:qR(n),activeIndex:Ma(n),activeLabel:BR(n),activeTooltipIndex:Ma(n),isTooltipActive:lK(n)};e.payload.handler(r,e.payload.reactEvent)}}});var QX=J([ol],e=>e.tooltipItemPayloads),eZ=J([QX,$s,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:l}=a;if(l!=null){var s=t(l,n);return s}}}),GP=Qn("touchMove"),FP=Os();FP.startListening({actionCreator:GP,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=zy(r,r.tooltip.settings.shared);if(a==="axis"){var l=o0(r,l0({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(_R({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var s,c=n.touches[0],p=document.elementFromPoint(c.clientX,c.clientY);if(!p||!p.getAttribute)return;var d=p.getAttribute(VF),h=(s=p.getAttribute(zF))!==null&&s!==void 0?s:void 0,v=eZ(t.getState(),d,h);t.dispatch(wR({activeDataKey:h,activeIndex:d,activeCoordinate:v}))}}});var tZ=JM({brush:YJ,cartesianAxis:pX,chartData:UK,errorBars:W9,graphicalItems:_9,layout:uF,legend:tH,options:DK,polarAxis:n9,polarOptions:ZX,referenceElements:eW,rootProps:WX,tooltip:AY}),nZ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return IG({reducer:tZ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([LP.middleware,UP.middleware,s0.middleware,$P.middleware,FP.middleware]),devTools:{serialize:{replacer:JX},name:"recharts-".concat(n)}})};function rZ(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=gn(),l=M.useRef(null);if(a)return n;l.current==null&&(l.current=nZ(t,r));var s=$v;return M.createElement(YX,{context:s,store:l.current},n)}function iZ(e){var{layout:t,width:n,height:r,margin:a}=e,l=Ct(),s=gn();return M.useEffect(()=>{s||(l(oF(t)),l(lF({width:n,height:r})),l(aF(a)))},[l,s,t,n,r,a]),null}function aZ(e){var t=Ct();return M.useEffect(()=>{t(XX(e))},[t,e]),null}var oZ=["children"];function lZ(e,t){if(e==null)return{};var n,r,a=sZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(null,arguments)}var uZ={width:"100%",height:"100%"},cZ=M.forwardRef((e,t)=>{var n=Xv(),r=Zv(),a=A_();if(!$c(n)||!$c(r))return null;var{children:l,otherAttributes:s,title:c,desc:p}=e,d,h;return typeof s.tabIndex=="number"?d=s.tabIndex:d=a?0:void 0,typeof s.role=="string"?h=s.role:h=a?"application":void 0,M.createElement(Rv,hf({},s,{title:c,desc:p,role:h,tabIndex:d,width:n,height:r,style:uZ,ref:t}),l)}),fZ=e=>{var{children:t}=e,n=Se(Of);if(!n)return null;var{width:r,height:a,y:l,x:s}=n;return M.createElement(Rv,{width:r,height:a,x:s,y:l},t)},E1=M.forwardRef((e,t)=>{var{children:n}=e,r=lZ(e,oZ),a=gn();return a?M.createElement(fZ,null,n):M.createElement(cZ,hf({ref:t},r),n)});function dZ(){var e=Ct(),[t,n]=M.useState(null),r=Se(qF);return M.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),l=a.width/t.offsetWidth;In(l)&&l!==r&&e(sF(l))}},[t,e,r]),n}function A1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(n),!0).forEach(function(r){pZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pZ(e,t,n){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vZ=M.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:s,onDoubleClick:c,onMouseDown:p,onMouseEnter:d,onMouseLeave:h,onMouseMove:v,onMouseUp:x,onTouchEnd:S,onTouchMove:T,onTouchStart:C,style:E,width:_}=e,R=Ct(),[N,O]=M.useState(null),[D,k]=M.useState(null);VK();var B=dZ(),V=M.useCallback(Q=>{B(Q),typeof t=="function"&&t(Q),O(Q),k(Q)},[B,t,O,k]),z=M.useCallback(Q=>{R(kP(Q)),R(Kn({handler:l,reactEvent:Q}))},[R,l]),te=M.useCallback(Q=>{R(yv(Q)),R(Kn({handler:d,reactEvent:Q}))},[R,d]),$=M.useCallback(Q=>{R(MR()),R(Kn({handler:h,reactEvent:Q}))},[R,h]),K=M.useCallback(Q=>{R(yv(Q)),R(Kn({handler:v,reactEvent:Q}))},[R,v]),de=M.useCallback(()=>{R(zP())},[R]),Ce=M.useCallback(Q=>{R(VP(Q.key))},[R]),ve=M.useCallback(Q=>{R(Kn({handler:s,reactEvent:Q}))},[R,s]),F=M.useCallback(Q=>{R(Kn({handler:c,reactEvent:Q}))},[R,c]),ne=M.useCallback(Q=>{R(Kn({handler:p,reactEvent:Q}))},[R,p]),fe=M.useCallback(Q=>{R(Kn({handler:x,reactEvent:Q}))},[R,x]),Te=M.useCallback(Q=>{R(Kn({handler:C,reactEvent:Q}))},[R,C]),L=M.useCallback(Q=>{R(GP(Q)),R(Kn({handler:T,reactEvent:Q}))},[R,T]),W=M.useCallback(Q=>{R(Kn({handler:S,reactEvent:Q}))},[R,S]);return M.createElement(HR.Provider,{value:N},M.createElement(yM.Provider,{value:D},M.createElement("div",{className:Je("recharts-wrapper",r),style:mZ({position:"relative",cursor:"default",width:_,height:a},E),onClick:z,onContextMenu:ve,onDoubleClick:F,onFocus:de,onKeyDown:Ce,onMouseDown:ne,onMouseEnter:te,onMouseLeave:$,onMouseMove:K,onMouseUp:fe,onTouchEnd:W,onTouchMove:L,onTouchStart:Te,ref:V},n)))}),yZ=["children","className","width","height","style","compact","title","desc"];function xZ(e,t){if(e==null)return{};var n,r,a=bZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SZ=M.forwardRef((e,t)=>{var{children:n,className:r,width:a,height:l,style:s,compact:c,title:p,desc:d}=e,h=xZ(e,yZ),v=Da(h);return c?M.createElement(E1,{otherAttributes:v,title:p,desc:d},n):M.createElement(vZ,{className:r,style:s,width:a,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},M.createElement(E1,{otherAttributes:v,title:p,desc:d,ref:t},M.createElement(nW,null,n)))}),TZ=["width","height"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(null,arguments)}function CZ(e,t){if(e==null)return{};var n,r,a=EZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function EZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AZ={top:5,right:5,bottom:5,left:5},wZ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:AZ,reverseStackOrder:!1,syncMethod:"index"},HP=M.forwardRef(function(t,n){var r,a=Er(t.categoricalChartProps,wZ),{width:l,height:s}=a,c=CZ(a,TZ);if(!$c(l)||!$c(s))return null;var{chartName:p,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:v,categoricalChartProps:x}=t,S={chartName:p,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:v,eventEmitter:void 0};return M.createElement(rZ,{preloadedState:{options:S},reduxStoreName:(r=x.id)!==null&&r!==void 0?r:p},M.createElement(jJ,{chartData:x.data}),M.createElement(iZ,{width:l,height:s,layout:a.layout,margin:a.margin}),M.createElement(aZ,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),M.createElement(SZ,xv({},c,{width:l,height:s,ref:n})))}),MZ=["axis"],jP=M.forwardRef((e,t)=>M.createElement(HP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MZ,tooltipPayloadSearcher:jR,categoricalChartProps:e,ref:t})),_Z=["axis","item"],YP=M.forwardRef((e,t)=>M.createElement(HP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_Z,tooltipPayloadSearcher:jR,categoricalChartProps:e,ref:t}));const yr={kpi:"var(--color-teal)",grid:"rgba(26, 22, 40, 0.1)",text:"#1A1628",bar:"var(--color-orange)"},NZ=(e,t)=>{let n=0,r=0,a=0,l=0,s=0;const c=e.length;if(c===0)return 0;for(let h=0;h<c;h++){const v=e[h]||0,x=t[h]||0;n+=v,r+=x,a+=v*x,l+=v*v,s+=x*x}const p=c*a-n*r,d=Math.sqrt((c*l-n*n)*(c*s-r*r));return d===0?0:p/d},RZ=e=>e===1?"bg-gray-200/50":Math.abs(e)>.7?"bg-red-500/30":Math.abs(e)>.4?"bg-yellow-500/30":"bg-white",PZ=({edaResults:e,selections:t,onSelectionsChange:n,insights:r,diagnostics:a,onDiagnosticsChange:l,isLoadingInsights:s,parsedData:c})=>{const[p,d]=M.useState("diagnostics"),[h,v]=M.useState(null),[x,S]=M.useState(null),[T,C]=M.useState(!1),[E,_]=M.useState(!1),R=(V,z)=>{const te=a.map(($,K)=>K===V?{...$,isApproved:z}:$);l(te)},N=M.useMemo(()=>Object.keys(t).filter(V=>t[V]===at.MARKETING_ACTIVITY),[t]),O=()=>{h||T||(C(!0),setTimeout(()=>{const V={};for(const z of N){V[z]={};for(const te of N){if(z===te){V[z][te]=1;continue}if(V[te]&&typeof V[te][z]<"u"){V[z][te]=V[te][z];continue}const $=c.map(de=>Number(de[z])||0),K=c.map(de=>Number(de[te])||0);V[z][te]=NZ($,K)}}v(V),C(!1)},100))},D=()=>{x||E||(_(!0),setTimeout(()=>{const V=N.map(z=>{if(!c||c.length===0)return{name:z,sparsity:0};const K=c.map(de=>de[z]).filter(de=>de==null||de===0||String(de).trim()==="").length/c.length*100;return{name:z,sparsity:K}});S(V),_(!1)},100))},k=[{id:"diagnostics",name:"Channel Diagnostics"},{id:"correlation",name:"Correlation Matrix"},{id:"sparsity",name:"Sparsity Analysis"}],B=()=>{switch(p){case"diagnostics":return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsxs("div",{className:"lg:col-span-2",children:[w.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Dependent Variable Trend"}),w.jsx("p",{className:"text-sm text-gray-600 mb-4",children:r==null?void 0:r.trendsSummary}),w.jsx(sf,{width:"100%",height:300,children:w.jsxs(jP,{data:r==null?void 0:r.trendData,children:[w.jsx(pv,{strokeDasharray:"3 3",stroke:yr.grid}),w.jsx(Ho,{dataKey:"date",stroke:yr.text,tick:{fontSize:12}}),w.jsx(jo,{stroke:yr.kpi,tick:{fontSize:12,fill:yr.kpi}}),w.jsx(lf,{wrapperClassName:"glass-pane"}),w.jsx(kf,{wrapperStyle:{color:yr.text}}),w.jsx(a0,{type:"monotone",dataKey:"kpi",name:Object.keys(t).find(V=>t[V]===at.DEPENDENT_VARIABLE),stroke:yr.kpi,strokeWidth:2,dot:!1})]})})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"AI Summary"}),w.jsx("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 space-y-2",children:w.jsx("p",{children:r==null?void 0:r.diagnosticsSummary})})]})]}),w.jsxs("div",{className:"mt-8",children:[w.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Channel Diagnostics"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-3",children:"Channel"}),w.jsx("th",{className:"p-3",children:"Sparsity"}),w.jsx("th",{className:"p-3",children:"Volatility (CV)"}),w.jsx("th",{className:"p-3",children:"Latest 52W Spend"}),w.jsx("th",{className:"p-3",children:"YoY Spend Trend"}),w.jsx("th",{className:"p-3 w-2/5",children:"AI Commentary"}),w.jsx("th",{className:"p-3 text-center",children:"Action"})]})}),w.jsx("tbody",{children:a.map((V,z)=>{const te=parseFloat(V.yoySpendTrend||V.yoyTrend),$=te>0?"text-green-600":te<0?"text-red-600":"text-gray-700",de=parseFloat(V.volatility)>50?"text-yellow-600":"text-gray-700";return w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("td",{className:"p-3 font-semibold",children:V.name}),w.jsx("td",{className:"p-3",children:V.sparsity}),w.jsx("td",{className:`p-3 font-mono ${de}`,children:V.volatility}),w.jsx("td",{className:"p-3 font-mono",children:V.latest52wSpend||"N/A"}),w.jsx("td",{className:`p-3 font-mono font-bold ${$}`,children:V.yoySpendTrend||V.yoyTrend}),w.jsx("td",{className:"p-3 text-gray-500 text-xs italic",children:V.commentary}),w.jsx("td",{className:"p-3 text-center",children:w.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[w.jsx("button",{type:"button",onClick:()=>R(z,!0),className:`px-3 py-1 text-xs font-medium border rounded-l-lg transition-colors ${V.isApproved?"bg-[#32A29B] text-white border-[#32A29B]":"bg-transparent text-gray-600 border-gray-300 hover:bg-gray-100"}`,children:"Approve"}),w.jsx("button",{type:"button",onClick:()=>R(z,!1),className:`px-3 py-1 text-xs font-medium border rounded-r-lg transition-colors ${V.isApproved?"bg-transparent text-gray-600 border-gray-300 hover:bg-gray-100":"bg-gray-500 text-white border-gray-500"}`,children:"Exclude"})]})})]},V.name)})})]})})]})]});case"correlation":return w.jsxs("div",{className:"overflow-x-auto",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Correlation matrix of marketing channels. High values (>0.7, in red) may indicate multicollinearity, which can make model results unstable."}),T?w.jsx("div",{className:"flex justify-center items-center py-12",children:w.jsxs("div",{className:"text-center",children:[w.jsx(da,{}),w.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Loading correlation matrix..."})]})}):h?w.jsxs("table",{className:"w-full text-center text-xs border-collapse",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-2 border border-gray-200 bg-gray-100"}),N.map(V=>w.jsx("th",{className:"p-2 border border-gray-200 bg-gray-100 font-medium",children:V},V))]})}),w.jsx("tbody",{children:N.map(V=>w.jsxs("tr",{children:[w.jsx("td",{className:"p-2 border border-gray-200 font-medium bg-gray-100",children:V}),N.map(z=>{var te,$,K;return w.jsx("td",{className:`p-2 border border-gray-200 font-mono ${RZ(((te=h[V])==null?void 0:te[z])??0)}`,children:(K=($=h[V])==null?void 0:$[z])==null?void 0:K.toFixed(2)},z)})]},V))})]}):w.jsx("div",{className:"text-center py-8 text-gray-500",children:"Click the tab to load correlation data"})]});case"sparsity":return w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Sparsity of marketing channels, measured as the percentage of zero-value entries. High sparsity may affect model stability or indicate "flighted" campaigns.'}),E?w.jsx("div",{className:"flex justify-center items-center py-12",children:w.jsxs("div",{className:"text-center",children:[w.jsx(da,{}),w.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Loading sparsity analysis..."})]})}):x?w.jsx(sf,{width:"100%",height:350,children:w.jsxs(YP,{data:x,margin:{top:5,right:20,left:0,bottom:80},children:[w.jsx(pv,{strokeDasharray:"3 3",stroke:yr.grid}),w.jsx(Ho,{dataKey:"name",stroke:yr.text,angle:-45,textAnchor:"end",interval:0,height:100,tick:{fontSize:12}}),w.jsx(jo,{stroke:yr.text,unit:"%"}),w.jsx(lf,{wrapperClassName:"glass-pane",formatter:V=>`${Number(V).toFixed(1)}%`}),w.jsx(e0,{dataKey:"sparsity",name:"Sparsity %",children:x.map((V,z)=>w.jsx(td,{fill:V.sparsity>50?"#ef4444":V.sparsity>20?"#f59e0b":yr.bar},`cell-${z}`))})]})}):w.jsx("div",{className:"text-center py-8 text-gray-500",children:"Click the tab to load sparsity data"})]})}};return w.jsxs("div",{className:"p-4 md:p-6 space-y-8 max-w-7xl mx-auto",children:[w.jsxs("div",{className:"glass-pane p-6",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Confirm Column Roles"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(V=>w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:V.columnName}),w.jsx("select",{value:t[V.columnName]||"",onChange:z=>n({...t,[V.columnName]:z.target.value}),className:"w-full bg-white border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-[#EC7200] text-gray-900",children:Object.values(at).map(z=>w.jsx("option",{value:z,children:z},z))})]},V.columnName))})]}),s&&!r&&w.jsx("div",{className:"glass-pane p-6 flex justify-center items-center min-h-[24rem]",children:w.jsxs("div",{className:"text-center",children:[w.jsx(da,{}),w.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Running initial diagnostics..."})]})}),r&&w.jsxs("div",{className:"glass-pane p-6 relative",children:[s&&w.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-sm flex justify-center items-center rounded-lg z-10",children:w.jsxs("div",{className:"text-center",children:[w.jsx(da,{}),w.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Updating diagnostics..."})]})}),w.jsxs("div",{className:s?"opacity-40 transition-opacity":"",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"2. Review Diagnostics & Data Quality"}),w.jsx("div",{className:"border-b border-gray-200 mb-6",children:w.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:k.map(V=>w.jsx("button",{onClick:()=>{d(V.id),V.id==="correlation"&&O(),V.id==="sparsity"&&D()},className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${p===V.id?"border-[#EC7200] text-[#EC7200]":"border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-300"}`,children:V.name},V.id))})}),w.jsx("div",{children:B()})]})]})]})},DZ=({initialParams:e,onParamsChange:t,agentSummary:n})=>{const r=(a,l,s)=>{t(e.map(c=>c.channel===a?{...c,[l]:s}:c))};return e.length===0?w.jsx("p",{className:"p-8 text-center",children:"Loading feature recommendations..."}):w.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto space-y-8",children:[n&&w.jsxs("div",{className:"glass-pane p-6 animate-fade-in",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Agent's Analysis"}),w.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 whitespace-pre-wrap",children:n})]}),w.jsxs("div",{className:"glass-pane p-6",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Feature Engineering"}),w.jsx("p",{className:"text-gray-600 mb-6",children:"Review and adjust the agent's recommended parameters. Your domain expertise is valuable here."}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-3 w-1/6",children:"Channel"}),w.jsx("th",{className:"p-3 w-1/4",children:"Adstock (Decay)"}),w.jsx("th",{className:"p-3 w-1/4",children:"Lag (Weeks)"}),w.jsx("th",{className:"p-3 w-1/6",children:"Transformation"}),w.jsx("th",{className:"p-3",children:"AI Rationale"})]})}),w.jsx("tbody",{children:e.map(a=>w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("td",{className:"p-3 font-semibold",children:a.channel}),w.jsx("td",{className:"p-3",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("input",{type:"range",min:"0",max:"0.95",step:"0.05",value:a.adstock,onChange:l=>r(a.channel,"adstock",parseFloat(l.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-thumb"}),w.jsx("span",{className:"font-mono text-gray-700 w-12 text-center",children:a.adstock.toFixed(2)})]})}),w.jsx("td",{className:"p-3",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("input",{type:"range",min:"0",max:"8",step:"1",value:a.lag,onChange:l=>r(a.channel,"lag",parseInt(l.target.value,10)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-thumb"}),w.jsx("span",{className:"font-mono text-gray-700 w-10 text-center",children:a.lag})]})}),w.jsx("td",{className:"p-2",children:w.jsxs("select",{value:a.transform,onChange:l=>r(a.channel,"transform",l.target.value),className:"w-full p-2 bg-white border border-gray-300 rounded-md",children:[w.jsx("option",{children:"Log-transform"}),w.jsx("option",{children:"Negative Exponential"}),w.jsx("option",{children:"S-Curve"}),w.jsx("option",{children:"Power"})]})}),w.jsx("td",{className:"p-3 text-gray-500 text-xs italic",children:a.rationale})]},a.channel))})]})})]})]})},OZ={text:"#1A1628"},IZ=({model:e,onModelChange:t,onRequestFinalize:n,isRecalibrating:r})=>{const a=(s,c,p)=>{const d=e.details.map(h=>h.name===s?{...h,[c]:p}:h);t({...e,details:d})},l=e.roi>0?"text-green-600":"text-red-600";return w.jsxs("div",{className:"glass-pane p-6 h-full flex flex-col relative",children:[r&&w.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-sm flex justify-center items-center rounded-lg z-10 transition-opacity",children:w.jsxs("div",{className:"text-center",children:[w.jsx(da,{}),w.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Recalibrating model..."})]})}),w.jsxs("div",{className:`flex flex-col h-full ${r?"opacity-40 pointer-events-none":"opacity-100"}`,children:[w.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Active Model: ",e.id," (",e.algo,")"]}),w.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:e.commentary}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center mb-6",children:[w.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"R-Square"}),w.jsx("div",{className:"text-2xl font-bold text-[#32A29B]",children:e.rsq.toFixed(2)})]}),w.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"MAPE"}),w.jsxs("div",{className:"text-2xl font-bold text-[#32A29B]",children:[e.mape.toFixed(1),"%"]})]}),w.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"Blended ROI"}),w.jsxs("div",{className:`text-2xl font-bold ${l}`,children:["$",e.roi.toFixed(2)]})]})]}),w.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-2 -mr-2 space-y-6",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Channel Contribution"}),w.jsx(sf,{width:"100%",height:200,children:w.jsxs(YP,{data:e.details,layout:"vertical",margin:{top:5,right:20,left:30,bottom:5},children:[w.jsx(Ho,{type:"number",hide:!0}),w.jsx(jo,{type:"category",dataKey:"name",width:100,stroke:OZ.text,fontSize:12,interval:0}),w.jsx(lf,{wrapperClassName:"glass-pane",cursor:{fill:"rgba(0,0,0, 0.05)"},formatter:s=>`${s.toFixed(1)}%`}),w.jsx(e0,{dataKey:"contribution",name:"Contribution",stackId:"a",children:e.details.map((s,c)=>w.jsx(td,{fill:s.included?s.pValue!=null&&s.pValue>.1?"#f87171":"#32A29B":"#9ca3af"},`cell-${c}`))})]})})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-gray-800",children:"Manual Parameter Calibration"}),w.jsx("div",{className:"overflow-x-auto mt-4",children:w.jsxs("table",{className:"w-full text-left text-sm",children:[w.jsx("thead",{className:"bg-gray-100 sticky top-0",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-2",children:"Channel"}),w.jsx("th",{className:"p-2",children:"Adstock"}),w.jsx("th",{className:"p-2",children:"Lag"}),w.jsx("th",{className:"p-2",children:"Transform"})]})}),w.jsx("tbody",{children:e.details.map(s=>w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("td",{className:"py-2 px-2",children:w.jsxs("label",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded bg-gray-200 border-gray-300 text-[#EC7200] focus:ring-[#EC7200]",checked:s.included,onChange:c=>a(s.name,"included",c.target.checked)}),w.jsx("span",{className:"ml-2.5 font-semibold",children:s.name}),s.pValue!==null&&w.jsxs("span",{className:`ml-2 text-xs px-1.5 py-0.5 rounded-full ${s.pValue>.1?"bg-red-500/20 text-red-700":"bg-green-500/20 text-green-700"}`,children:["p=",s.pValue.toFixed(2)]})]})}),w.jsx("td",{children:w.jsx("input",{type:"number",step:"0.05",value:s.adstock,onChange:c=>a(s.name,"adstock",parseFloat(c.target.value)),className:"w-20 p-1 bg-white border border-gray-300 rounded-md"})}),w.jsx("td",{children:w.jsx("input",{type:"number",value:s.lag,onChange:c=>a(s.name,"lag",parseInt(c.target.value)),className:"w-20 p-1 bg-white border border-gray-300 rounded-md"})}),w.jsx("td",{children:w.jsxs("select",{value:s.transform,onChange:c=>a(s.name,"transform",c.target.value),className:"w-full p-1 bg-white border border-gray-300 rounded-md",children:[w.jsx("option",{children:"Log-transform"}),w.jsx("option",{children:"Negative Exponential"}),w.jsx("option",{children:"S-Curve"}),w.jsx("option",{children:"Power"})]})})]},s.name))})]})})]})]}),w.jsx("div",{className:"mt-auto pt-6",children:w.jsx("button",{onClick:n,className:"w-full primary-button text-base font-semibold py-3 flex items-center justify-center gap-2",children:"Finalize Model & Generate Report"})})]})]})},kZ=({models:e,activeModelId:t,onSetActiveModel:n,onModelChange:r,onRequestFinalize:a,isRecalibrating:l})=>{if(e.length===0)return w.jsx("p",{className:"p-8 text-center",children:"Waiting for model results..."});const s=e.find(p=>p.id===t),c=[...e].sort((p,d)=>{const h=p.id.includes("_cal_"),v=d.id.includes("_cal_");return h&&!v?-1:!h&&v?1:0});return w.jsxs("div",{className:"flex h-full p-4 md:p-6 gap-6",children:[w.jsxs("div",{className:"w-1/2 flex flex-col glass-pane p-4",children:[w.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Model Leaderboard"}),w.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-2 -mr-2",children:w.jsxs("table",{className:"w-full text-left text-sm",children:[w.jsx("thead",{className:"bg-gray-100 sticky top-0",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-2",children:"Model ID"}),w.jsx("th",{className:"p-2",children:"Algo"}),w.jsx("th",{className:"p-2",children:"R-Sq"}),w.jsx("th",{className:"p-2",children:"MAPE"}),w.jsx("th",{className:"p-2",children:"ROI"})]})}),w.jsx("tbody",{children:c.map(p=>{const d=p.roi<0?"text-red-600":"text-green-600",h=p.id===t;return w.jsxs("tr",{onClick:()=>n(p.id),className:`border-b border-gray-200 cursor-pointer transition-colors hover:bg-gray-100 ${h?"bg-[#EC7200]/10":""}`,children:[w.jsx("td",{className:"p-2 font-semibold",children:p.id}),w.jsx("td",{className:"p-2 text-gray-500",children:p.algo.replace(" Regression","")}),w.jsx("td",{className:"p-2 font-mono text-[#32A29B]",children:p.rsq.toFixed(2)}),w.jsxs("td",{className:"p-2 font-mono text-[#32A29B]",children:[p.mape.toFixed(1),"%"]}),w.jsxs("td",{className:`p-2 font-mono ${d}`,children:["$",p.roi.toFixed(2)]})]},p.id)})})]})})]}),w.jsx("div",{className:"w-1/2",children:s?w.jsx(IZ,{model:s,onModelChange:r,onRequestFinalize:a,isRecalibrating:l}):w.jsxs("div",{className:"glass-pane h-full flex flex-col items-center justify-center text-center p-8",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Select a Model"}),w.jsx("p",{className:"text-gray-600 mt-2",children:"Click a model from the leaderboard on the left to view its detailed results, ask questions about it, or tune its parameters."})]})})]})},dg={line:"var(--color-teal)",text:"#1A1628"},LZ=(e,t)=>{const n=Array.from({length:21},(l,s)=>s*8),r=e.contribution/100*t*1.5;let a;switch(e.transform){case"S-Curve":{a=n.map(s=>r/(1+Math.exp(-5*(s-60)/100)));break}case"Power":{const l=1-e.adstock*.8,s=r/Math.pow(160,l);a=n.map(c=>s*Math.pow(c,l));break}case"Log-transform":{const l=r/Math.log(161);a=n.map(s=>l*Math.log(s+1));break}case"Negative Exponential":default:{const l=(1.1-e.adstock)*3;a=n.map(s=>r*(1-Math.exp(-l*s/100)));break}}return n.map((l,s)=>({x:l,y:a[s]||0}))},UZ=({model:e,onGoToOptimizer:t})=>{if(!e)return w.jsx("p",{className:"p-8 text-center",children:"No model finalized. Please go back and calibrate a model."});const n=e.details.filter(h=>h.included),r=n.reduce((h,v)=>h+(v.adstock*500+v.lag*100),1e3),a=n.reduce((h,v)=>h+v.contribution,0)*1e3,l=85e3,s=a+l,c=n.map(h=>{const v=h.adstock*500+h.lag*100+Math.random()*20,x=h.contribution/100*a,S=x/s*100,T=h.roi,C=T*(1-h.adstock)*.8;return{name:h.name,spend:v,attributedKPI:x,impactPercentage:S,avgROI:T,mROI:C}}),p=e.roi<0?"text-red-600":"text-green-600",d=()=>{let h=`MMM Final Report - Model ID: ${e.id} (${e.algo})
`;h+=`===================================================

`,h+=`KEY METRICS
`,h+=`--------------------------
`,h+=`R-Square: ${e.rsq.toFixed(2)}
`,h+=`MAPE: ${e.mape.toFixed(1)}%
`,h+=`Total Spend: $${(r/10).toFixed(1)}M
`,h+=`Blended ROI: $${e.roi.toFixed(2)}

`,h+=`PERFORMANCE SUMMARY
`,h+=`--------------------------------------------------------------------------------------------------
`,h+=`| Channel                   | Spend      | Attributed KPI | Impact %   | Avg. ROI   | Marginal ROI |
`,h+=`--------------------------------------------------------------------------------------------------
`,c.forEach(C=>{h+=`| ${C.name.padEnd(25)} | $${C.spend.toFixed(1).padStart(7)}M | ${C.attributedKPI.toLocaleString(void 0,{maximumFractionDigits:0}).padStart(14)} | ${C.impactPercentage.toFixed(1).padStart(8)}% | $${C.avgROI.toFixed(2).padStart(8)} | $${C.mROI.toFixed(2).padStart(10)} |
`});const v=(l/s*100).toFixed(1);h+=`| Base Sales / Intercept    | -          | ${l.toLocaleString().padStart(14)} | ${v.padStart(8)}% | -          | -            |
`,h+=`--------------------------------------------------------------------------------------------------

`,h+=`RESPONSE CURVE TRANSFORMS
`,h+=`--------------------------
`,n.forEach(C=>{h+=`- ${C.name}: ${C.transform}
`});const x=new Blob([h],{type:"text/plain"}),S=URL.createObjectURL(x),T=document.createElement("a");T.href=S,T.download=`MMx-Report-${e.id}.txt`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(S)};return w.jsx("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:w.jsxs("div",{className:"glass-pane p-6",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold",children:"MMx Final Report"}),w.jsxs("p",{className:"text-sm text-gray-500",children:["Generated from Calibrated Model ID: ",w.jsxs("strong",{children:[e.id," (",e.algo,")"]})]})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:d,className:"secondary-button",children:"Export Report"}),w.jsx("button",{onClick:t,className:"primary-button",children:"Proceed to Optimizer"})]})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 my-8 text-center",children:[w.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"R-Square"}),w.jsx("div",{className:"text-3xl font-bold",children:e.rsq.toFixed(2)})]}),w.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"MAPE"}),w.jsxs("div",{className:"text-3xl font-bold",children:[e.mape.toFixed(1),"%"]})]}),w.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"Total Spend"}),w.jsxs("div",{className:"text-3xl font-bold",children:["$",(r/10).toFixed(1),"M"]})]}),w.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"Blended ROI"}),w.jsxs("div",{className:`text-3xl font-bold ${p}`,children:["$",e.roi.toFixed(2)]})]})]}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-8 mb-4",children:"Performance Summary"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-3",children:"Channel"}),w.jsx("th",{className:"p-3",children:"Spend"}),w.jsx("th",{className:"p-3",children:"Attributed KPI"}),w.jsx("th",{className:"p-3",children:"Impact %"}),w.jsx("th",{className:"p-3",children:"Avg. ROI"}),w.jsx("th",{className:"p-3",children:"Marginal ROI (mROI)"})]})}),w.jsxs("tbody",{children:[c.map(h=>w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("td",{className:"p-3 font-semibold",children:h.name}),w.jsxs("td",{className:"p-3",children:["$",h.spend.toFixed(1),"M"]}),w.jsx("td",{className:"p-3",children:h.attributedKPI.toLocaleString(void 0,{maximumFractionDigits:0})}),w.jsxs("td",{className:"p-3",children:[h.impactPercentage.toFixed(1),"%"]}),w.jsxs("td",{className:`p-3 font-bold ${h.avgROI<0?"text-red-600":"text-green-600"}`,children:["$",h.avgROI.toFixed(2)]}),w.jsxs("td",{className:`p-3 font-bold ${h.mROI<0?"text-red-600":"text-green-600"}`,children:["$",h.mROI.toFixed(2)]})]},h.name)),w.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[w.jsx("td",{className:"p-3 font-semibold",children:"Base Sales / Intercept"}),w.jsx("td",{children:"-"}),w.jsx("td",{children:l.toLocaleString()}),w.jsxs("td",{children:[(l/s*100).toFixed(1),"%"]}),w.jsx("td",{children:"-"}),w.jsx("td",{children:"-"})]})]})]})}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-8 mb-4",children:"Response Curves"}),w.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"These curves show the estimated diminishing returns for each channel based on its transformation setting in the final model."}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(h=>{const v=LZ(h,a);return w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[w.jsxs("h5",{className:"font-semibold text-center mb-2 text-gray-800",children:[h.name," ",w.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["(",h.transform,")"]})]}),w.jsx(sf,{width:"100%",height:200,children:w.jsxs(jP,{data:v,children:[w.jsx(Ho,{type:"number",dataKey:"x",name:"Spend",stroke:dg.text,tick:{fontSize:10},unit:"k"}),w.jsx(jo,{stroke:dg.text,tick:{fontSize:10},domain:[0,"dataMax"]}),w.jsx(lf,{wrapperClassName:"glass-pane"}),w.jsx(a0,{type:"monotone",dataKey:"y",name:"Response",stroke:dg.line,strokeWidth:2,dot:!1})]})})]},h.name)})})]})})},BZ=({scenario:e,modelId:t})=>{const n=()=>{let r=`Budget Optimization Scenario: "${e.title}"
`;r+=`Based on MMx Model ID: ${t}
`,r+=`===================================================

`,r+=`SCENARIO METRICS
`,r+=`--------------------------
`,r+=`Recommended Spend: $${e.recommendedSpend.toFixed(1)}M
`,r+=`Projected ROI: $${e.projectedROI.toFixed(2)}
`,r+=`Net Revenue: $${e.netRevenue.toFixed(1)}M

`,r+=`CHANNEL ALLOCATION
`,r+=`------------------------------------------------------------------------------------------------------------------------------
`,r+=`| Channel                   | Current Spend  | Rec. Spend     | Change    | Proj. ROI  | Agent Commentary
`,r+=`------------------------------------------------------------------------------------------------------------------------------
`,e.channels.forEach(c=>{const p=(c.change>=0?"+":"")+c.change.toFixed(0)+"%";r+=`| ${c.name.padEnd(25)} | $${c.currentSpend.toFixed(1).padStart(12)}M | $${c.recommendedSpend.toFixed(1).padStart(12)}M | ${p.padStart(9)} | $${c.projectedROI.toFixed(2).padStart(8)} | ${c.agentCommentary}
`}),r+=`------------------------------------------------------------------------------------------------------------------------------
`;const a=new Blob([r],{type:"text/plain"}),l=URL.createObjectURL(a),s=document.createElement("a");s.href=l,s.download=`Optimizer-Scenario-${e.id.replace(/:|\s/g,"_")}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l)};return w.jsxs("div",{className:"animate-fade-in flex flex-col h-full",children:[w.jsx("div",{className:"flex justify-between items-center mb-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center w-full",children:[w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"Recommended Spend"}),w.jsxs("div",{className:"text-3xl font-bold",children:["$",e.recommendedSpend.toFixed(1),"M"]})]}),w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"Projected ROI"}),w.jsxs("div",{className:`text-3xl font-bold ${e.projectedROI<0?"text-red-600":"text-green-600"}`,children:["$",e.projectedROI.toFixed(2)]})]}),w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[w.jsx("div",{className:"text-sm text-gray-500",children:"Net Revenue"}),w.jsxs("div",{className:`text-3xl font-bold ${e.netRevenue<0?"text-red-600":"text-green-600"}`,children:["$",e.netRevenue.toFixed(1),"M"]})]})]})}),w.jsx("div",{className:"flex justify-end mb-4",children:w.jsx("button",{onClick:n,className:"secondary-button",children:"Export Scenario"})}),w.jsx("div",{className:"overflow-x-auto flex-grow",children:w.jsxs("table",{className:"w-full text-left text-sm",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-3",children:"Channel"}),w.jsx("th",{className:"p-3",children:"Current Spend"}),w.jsx("th",{className:"p-3",children:"Recommended Spend"}),w.jsx("th",{className:"p-3",children:"Change"}),w.jsx("th",{className:"p-3",children:"Projected ROI"}),w.jsx("th",{className:"p-3 w-1/3",children:"Agent Commentary"})]})}),w.jsx("tbody",{children:e.channels.map(r=>{const a=r.change>=0?"text-green-600":"text-red-600",l=r.projectedROI<0?"text-red-600":"text-green-600";return w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("td",{className:"p-3 font-semibold",children:r.name}),w.jsxs("td",{className:"p-3",children:["$",r.currentSpend.toFixed(1),"M"]}),w.jsxs("td",{className:"p-3 font-bold",children:["$",r.recommendedSpend.toFixed(1),"M"]}),w.jsxs("td",{className:`p-3 font-bold ${a}`,children:[r.change>=0?"+":"",r.change.toFixed(0),"%"]}),w.jsxs("td",{className:`p-3 font-bold ${l}`,children:["$",r.projectedROI.toFixed(2)]}),w.jsx("td",{className:"p-3 text-gray-500 text-xs italic",children:r.agentCommentary})]},r.name)})})]})})]})},qZ=({model:e,scenarios:t,activeScenarioId:n,onSelectScenario:r})=>{if(!e||t.length===0)return w.jsx("p",{className:"p-8 text-center",children:"No optimization scenarios available. Please finalize a model first."});const a=t.find(l=>l.id===n)||t[0];return w.jsx("div",{className:"p-4 md:p-6 max-w-full mx-auto h-full",children:w.jsxs("div",{className:"glass-pane p-6 h-full flex flex-col",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Budget Optimization Scenarios"}),w.jsxs("p",{className:"text-gray-600",children:["Based on your finalized model (",w.jsx("strong",{children:e.id}),"), here are several budget allocation scenarios. Ask the agent to create new ones based on your goals."]})]}),w.jsxs("div",{className:"flex-grow flex gap-8 overflow-hidden",children:[w.jsx("nav",{className:"w-1/3 md:w-1/4 flex-shrink-0 overflow-y-auto custom-scrollbar pr-4 -mr-4 border-r border-gray-200",children:w.jsx("ul",{className:"space-y-2",children:t.map(l=>{const s=l.id===n;return w.jsx("li",{children:w.jsxs("button",{onClick:()=>r(l.id),className:`w-full text-left p-3 rounded-lg transition-colors relative text-sm ${s?"bg-[#EC7200]/20 text-[#1A1628] font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:[s&&w.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-[#EC7200] rounded-l-lg"}),l.title]})},l.id)})})}),w.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar",children:a&&w.jsx(BZ,{scenario:a,modelId:e.id})})]})]})})},VZ=({summary:e})=>!e||e.length===0?null:w.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 mt-3",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-100",children:w.jsxs("tr",{children:[w.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-600",children:"Role"}),w.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-600",children:"Assigned Columns"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.filter(t=>t.columns.length>0).map(({role:t,columns:n})=>w.jsxs("tr",{children:[w.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-semibold text-gray-800",children:t}),w.jsx("td",{className:"px-3 py-2 whitespace-normal text-sm text-gray-600",children:n.join(", ")})]},t))})]})}),zZ=(e,t)=>{const n={maximizeROI:{TV_Impressions:"Forward-looking signals show high engagement. Increasing spend to capture strong mROI before saturation.",Digital_Clicks:"Performance KPIs show this channel is near saturation. Recommending a 15% budget reallocation to more efficient channels.",Default:"Reallocating budget towards this channel based on its high marginal ROI."},maximizeContrib:{TV_Impressions:"Increasing budget to saturation point to maximize reach and contribution, accepting a lower ROI.",Search_Spend:"Aggressively increasing spend to capture all available volume for growth, despite diminishing returns.",Default:"Increasing spend to drive maximum volume contribution, a key goal of this scenario."},balanced:{TV_Impressions:"Optimized budget increase, balancing its strong mROI with the need to fund other channels.",Search_Spend:"High executional costs (CPCs) are compressing ROI. A slight reduction frees up budget for more efficient tactics.",Default:"Spend adjusted to balance its performance KPIs with overall portfolio efficiency."}},a={"Scenario 1: Maximize ROI":"maximizeROI","Scenario 2: Maximize Contribution":"maximizeContrib","Scenario 3: Balanced Approach":"balanced"}[t]||"balanced";return n[a][e]||n[a].Default},mg=(e,t,n,r,a,l)=>{const s=e.details.filter(h=>h.included).map(h=>{const v=h.adstock*500+h.lag*100+Math.random()*20,x=r(h.roi),S=v*x,T=S===0&&v===0?0:(S-v)/v*100;return{name:h.name,currentSpend:v/10,recommendedSpend:S/10,change:T,projectedROI:h.roi*(1+l+(x-1)*.1),agentCommentary:zZ(h.name,n)}}),c=s.reduce((h,v)=>h+v.recommendedSpend,0);s.reduce((h,v)=>h+v.currentSpend,0);const p=e.roi+l,d=c*(p-1);return{id:t,title:n,recommendedSpend:c,projectedROI:p,netRevenue:d,channels:s}},$Z=e=>{const t=[];return t.push(mg(e,"maximizeROI","Scenario 1: Maximize ROI",n=>n>e.roi*1.1?1.5:n<e.roi*.9?.5:.8,.9,.15)),t.push(mg(e,"maximizeContrib","Scenario 2: Maximize Contribution",n=>n>e.roi*.5?1.5:1.1,1.2,-.1)),t.push(mg(e,"balanced","Scenario 3: Balanced Approach",n=>n>e.roi*1.1?1.25:n<e.roi*.9?.75:1,1.05,.05)),t},GZ=()=>w.jsxs("div",{className:"flex items-center justify-center space-x-3 py-1",children:[w.jsxs("svg",{width:"38",height:"38",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"MixMind Logo",children:[w.jsx("path",{d:"M27.5,6.88C17.3,7.38,9.5,15.12,9.5,25.38c0,8.62,5.75,16,13.62,18.12",stroke:"#32A29B",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M20.25,41.38c-4.25-3.38-6.75-8.62-6.75-14.5",stroke:"#32A29B",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M19.12,17.25c3.25-2.88,7.75-4.25,12.38-3.62",stroke:"#32A29B",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M17.38,25.38c2.12-3.38,5.75-5.62,9.88-5.62",stroke:"#32A29B",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M20.25,33.5c2.38-1.5,5-2.38,7.88-2.38",stroke:"#32A29B",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M28.12,25.38h10",stroke:"#1A1628",strokeWidth:"2.5",strokeLinecap:"round"}),w.jsx("path",{d:"M38.12,25.38l5-5",stroke:"#1A1628",strokeWidth:"2.5",strokeLinecap:"round"}),w.jsx("circle",{cx:"45.62",cy:"17.88",r:"4.5",fill:"#EC7200"})]}),w.jsxs("div",{children:[w.jsxs("h1",{className:"text-2xl font-bold text-[#1A1628] tracking-tight leading-none",children:[w.jsx("span",{className:"font-semibold",children:"Mix"}),"Mind"]}),w.jsx("p",{className:"text-xs text-gray-500 tracking-wide mt-0.5",children:"From Data to Decisions"})]})]});async function FZ(){try{const e=await fetch("/demo-dataset.csv");if(!e.ok)throw new Error(`Failed to load dataset: ${e.statusText}`);const t=await e.text();return sM(t,r=>{const a={};for(const l in r)if(r[l]!==void 0){const s=Number(r[l]);a[l]=isNaN(s)||r[l].trim()===""?r[l]:s}return a})}catch(e){throw console.error("Error loading demo dataset:",e),new Error("Could not load the embedded demo dataset. Please check that demo-dataset.csv exists in the public folder.")}}function HZ(){return`Hey there!  I'm Maya, your Marketing Mix Modeling expert, and I'm absolutely thrilled to work with you today!

I've got some fantastic news - I've already loaded up the latest marketing performance data and have everything prepared for our deep dive into your MMM analysis. We're talking about a comprehensive dataset with all your key marketing channels, performance metrics, and the contextual factors that really matter for understanding what's driving results.

I can't wait to help you uncover those hidden insights about which channels are truly moving the needle, optimize your media mix, and build a bulletproof strategy for maximizing ROI. This is going to be such a fun analytical journey together! `}async function jZ(){try{return(await fetch("/demo-dataset.csv",{method:"HEAD"})).ok}catch{return!1}}const YZ=()=>{const[e,t]=M.useState(Ne.Welcome),[n,r]=M.useState(new Set([Ne.Welcome])),[a,l]=M.useState([]),[s,c]=M.useState(!1),[p,d]=M.useState(""),[h,v]=M.useState(null),[x,S]=M.useState([]),[T,C]=M.useState([]),[E,_]=M.useState(null),[R,N]=M.useState({}),[O,D]=M.useState([]),[k,B]=M.useState([]),[V,z]=M.useState(""),[te,$]=M.useState([]),[K,de]=M.useState(null),[Ce,ve]=M.useState(null),[F,ne]=M.useState([]),[fe,Te]=M.useState(""),[L,W]=M.useState(""),[Q,oe]=M.useState(!1),[ye,_e]=M.useState(!1),[we,At]=M.useState(!1),[We,se]=M.useState(!1),[Re,Pe]=M.useState(!1),[re,ut]=M.useState(!1),[Ve,Dt]=M.useState(!1),[Ot,xt]=M.useState(null),zi=M.useRef(null),Hs=()=>{var ae;(ae=zi.current)==null||ae.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{Hs()},[a]);const ce=M.useCallback((ae,le="ai")=>{const ue=Date.now()+Math.random();l(xe=>[...xe,{id:ue,sender:le,text:ae,actions:[]}])},[]);M.useEffect(()=>{(async()=>{const le=await jZ();_e(le),le?(ce(HZ()),ce("Perfect! I can see you're as excited as I am to dive into this data. Just hit that big friendly button when you're ready, and we'll jump straight into validating your marketing channels and setting up the perfect MMM analysis. Trust me, the insights we're about to uncover are going to be absolutely game-changing! ")):ce("Hello! I'm your Marketing Mix Modeling AI assistant. I'll guide you through analyzing your marketing data to uncover key insights. Let's start by uploading your data in CSV format.")})()},[ce]);const $i=M.useCallback(()=>{if(!Ce)return;r(le=>new Set(le).add(Ne.Report)),t(Ne.Optimize);const ae=$Z(Ce);ne(ae),Te(ae[0].id),ce(w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Excellent. Welcome to the Budget Optimizer. I've created three starter scenarios based on your model. You can explore them using the list on the left."}),w.jsxs("p",{className:"mt-2",children:["To create a custom plan, just tell me your goals. For example:",w.jsx("br",{}),"- 'What's the best allocation for a $250M budget?'",w.jsx("br",{}),"- 'Maximize prescriptions, I can spend up to $400M.'"]})]}),"ai")},[ce,Ce]),nd=M.useCallback(()=>{t(Ne.Welcome),r(new Set([Ne.Welcome])),l([]),S([]),C([]),_(null),N({}),D([]),B([]),z(""),$([]),de(null),ve(null),ne([]),Te(""),v(null),W(""),oe(!1),At(!1),se(!1),Pe(!1),ut(!1),setTimeout(()=>ce("Hello again! Let's start a new analysis. Please upload your CSV file when you're ready."),100)},[ce]),js=M.useCallback(()=>{const ae=te.find(le=>le.id===K);ae&&(ut(!1),r(le=>new Set(le).add(Ne.Modeling)),ve(ae),t(Ne.Report),ce("Model finalized! I'm now generating the final report with key findings, performance summaries, and response curves. When you're done reviewing, you can ask to 'go to optimizer' or 'start over'."))},[ce,K,te]),rd=M.useCallback(()=>{if(!K){ce("Please select a model from the leaderboard first before finalizing.","ai");return}ce(`You have requested to finalize model **${K}**. This will lock the model and generate the final report. Are you sure you want to proceed? (Type 'yes' to confirm)`,"ai"),ut(!0)},[ce,K]),id=M.useCallback(async()=>{const ae=[],le=Object.keys(R).filter(ue=>[at.MARKETING_SPEND,at.MARKETING_ACTIVITY].includes(R[ue]));for(const ue of k){if(!le.includes(ue.channel)){ae.push(`**${ue.channel} Type Mismatch:** This channel is configured for modeling, but its type is currently set to '${R[ue.channel]||"Not Set"}', not a marketing channel. Please go back to the 'Validate' step to correct the column type.`);continue}x.some(ke=>{const Oe=ke[ue.channel];return Oe!=null&&Oe!==""&&isNaN(Number(Oe))})&&ae.push(`**${ue.channel} Data Type Mismatch:** This channel contains non-numeric text values that cannot be used in modeling. Please check your source data or re-classify this column in the 'Validate' step.`)}if(ae.length>0){let ue=`To proceed to modeling, a few issues require your attention:

`+ae.map((xe,ke)=>`${ke+1}. ${xe}`).join(`

`);ce(ue),W(""),Pe(!0);return}Pe(!1),ce("Great choices. Starting the modeling process..."),c(!0),d("Running 50+ model iterations..."),v(null),r(ue=>new Set(ue).add(Ne.FeatureEngineering)),t(Ne.Modeling),ce("I'm now running a suite of simulated modeling techniques to find the most reliable result. This may take a moment...");try{const ue=await Nz(R,k,L,x);$(ue),ce("Modeling complete! Here is the new Modeling Workspace. The leaderboard is on the left. Click a model ID to see its detailed results and calibration controls on the right. You can ask me questions about these results (e.g., 'What is the TV impact in br_1?'), request a re-run with new parameters, or tune the active model via chat.")}catch(ue){const xe=ue instanceof Error?ue.message:"An unknown error occurred during modeling.";v(`Modeling failed: ${xe}`),ce(`I'm sorry, the modeling simulation failed. Error: ${xe}.`),t(Ne.FeatureEngineering)}finally{c(!1),W("")}},[ce,R,x,L,k]),Gi=M.useCallback(async()=>{const ae=O.filter(le=>le.isApproved).map(le=>le.name).filter(le=>Object.keys(R).filter(xe=>R[xe]===at.MARKETING_ACTIVITY).some(xe=>{const ke=xe.toLowerCase().replace(/_?(impressions?|clicks?|grps?|reach|views?|activity|count|events?|sends?|engagements?)$/i,""),Oe=le.toLowerCase();return ke.includes(Oe)||Oe.includes(ke)||ke.replace(/[^a-z]/g,"")===Oe.replace(/[^a-z]/g,"")}));if(ae.length===0){ce("It looks like no channels are approved. Please approve at least one channel from the diagnostics table on the right to continue, then let me know you want to proceed.","ai"),se(!0);return}se(!1),ce("Thanks for confirming the data diagnostics. Now, let's think about how to model these channels."),c(!0),d("Recommending features...");try{ce("I'll recommend feature engineering parameters like adstock and lag effects based on industry best practices and your data. These represent the lingering and delayed effects of your advertising.");const le=await Iz(R,ae,L);B(le);const ue=await kz(le);z(ue),r(xe=>new Set(xe).add(Ne.DataValidation)),t(Ne.FeatureEngineering),ce("Here are my recommendations. You can adjust them based on your domain expertise. When you're ready, let me know so I can summarize the settings and we can proceed to modeling.","ai"),Pe(!0)}catch(le){const ue=le instanceof Error?le.message:"An unknown error occurred.";v(`Failed to get features: ${ue}`),ce(`I'm sorry, I couldn't generate the features. Error: ${ue}.`)}finally{c(!1),W("")}},[ce,L,O,R]),It=M.useCallback(async(ae,le,ue)=>{c(!0),d("Updating diagnostics...");try{const xe=await _z(ae,le,ue);return _(xe),D(xe.channelDiagnostics),xe}catch(xe){const ke=xe instanceof Error?xe.message:"An unknown error occurred during EDA.";throw v(`EDA failed: ${ke}`),ce(`I'm sorry, I couldn't update the insights. Error: ${ke}.`),xe}finally{c(!1),d("")}},[ce]),dr=M.useCallback(async()=>{ce("Thank you for confirming. We are now proceeding with the data validation checks.","ai");try{const ae=await It(R,x,"");oe(!0);const le=w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"I've completed the diagnostics. Here's a quick summary:"}),w.jsxs("ul",{className:"list-disc list-inside mt-2 text-sm",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"KPI Trend:"})," ",ae.trendsSummary]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Data Quality:"})," ",ae.diagnosticsSummary]})]}),w.jsx("p",{className:"mt-2",children:"You can see the detailed charts and channel-specific diagnostics on the right. Please review and approve the channels you want to include in the model."})]});ce(le,"ai"),ce("Once you've reviewed the diagnostics and approved the channels, just say 'proceed to features' to continue.","ai"),se(!0)}catch{}finally{W("")}},[ce,R,x,It]);M.useEffect(()=>{if(e===Ne.DataValidation&&Q){const ae=setTimeout(()=>{It(R,x,"")},1e3);return()=>{clearTimeout(ae)}}},[R,e,Q,x,It]);const kt=M.useCallback(async ae=>{c(!0),d("Analyzing columns..."),ce("Great! I'm now analyzing the columns to understand the data structure.");try{const le=await Oz(ae);C(le);const ue=le.reduce((Oe,rn)=>({...Oe,[rn.columnName]:rn.suggestedType}),{});N(ue);const ke=[at.DEPENDENT_VARIABLE,at.TIME_DIMENSION,at.GEO_DIMENSION,at.MARKETING_SPEND,at.MARKETING_ACTIVITY,at.CONTROL_VARIABLE,at.IGNORE].map(Oe=>({role:Oe,columns:Object.entries(ue).filter(([,rn])=>rn===Oe).map(([rn])=>rn)})).filter(Oe=>Oe.columns.length>0);ce(w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Analysis complete! I've suggested a role for each column. Here's a summary:"}),w.jsx(VZ,{summary:ke})]}),"ai"),ce("Please review the roles on the right. You can change them if needed. When you are happy with the assignments, say 'yes' to proceed.","ai"),At(!0)}catch(le){const ue=le instanceof Error?le.message:"An unknown error occurred during column analysis.";v(`Analysis failed: ${ue}`),ce(`I'm sorry, I ran into an issue. Error: ${ue}. Please check your data or API key.`),t(Ne.Welcome)}finally{c(!1)}},[ce]),ad=ae=>sM(ae,le=>{const ue={};for(const xe in le){const ke=le[xe];if(ke!==void 0){const Oe=Number(ke);ue[xe]=isNaN(Oe)||ke.trim()===""?ke:Oe}}return ue}),Ys=M.useCallback(async()=>{v(null),ce("Loading demo dataset...","user"),c(!0),d("Loading embedded dataset...");try{const ae=await FZ();if(S(ae),r(le=>new Set(le).add(Ne.Welcome)),t(Ne.DataValidation),ce("Perfect! I've loaded your dataset. Let me analyze the column structure and suggest appropriate roles for each column."),ae.length>0){const le=Object.keys(ae[0]),ue=[le.join(",")],xe=ae.slice(0,10).map(Oe=>le.map(rn=>`"${String(Oe[rn]||"").replace(/"/g,'""')}"`).join(","));ue.push(...xe);const ke=ue.join(`
`);await kt(ke)}}catch(ae){const le=ae instanceof Error?ae.message:"Failed to load demo dataset.";v(le),ce(`Sorry, I couldn't load the demo dataset. ${le}`)}finally{c(!1)}},[ce,kt]);M.useCallback(async ae=>{var ue;const le=(ue=ae.target.files)==null?void 0:ue[0];if(le){v(null),ce(`Uploading "${le.name}"...`,"user");const xe=new FileReader;xe.onload=async ke=>{var rn;const Oe=(rn=ke.target)==null?void 0:rn.result;try{const Fi=ad(Oe);S(Fi),r(Hi=>new Set(Hi).add(Ne.Welcome)),t(Ne.DataValidation),await kt(Oe)}catch(Fi){const Hi=Fi instanceof Error?Fi.message:"Unknown parsing error.";v(`Failed to parse CSV: ${Hi}`),ce(`Sorry, I couldn't parse that CSV file. Details: ${Hi}`)}},xe.onerror=()=>{v("Failed to read file."),ce("Sorry, I encountered an error reading that file.")},xe.readAsText(le)}},[ce,kt]);const od=M.useCallback(ae=>{n.has(ae)&&(t(ae),ce(`Navigating to the ${Ne[ae].replace(/([A-Z])/g," $1").trim()} step.`,"ai"))},[n,ce]),La=async ae=>{if(ae.trim()){if(ce(ae,"user"),ae.toLowerCase().includes("start over")){nd();return}if(e===Ne.Report&&ae.toLowerCase().includes("optimizer")){$i();return}if(e===Ne.Welcome&&ye&&(ae.toLowerCase().includes("load")||ae.toLowerCase().includes("demo")||ae.toLowerCase().includes("start")||ae.toLowerCase().includes("proceed"))){await Ys();return}c(!0),d("Thinking...");try{if(e===Ne.DataValidation)if(we){const le=await oc(ae);if(le==="affirmative")At(!1),await dr();else if(le==="negative")ce("No problem. Please adjust the column types on the right. Let me know when you're ready to try again.","ai");else{const ue=await as(ae,e,{},x);ce(ue,"ai"),ce("When you're ready to proceed with the column assignments, please say 'yes'.","ai")}}else if(We){const le=await oc(ae);if(le==="affirmative")await Gi();else if(le==="negative")ce("Okay, please continue to review the diagnostics and approve/exclude channels. Let me know when you are ready to proceed.","ai");else{const ue=await as(ae,e,{},x);ce(ue,"ai")}}else{const le=await as(ae,e,{},x);ce(le,"ai")}else if(e===Ne.FeatureEngineering)if(Re)if(!a.some(ue=>typeof ue.text=="string"&&ue.text.startsWith("Okay, acknowledged."))){const ue=await Lz(k,R);ce(ue,"ai"),ce("Does this look right? If so, say 'proceed to modeling'.","ai")}else await oc(ae)==="affirmative"?await id():ce("No problem. Please continue to adjust the feature parameters. Let me know when you are ready to proceed again.","ai");else{const le=await as(ae,e,{featureParams:k},x);ce(le,"ai")}else if(e===Ne.Modeling){const le=te.find(ue=>ue.id===K);if(K&&ae.toLowerCase().includes("finalize"))ce(`You'd like to finalize model ${K}. Are you sure? This will generate the final report.`,"ai"),ut(!0);else if(re)await oc(ae)==="affirmative"?js():(ut(!1),ce("Okay, finalization cancelled. You can continue to explore and calibrate the models.","ai"));else{let ue=!1;if(le&&(ue=["adstock","lag","include","exclude","remove","add back","set","change"].some(ke=>ae.toLowerCase().includes(ke))),ue&&le){ce(`Okay, applying this change to model ${K}...`,"ai");const xe=await Vz(ae,le);ce(xe.text,"ai"),$(ke=>ke.map(Oe=>Oe.id===K?xe.updatedModel:Oe))}else{const xe=await Bz(ae,te);ce(xe.text,"ai"),xe.newModel&&$(ke=>[...ke,xe.newModel]),xe.selectModelId&&(te.find(Oe=>Oe.id===xe.selectModelId)?(de(xe.selectModelId),ce(`Model ${xe.selectModelId} is now active. Its details and controls are shown on the right.`,"ai")):ce(`I couldn't find model "${xe.selectModelId}". Please check the ID and try again.`,"ai"))}}}else if(e===Ne.Optimize){if(!Ce){ce("Something went wrong. A model needs to be finalized before optimization.","ai");return}ce("Okay, let's create a custom scenario. Analyzing your request...","ai"),d("Generating new optimization scenario...");const le=await Gz(ae,Ce,F);ce(le.text,"ai");const ue=F.length+1,xe={...le.newScenario,id:`scenario_${ue}_${Date.now()}`,title:`Scenario ${ue}: ${le.newScenario.title}`};ne(ke=>[...ke,xe]),Te(xe.id)}else{const le={currentStep:Ne[e],dataSummary:x.length>0?{columns:Object.keys(x[0]||{}),rows:x.length}:"No data loaded."},ue=await as(ae,e,le,x);ce(ue,"ai")}}catch(le){const ue=le instanceof Error?le.message:"An unknown error occurred.";ce(`Sorry, I couldn't process that. Error: ${ue}`,"ai")}finally{c(!1),d(""),W("")}}},Ua=ae=>{Ot&&clearTimeout(Ot),Dt(!0),$(ue=>ue.map(xe=>xe.id===ae.id?ae:xe));const le=setTimeout(async()=>{try{const ue=await Hz(ae);$(xe=>{const ke=xe.filter(Oe=>Oe.id!==ae.id);return[ue,...ke]}),de(ue.id),ce(`Recalibration complete. The new model, **${ue.id}**, is now active and has been added to the leaderboard.`,"ai")}catch(ue){const xe=ue instanceof Error?ue.message:"An unknown error occurred.";ce(`Sorry, the recalibration failed. Error: ${xe}`,"ai"),$(ke=>ke.map(Oe=>Oe.id===ae.id&&te.find(rn=>rn.id===ae.id)||Oe))}finally{Dt(!1)}},2e3);xt(le)},Ar=()=>{switch(e){case Ne.Welcome:return w.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center max-w-2xl mx-auto",children:[w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Welcome to Marketing Mix Modeling!"}),w.jsxs("div",{className:"text-lg text-gray-700 leading-relaxed space-y-3",children:[w.jsxs("p",{children:[" ",w.jsx("strong",{children:"Ready to unlock the secrets of your marketing performance?"})]}),w.jsx("p",{children:"I'm Maya, your dedicated MMM expert, and I've got everything set up and ready to go! Your latest marketing data is already loaded, analyzed, and waiting for us to dive deep into what's really driving results across your channels."}),w.jsx("p",{children:"From understanding channel contributions to optimizing budget allocation, we're about to embark on an exciting journey of data-driven insights that will transform how you think about marketing effectiveness! "})]})]}),w.jsx("button",{onClick:Ys,disabled:s,className:"primary-button text-lg px-8 py-4 inline-flex items-center justify-center",children:" Let's Start the Analysis!"})]}),h&&w.jsx("p",{className:"mt-4 text-red-600",role:"alert",children:h})]});case Ne.DataValidation:return w.jsx(PZ,{edaResults:T,selections:R,onSelectionsChange:N,insights:E,diagnostics:O,onDiagnosticsChange:D,isLoadingInsights:s&&p.includes("diagnostics"),parsedData:x});case Ne.FeatureEngineering:return w.jsx(DZ,{initialParams:k,onParamsChange:B,agentSummary:V});case Ne.Modeling:return w.jsx(kZ,{models:te,activeModelId:K,onSetActiveModel:de,onModelChange:Ua,onRequestFinalize:rd,isRecalibrating:Ve});case Ne.Report:return w.jsx(UZ,{model:Ce,onGoToOptimizer:$i});case Ne.Optimize:return w.jsx(qZ,{model:Ce,scenarios:F,activeScenarioId:fe,onSelectScenario:Te});default:return null}},Ba=![Ne.Welcome].includes(e);return w.jsxs("div",{className:"flex h-screen font-sans bg-[#F4F3F3] text-[#1A1628]",children:[w.jsxs("div",{className:"w-full max-w-md bg-white flex flex-col p-4 border-r border-gray-200",children:[w.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:w.jsx(GZ,{})}),w.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 custom-scrollbar",children:[a.map(ae=>w.jsx(TC,{message:ae},ae.id)),s&&w.jsx(TC,{message:{id:0,sender:"ai",text:w.jsx(da,{})}}),w.jsx("div",{ref:zi})]}),Ba&&w.jsx(r$,{value:L,onValueChange:W,onSubmit:La,placeholder:"Ask a question or give a command...",disabled:s||Ve})]}),w.jsxs("main",{className:"flex-1 flex flex-col bg-[#F4F3F3]",children:[w.jsx("div",{className:"p-6 border-b border-gray-200 bg-white",children:w.jsx(jz,{currentStep:e,completedSteps:n,onStepClick:od})}),w.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar",children:s&&!E&&e!==Ne.DataValidation&&e!==Ne.Optimize?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[w.jsx(da,{}),w.jsx("p",{className:"text-xl mt-4 text-gray-700",children:p}),w.jsx("p",{className:"text-gray-500",children:"This may take a moment."})]}):Ar()})]})]})},w1=document.getElementById("root");w1&&vI.createRoot(w1).render(w.jsx(Hr.StrictMode,{children:w.jsx(YZ,{})}));
